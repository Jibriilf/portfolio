"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[73482],{"./lib/query-manager/post/constants.js":(e,t,s)=>{s.d(t,{e:()=>r});const r={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",type:"post",status:"publish",sticky:"include",search:""}},"./lib/query-manager/schema.js":(e,t,s)=>{s.d(t,{v:()=>o,Z:()=>u});var r=s("../node_modules/deep-freeze/index.js"),n=s.n(r),a=s("../node_modules/lodash-es/cloneDeepWith.js");const i=n()({additionalProperties:!1,required:["data","options"],type:"object",properties:{data:{additionalProperties:!1,type:"object",properties:{items:{type:"object"},queries:{additionalProperties:!1,type:"object",patternProperties:{"^\\[.*\\]$":{required:["itemKeys"],type:"object",properties:{itemKeys:{type:"array",items:{type:["integer","null","string"]}},found:{type:"integer"}}}}}}},options:{additionalProperties:!0,required:["itemKey"],type:"object",properties:{itemKey:{type:"string"}}}}});function o(e){return(0,a.Z)(i,(t=>{if(t===i.properties.data.properties.items)return e}))}const u=i},"./state/admin-menu/actions/index.js":(e,t,s)=>{s.d(t,{u:()=>n,w:()=>a});s("./state/admin-menu/init.js"),s("./state/data-layer/wpcom/sites/admin-menu/index.js");var r=s("./state/action-types.ts");const n=function(e){return{type:r.ObT,siteId:e}},a=function(e,t){return{type:r.N6b,siteId:e,menu:t}}},"./state/admin-menu/init.js":(e,t,s)=>{var r=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),i=s("./state/utils/schema-utils.js"),o=s("./state/utils/keyed-reducer.ts"),u=s("./state/utils/with-persistence.ts"),d=s("./state/utils/reducer-utils.ts");s("./state/data-layer/wpcom/sites/admin-menu/index.js");const c={slug:{type:"string"},title:{type:"string"},type:{type:"string"},url:{type:"string"},badge:{type:"string"}},l={type:"object",patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["type"],properties:{...c,icon:{type:"string"},children:{type:"array",items:{type:"object",required:["type","parent"],properties:{...c,parent:{type:"string"}}}}}},additionalProperties:!1}}},p=(0,i.G)(l,(0,o.J)("siteId",(0,u.$)(((e=[],t)=>t.type===a.N6b?t.menu:e)))),m=(0,d.U)({menus:p,requesting:(e=!1,t)=>{switch(t.type){case a.ObT:case a.N6b:return t.type===a.ObT}return e}}),f=(0,n.xi)("adminMenu",m);(0,r.x)(["adminMenu"],f)},"./state/admin-menu/selectors/index.js":(e,t,s)=>{s.d(t,{Z:()=>r,a:()=>n});s("./state/admin-menu/init.js");function r(e,t){const s=e?.adminMenu?.menus;return s&&t&&e.adminMenu.menus[t]||null}function n(e){const t=e?.adminMenu?.requesting;return t?e.adminMenu.requesting:null}},"./state/data-layer/wpcom/sites/admin-menu/index.js":(e,t,s)=>{var r=s("./lib/url/add-query-args.ts"),n=s("./state/action-types.ts"),a=s("./state/admin-menu/actions/index.js"),i=s("./state/data-layer/handler-registry.js"),o=s("./state/data-layer/wpcom-http/actions.js"),u=s("./state/data-layer/wpcom-http/utils.js"),d=s("./state/sites/selectors/get-site-admin-url.js");const c=(e,t)=>{const s=new RegExp("^/").test(e),n=new RegExp(`^${t?.replace(/^https?:\/\//,"")}`).test(e?.replace(/^https?:\/\//,""));return n&&(e=(0,r.Z)({return:document.location.href},e)),s||n?e:""},l=(e,t)=>{if(!e)return e;let s;return Array.isArray(e.children)&&(s=e.children.map((e=>l(e,t)))),{...e,url:c(e.url,t),...s?{children:s}:{}}};(0,i.Z9)("state/data-layer/wpcom/admin-menu/index.js",{[n.ObT]:[(0,u.BN)({fetch:e=>(0,o.d)({method:"GET",path:`/sites/${e.siteId}/admin-menu/`,apiNamespace:"wpcom/v2"},e),onSuccess:({siteId:e},t)=>(s,r)=>{if(!Array.isArray(t))return s((0,a.w)(e,t));const n=(0,d.Z)(r(),e);return s((0,a.w)(e,t.map((e=>l(e,n)))))},onError:()=>null})]})},"./state/editor/image-editor/constants.js":(e,t,s)=>{s.d(t,{Pr:()=>r,V3:()=>n,WC:()=>a});const r={FREE:"FREE",ORIGINAL:"ORIGINAL",ASPECT_1X1:"ASPECT_1X1",ASPECT_16X9:"ASPECT_16X9",ASPECT_4X3:"ASPECT_4X3",ASPECT_3X2:"ASPECT_3X2"},n={WIDTH:50,HEIGHT:50},a=Object.values(r)},"./state/editor/image-editor/reducer.js":(e,t,s)=>{s.d(t,{Rc:()=>d,ZP:()=>c});var r=s("./state/action-types.ts"),n=s("./state/utils/reducer-utils.ts"),a=s("./state/editor/image-editor/constants.js");const i={degrees:0,scaleX:1,scaleY:1},o={src:"",fileName:"default",mimeType:"image/png",title:"default"},u={topBound:0,leftBound:0,bottomBound:100,rightBound:100},d={topRatio:0,leftRatio:0,widthRatio:1,heightRatio:1};const c=(0,n.U)({hasChanges:function(e=!1,t){switch(t.type){case r.R3q:case r.Rev:case r.KM:case r.DEG:return!0;case r.uGF:case r.WfO:return!1;case r.URu:case r.r8n:return e}return e},fileInfo:function(e=o,t){switch(t.type){case r.upe:{const{src:s,fileName:r,mimeType:n,title:a}=t;return{...e,src:s,fileName:r,mimeType:n,title:a}}case r.WfO:return{...e,...o}}return e},transform:function(e=i,t){switch(t.type){case r.KM:return Object.assign({},e,{degrees:(e.degrees-90)%360});case r.DEG:return Object.assign({},e,{scaleX:-e.scaleX});case r.uGF:case r.WfO:return Object.assign({},i)}return e},cropBounds:function(e=u,t){return t.type===r.qoL?Object.assign({},e,{topBound:t.topBound,leftBound:t.leftBound,bottomBound:t.bottomBound,rightBound:t.rightBound}):e},crop:function(e=d,t){switch(t.type){case r.Rev:case r.r8n:return Object.assign({},e,{topRatio:t.topRatio,leftRatio:t.leftRatio,widthRatio:t.widthRatio,heightRatio:t.heightRatio});case r.KM:return{topRatio:1-e.widthRatio-e.leftRatio,leftRatio:e.topRatio,widthRatio:e.heightRatio,heightRatio:e.widthRatio};case r.DEG:return Object.assign({},e,{leftRatio:1-e.widthRatio-e.leftRatio});case r.uGF:case r.WfO:return Object.assign({},d)}return e},aspectRatio:function(e=a.Pr.FREE,t){switch(t.type){case r.R3q:case r.URu:return t.ratio;case r.uGF:case r.WfO:{const{additionalData:e={}}=t,{aspectRatio:s}=e;return s&&a.Pr[s]?s:a.Pr.FREE}}return e},originalAspectRatio:(e=null,t)=>{switch(t.type){case r.Rb3:{const{width:e,height:s}=t;return{width:e,height:s}}case r.WfO:return null}return e},imageIsLoading:function(e=!0,t){switch(t.type){case r.Rb3:return!1;case r.WfO:return!0}return e}})},"./state/editor/init.js":(e,t,s)=>{var r=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),a=s("./state/action-types.ts"),i=s("./state/utils/reducer-utils.ts"),o=s("./state/editor/image-editor/reducer.js");const u=(0,i.U)({siteId:function(e=null,t){return t.type===a.ddE?t.siteId:e},postId:function(e=null,t){return t.type===a.ddE?t.postId:e}}),d=(0,i.U)({showError:(e,{type:t})=>t===a.nq_,uploadProgress:(e=null,{type:t,percentage:s})=>a.zSg===t?s:a.htm===t?null:e,url:(e=null,{type:t,posterUrl:s})=>a.htm===t?s:e});const c=(0,i.U)({postId:function(e=null,t){switch(t.type){case a.gQI:return t.postId;case a.cnn:return null;case a.hZH:return e===t.postId?t.savedPost.ID:e}return e},isIframeLoaded:function(e=!1,t){if(t.type===a.rQz){const s=t.isIframeLoaded;return void 0!==s?s:e}return e},iframePort:(e=null,t)=>{if(t.type===a.rQz){return t.isIframeLoaded&&t.iframePort?t.iframePort:null}return e},imageEditor:o.ZP,videoEditor:d,lastDraft:u}),l=(0,n.xi)("editor",c);(0,r.x)(["editor"],l)},"./state/editor/selectors.js":(e,t,s)=>{s.d(t,{BN:()=>d,To:()=>c,D9:()=>l,$E:()=>p,n5:()=>m,cX:()=>f,Nw:()=>y});var r=s("../node_modules/lodash-es/get.js"),n=s("./lib/url/add-query-args.ts"),a=s("./state/posts/selectors/get-edited-post.js"),i=s("./state/preferences/selectors.js"),o=s("./state/selectors/get-editor-url.js"),u=s("./state/sites/selectors/get-site-slug.js");s("./state/editor/init.js");function d(e){return e.editor.postId}function c(e){return!d(e)}function l(e,t,s,r="post"){return(0,n.Z)({"jetpack-copy":s},(0,o.Z)(e,t,null,r))}function p(e,t,s,n="post"){if(!t)return"post";const i=(0,a.P)(e,t,s);let o=function(e,t,s="post"){let r;switch(s){case"post":r="/post";break;case"page":r="/page";break;default:r=`/edit/${s}`}const n=(0,u.Z)(e,t);return r+=n?`/${n}`:`/${t}`,r}(e,t,(0,r.Z)(i,"type",n));return s&&(o+=`/${s}`),o}function m(e,t){return-1===(0,i.Oz)(e,"editorConfirmationDisabledSites").indexOf(t)}function f(e){return e.editor.isIframeLoaded}function y(e){return e.editor.iframePort}},"./state/posts/constants.js":(e,t,s)=>{s.d(t,{e:()=>r,h:()=>n});const r={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",type:"post",status:"publish",sticky:"include",search:""},n=["publish","draft","pending","private","future","trash"]},"./state/posts/init.js":(e,t,s)=>{var r=s("./state/redux-store.ts"),n=s("../node_modules/lodash-es/reduce.js"),a=s("../node_modules/lodash-es/findKey.js"),i=s("../node_modules/lodash-es/omit.js"),o=s("../node_modules/lodash-es/mapValues.js"),u=s("../node_modules/lodash-es/get.js"),d=s("../node_modules/lodash-es/merge.js"),c=s("../node_modules/lodash-es/omitBy.js"),l=s("../node_modules/lodash-es/isEqual.js"),p=s("../node_modules/lodash-es/isEmpty.js"),m=s("../node_modules/lodash-es/set.js"),f=s("../node_modules/lodash-es/mapKeys.js"),y=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),h=s("../node_modules/lodash-es/includes.js"),g=s("../node_modules/lodash-es/some.js"),j=s("../node_modules/moment/moment.js"),I=s.n(j),Z=s("./lib/query-manager/paginated/index.js"),b=s("./lib/query-manager/post/constants.js"),_=s("./lib/query-manager/paginated/key.js");function v(e,t){return null==e||b.e[t]===e}class k extends _.Z{static stringify(e){return super.stringify((0,c.Z)(e,v))}static parse(e){return(0,c.Z)(super.parse(e),v)}}class D extends Z.Z{static matches(e,t){const s=Object.assign({},this.DefaultQuery,e);return Object.entries(s).every((([e,s])=>{switch(e){case"search":{if(!s)return!0;const e=s.toLowerCase();return t.title&&(0,h.Z)(t.title.toLowerCase(),e)||t.content&&(0,h.Z)(t.content.toLowerCase(),e)}case"after":case"before":case"modified_after":case"modified_before":{const r=I()(s,I().ISO_8601),n=/after$/.test(e)?"isAfter":"isBefore",a=/^modified_/.test(e)?"modified":"date";return r.isValid()&&I()(t[a])[n](r)}case"term":return Object.entries(s).every((([e,s])=>(s=s.split(","),(0,g.Z)(t.terms[e],(({slug:e})=>(0,h.Z)(s,e))))));case"tag":case"category":{if(!s)return!0;const r=s.toLowerCase(),n="tag"===e?"tags":"categories";return(0,g.Z)(t[n],(({name:e,slug:t})=>e&&e.toLowerCase()===r||t&&t.toLowerCase()===r))}case"type":return"any"===s||s===t.type;case"parent_id":return s===t.parent||t.parent&&s===t.parent.ID;case"exclude":return Array.isArray(s)?!(0,h.Z)(s,t.ID):s!==t.ID;case"sticky":return"require"===s?t.sticky:"exclude"!==s||!t.sticky;case"author":return(0,u.Z)(t,"author.ID",t.author)===s;case"status":return"any"===s||String(s).split(",").some((s=>s===t[e]))}return!0}))}static compare(e,t,s){let r;switch(e.order_by){case"ID":r=t.ID-s.ID;break;case"comment_count":r=(0,u.Z)(t.discussion,"comment_count",0)-(0,u.Z)(s.discussion,"comment_count",0);break;case"title":r=t.title.localeCompare(s.title);break;case"modified":r=new Date(t.modified)-new Date(s.modified);break;default:r=new Date(t.date)-new Date(s.date)}return e.order&&!/^desc$/i.test(e.order)||(r*=-1),r||0}}(0,y.Z)(D,"QueryKey",k),(0,y.Z)(D,"DefaultQuery",b.e);var w=s("./lib/query-manager/with-query-manager.js"),P=s("./state/action-types.ts");var R=s("./state/utils/schema-utils.js"),E=s("./state/utils/with-persistence.ts"),O=s("./state/utils/reducer-utils.ts"),q=s("../node_modules/lodash-es/pick.js");const L={type:"object",patternProperties:{"^[0-9]+$":{type:"object",patternProperties:{"^[\\w-]+$":{type:"object",patternProperties:{"^(all|mine)$":{type:"object",patternProperties:{"^\\w+$":{type:"integer"}},additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1};const x=(()=>{let e,t={};function s(e,t){return[e,t].join()}function r(r,n,a,o){const c=s(n,a),l=t[c];if(!l)return r;const p=["all"];l.authorId===e&&p.push("mine");const m=p.reduce(((e,t)=>{const s=(0,u.Z)(r,[n,l.type,t],{});return e[t]={},e[t][l.status]=Math.max((s[l.status]||0)-1,0),"deleted"!==o&&(e[t][o]=(s[o]||0)+1),e}),{});return"deleted"===o?t=(0,i.Z)(t,c):l.status=o,(0,d.Z)(m,{all:{},mine:{}}),(0,d.Z)({},r,{[n]:{[l.type]:m}})}return(0,R.G)(L,((n={},a)=>{switch(a.type){case P.Rp6:return e=void 0,t={},n;case P.uBM:return e=a.user.ID,n;case P.hYA:return a.posts.forEach((e=>{const a=s(e.site_ID,e.ID),i=t[a];i&&e.status!==i.status&&(n=r(n,e.site_ID,e.ID,e.status)),t[a]=(0,q.Z)(e,"type","status"),t[a].authorId=(0,u.Z)(e.author,"ID")})),n;case P.CNw:{const{siteId:e,postId:t,post:s}=a;return s.status?r(n,e,t,s.status):n}case P.LbL:return r(n,a.siteId,a.postId,"deleted");case P.C6k:return(0,d.Z)({},n,{[a.siteId]:{[a.postType]:a.counts}})}return n}))})(),A=(0,O.U)({requesting:function(e={},t){switch(t.type){case P.T3s:case P.h2B:case P.X5K:return(0,d.Z)({},e,{[t.siteId]:{[t.postType]:P.T3s===t.type}})}return e},counts:x});var $=s("./state/utils/keyed-reducer.ts");const N=(0,R.G)({type:"object",additionalProperties:!1,required:["iLike","found"],properties:{likes:{type:"array",description:"List of post likes"},iLike:{type:"boolean",description:"Whether the current authenticated user likes the post or not"},found:{type:"number",description:"The total of post likes"},lastUpdated:{type:"number",description:"When we last updated the liker info"}}},((e={likes:void 0,iLike:!1,found:0,lastUpdated:void 0},t)=>{switch(t.type){case P.AVO:{const{likes:s,iLike:r,found:n}=t;return{likes:Array.isArray(s)?s.map((e=>({ID:e.ID,avatar_URL:e.avatar_URL,login:e.login,name:e.name,site_ID:e.site_ID,site_visible:e.site_visible}))):e.likes,iLike:r,found:n,lastUpdated:Date.now()}}case P.RFP:return e.iLike?e:{likes:e.likes,iLike:!0,found:e.found+1,lastUpdated:e.lastUpdated};case P.vP0:return e.iLike?{likes:e.likes,iLike:!1,found:Math.max(0,e.found-1),lastUpdated:e.lastUpdated}:e;case P.rgA:{const{likeCount:s,liker:r}=t,n=(0,g.Z)(e.likes,(e=>e.ID===r.ID));if(e.found===s&&n)return e;let a=e.likes;return n||(a=[r,...e.likes||[]]),{likes:a,iLike:e.iLike,found:s,lastUpdated:e.lastUpdated}}case P.a7F:{const{likeCount:s,liker:r}=t,n=(0,g.Z)(e.likes,(e=>e.ID===r.ID));if(e.found===s&&!n)return e;let a=e.likes;return n&&(a=e.likes.filter((e=>r.ID!==e.ID))),{likes:a,iLike:e.iLike,found:s,lastUpdated:e.lastUpdated}}}return e})),T=(0,$.J)("siteId",(0,$.J)("postId",N)),C=(0,O.U)({items:T});var U=s("../node_modules/lodash-es/filter.js"),B=s("../node_modules/lodash-es/keyBy.js");const G=(0,O.U)({items:function(e={},t){return t.type===P.R$r?(0,n.Z)(t.users,((t,s)=>(t===e&&(t={...e}),t[s.ID]=s,t)),e):e}});const S=(0,O.U)({diffs:function(e={},{diffs:t,postId:s,revisions:r,siteId:n,type:a}){if(a!==P.vIA)return e;if(!Number.isInteger(n)||n<=0)return e;const o=(0,u.Z)(e,[n,s],{}),d={...(0,u.Z)(o,"revisions",{}),...r},c=(0,U.Z)(t,(({diff:e,from:t,to:s})=>!(!Number.isInteger(t)||t<0)&&(!(!Number.isInteger(s)||s<1)&&((0===t||!(0,p.Z)(d[t]))&&(!(0,p.Z)(d[s])&&!(0,p.Z)(e))))));return(0,p.Z)(c)?e:{...e,[n]:{...e[n],[s]:{...{...(0,i.Z)(o,"revisions"),...(0,B.Z)(c,(e=>`${e.from}:${e.to}`))},revisions:d}}}},selection:function(e={},t){switch(t.type){case P.N__:return{...e,revisionId:t.revisionId};case P.oD3:case P.bgv:return{...e,revisionId:null};default:return e}},ui:function(e={},t){switch(t.type){case P.NYz:return{...e,isDialogVisible:!1};case P.gpX:return{...e,isDialogVisible:!0};case P.Se1:return{...e,diffView:"split"};case P.bE0:return{...e,diffView:"unified"};default:return e}},authors:G});var M=s("./lib/query-manager/schema.js");const W={type:"object",patternProperties:{"^\\d+$":M.Z},additionalProperties:!1};var z=s("./state/posts/utils/get-serialized-posts-query.js"),X=s("../node_modules/lodash-es/cloneDeep.js"),F=s("../node_modules/lodash-es/map.js");const K=(e,t)=>{if(t.length>1){const[,...s]=t;K(e[t[0]],s)}else e&&e.hasOwnProperty(t[0])&&delete e[t[0]]};function V(e){const t=(0,X.Z)(e);return(0,n.Z)([[],...(0,n.Z)(e.terms,((e,t,s)=>e.concat((0,F.Z)(t,((e,t)=>["terms",s,t])))),[]),...(0,F.Z)(e.categories,((e,t)=>["categories",t])),...(0,F.Z)(e.tags,((e,t)=>["tags",t])),...(0,F.Z)(e.attachments,((e,t)=>["attachments",t]))],((e,t)=>(K(e,t.concat("meta","links")),e)),t)}var Q=s("./state/posts/utils/merge-post-edits.js");var H=s("../node_modules/lodash-es/isPlainObject.js"),Y=s("../node_modules/lodash-es/xor.js");var J=s("../node_modules/lodash-es/find.js");function ee(e,t){return(0,U.Z)(e,(e=>function(e,t){const s=(0,J.Z)(t,{key:e.key});return"update"===e.operation?!s||s.value!==e.value:"delete"===e.operation&&!!s}(e,t)))}var te=s("../node_modules/lodash-es/last.js");const se=(0,R.G)({type:"object",patternProperties:{"^\\w+$":{type:"array",items:{type:"number"},minItems:2,maxItems:2}},additionalProperties:!1},((e={},t)=>{switch(t.type){case P.hYA:return(0,n.Z)(t.posts,((t,s)=>{const{site_ID:r,ID:n,global_ID:a}=s;return t[a]||(t===e&&(t={...t}),t[a]=[r,n]),t}),e);case P.kNW:{const s=(0,a.Z)(e,(([e,s])=>e===t.siteId&&s===t.postId));return s?(0,i.Z)(e,s):e}}return e}));const re=(0,R.G)(W,(0,E.$)(((e={},t)=>{switch(t.type){case P.A4M:{const{siteId:s,query:r,posts:n,found:a}=t;if(!s)return e;const i=n.map(V);return(0,w.Z)(e,s,(e=>e.receive(i,{query:r,found:a})),(()=>new D))}case P.hYA:{const{posts:s}=t,r=(0,n.Z)(s,((e,t)=>Object.assign(e,{[t.site_ID]:[...e[t.site_ID]||[],V(t)]})),{});return(0,n.Z)(r,((e,t,s)=>(0,w.Z)(e,s,(e=>e.receive(t)),(()=>new D))),e)}case P.F1Z:{const{siteId:s,postId:r}=t;return(0,w.Z)(e,s,(e=>e.receive({ID:r,status:"__RESTORE_PENDING"},{patch:!0})))}case P.JZv:{const{siteId:s,postId:r}=t;return(0,w.Z)(e,s,(e=>e.receive({ID:r,status:"trash"},{patch:!0})))}case P.CNw:{const{siteId:s,postId:r,post:n}=t;return(0,w.Z)(e,s,(e=>e.receive({ID:r,...n},{patch:!0})))}case P.LbL:{const{siteId:s,postId:r}=t;return(0,w.Z)(e,s,(e=>e.receive({ID:r,status:"__DELETE_PENDING"},{patch:!0})))}case P.xkR:{const{siteId:s,postId:r}=t;return(0,w.Z)(e,s,(e=>e.receive({ID:r,status:"trash"},{patch:!0})))}case P.kNW:{const{siteId:s,postId:r}=t;return(0,w.Z)(e,s,(e=>e.removeItem(r)))}}return e}),{serialize:e=>(0,o.Z)(e,(({data:e,options:t})=>({data:e,options:t}))),deserialize:e=>(0,o.Z)(e,(({data:e,options:t})=>new D(e,t)))}));function ne(e,t,s){return(0,a.Z)(e.data.items,(e=>e.site_ID===t&&e.ID===s))||null}const ae=(0,R.G)(M.Z,(0,E.$)(((e=new D({},{itemKey:"global_ID"}),t)=>{switch(t.type){case P.A4M:{const{siteId:s,query:r,posts:n,found:a}=t;return s?e:e.receive(n.map(V),{query:r,found:a})}case P.hYA:{const{posts:s}=t;return e.receive(s)}case P.F1Z:{const{siteId:s,postId:r}=t,n=ne(e,s,r);return e.receive({global_ID:n,status:"__RESTORE_PENDING"},{patch:!0})}case P.JZv:{const{siteId:s,postId:r}=t,n=ne(e,s,r);return e.receive({global_ID:n,status:"trash"},{patch:!0})}case P.CNw:{const{siteId:s,postId:r,post:n}=t,a=ne(e,s,r);return e.receive({global_ID:a,...n},{patch:!0})}case P.LbL:{const{siteId:s,postId:r}=t,n=ne(e,s,r);return e.receive({global_ID:n,status:"__DELETE_PENDING"},{patch:!0})}case P.xkR:{const{siteId:s,postId:r}=t,n=ne(e,s,r);return e.receive({global_ID:n,status:"trash"},{patch:!0})}case P.kNW:{const{siteId:s,postId:r}=t,n=ne(e,s,r);return e.removeItem(n)}}return e}),{serialize:({data:e,options:t})=>({data:e,options:t}),deserialize:({data:e,options:t})=>new D(e,t)}));const ie=(0,O.U)({counts:A,items:se,siteRequests:function(e={},t){switch(t.type){case P.pgH:case P.nL0:case P.Ra4:return Object.assign({},e,{[t.siteId]:Object.assign({},e[t.siteId],{[t.postId]:P.pgH===t.type})})}return e},queryRequests:function(e={},t){switch(t.type){case P.XMF:case P.A4M:case P.LEp:const s=(0,z.v)(t.query,t.siteId);return Object.assign({},e,{[s]:P.XMF===t.type})}return e},queries:re,allSitesQueries:ae,edits:function(e={},t){switch(t.type){case P.hYA:return(0,n.Z)(t.posts,((s,r)=>{let n=(0,u.Z)(s,[r.site_ID,r.ID]);if(!n)return s;if(s===e&&(s=(0,d.Z)({},e)),t.saveMarker){const e=n.indexOf(t.saveMarker);-1!==e&&(n=n.slice(e+1))}const a=(0,Q.Z)(...n);let i=null;if(a){const e=(0,c.Z)(a,((e,t)=>{switch(t){case"author":return m=e,f=r[t],(0,u.Z)(m,"ID")===(0,u.Z)(f,"ID");case"date":return c=e,p=r[t],!1===c||c&&new Date(c).getTime()===new Date(p).getTime();case"discussion":return o=e,d=r[t],Object.entries(o).every((([e,t])=>(0,u.Z)(d,[e])===t));case"featured_image":return e===function(e){if(e)return"featured_image"in e&&!/^https?:\/\//.test(e.featured_image)?e.featured_image:e.post_thumbnail?e.post_thumbnail.ID:void 0}(r);case"metadata":return!0;case"status":return a=e,i=r[t],["publish","future"].includes(a)?["publish","future"].includes(i):a===i;case"terms":return s=e,n=r[t],Object.entries(s).every((([e,t])=>{const s=Object.values(t),r=(0,H.Z)(s[0]),a=r?(0,F.Z)(s,"ID"):s,i=r?"ID":"name",o=(0,F.Z)(n[e],i);return!(0,Y.Z)(a,o).length}))}var s,n,a,i,o,d,c,p,m,f;return(0,l.Z)(r[t],e)}));if(a.metadata){const t=ee(a.metadata,r.metadata);t.length>0&&(e.metadata=t)}(0,p.Z)(e)||(i=[e])}return(0,m.Z)(s,[r.site_ID,r.ID],i)}),e);case P.oD3:{const s=t.siteId,r=t.postId||"",n=function(e,t){if((0,p.Z)(e))return[t];const s=(0,te.Z)(e);if("string"==typeof s)return[...e,t];const r=e.slice(0,-1);return r.push((0,Q.Z)(s,t)),r}((0,u.Z)(e,[s,r]),t.post);return{...e,[s]:{...e[s],[r]:n}}}case P.gQI:return Object.assign({},e,{[t.siteId]:{...e[t.siteId],[t.postId||""]:null}});case P.cnn:if(!e.hasOwnProperty(t.siteId))break;return Object.assign({},e,{[t.siteId]:(0,i.Z)(e[t.siteId],t.postId||"")});case P.hZH:{const s=t.siteId;if(""===(t.postId||"")&&t.savedPost){const r=t.savedPost.ID;e={...e,[s]:(0,f.Z)(e[s],((e,t)=>""===t?r:t))}}return e}}return e},likes:C,revisions:S});(0,r.x)(["posts"],ie)},"./state/posts/selectors/get-edited-post.js":(e,t,s)=>{s.d(t,{P:()=>b});var r=s("../packages/state-utils/src/index.ts"),n=s("../node_modules/lodash-es/get.js"),a=s("../node_modules/lodash-es/reduce.js"),i=s("../node_modules/lodash-es/isPlainObject.js"),o=s("../node_modules/lodash-es/isEmpty.js"),u=s("../node_modules/lodash-es/mapValues.js"),d=s("../node_modules/lodash-es/map.js");function c(e){return e?function(e){if(!e||!e.terms)return e;const t=(0,a.Z)(e.terms,((e,t,s)=>{const r=Object.values(t);return r&&r.length&&!(0,i.Z)(r[0])||(e[s]=r),e}),{});return(0,o.Z)(t)?e:{...e,terms_by_id:(0,u.Z)(t,(e=>{const t=(0,d.Z)(e,"ID");return t.length?t:null}))}}(e):null}var l=s("./state/posts/utils/merge-post-edits.js");s("./state/posts/init.js");const p=(0,r.P1)(((e,t,s)=>{const r=(0,n.Z)(e.posts.edits,[t,s||""]);return r?c((0,l.Z)(...r)):null}),(e=>[e.posts.edits]));var m=s("./state/posts/selectors/get-site-post.js"),f=s("../node_modules/lodash-es/find.js"),y=s("../node_modules/lodash-es/concat.js"),h=s("../node_modules/lodash-es/reject.js"),g=s("../node_modules/lodash-es/mergeWith.js"),j=s("../node_modules/lodash-es/cloneDeep.js");function I(e,t){switch(t.operation){case"update":{const{key:s,value:r}=t;return(0,f.Z)(e,{key:s})?(0,d.Z)(e,(e=>e.key===s?{key:s,value:r}:e)):(0,y.Z)(e||[],{key:s,value:r})}case"delete":{const{key:s}=t;return(0,f.Z)(e,{key:s})?(0,h.Z)(e,{key:s}):e}}return e}function Z(e,t){return(0,g.Z)((0,j.Z)(e),t,((e,t,s,r,n,i)=>"metadata"===s&&0===i.size?function(e,t){return(0,a.Z)(t,I,e)}(e,t):Array.isArray(t)?t:void 0))}const b=(0,r.P1)(((e,t,s)=>{const r=(0,m.i)(e,t,s),n=p(e,t,s);return n?Z(r,n):r}),(e=>[e.posts.queries,e.posts.edits]))},"./state/posts/selectors/get-site-post.js":(e,t,s)=>{s.d(t,{i:()=>n});var r=s("../packages/state-utils/src/index.ts");s("./state/posts/init.js");const n=(0,r.P1)(((e,t,s)=>{if(!t)return null;const r=e.posts.queries[t];return r?r.getItem(s):null}),(e=>e.posts.queries))},"./state/posts/utils/get-normalized-posts-query.js":(e,t,s)=>{s.d(t,{B:()=>a});var r=s("../node_modules/lodash-es/omitBy.js"),n=s("./state/posts/constants.js");function a(e){return(0,r.Z)(e,((e,t)=>n.e[t]===e))}},"./state/posts/utils/get-serialized-posts-query.js":(e,t,s)=>{s.d(t,{v:()=>n});var r=s("./state/posts/utils/get-normalized-posts-query.js");function n(e={},t){const s=(0,r.B)(e),n=JSON.stringify(s);return t?[t,n].join(":"):n}},"./state/posts/utils/merge-post-edits.js":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/lodash-es/reject.js"),n=s("../node_modules/lodash-es/find.js"),a=s("../node_modules/lodash-es/concat.js"),i=s("../node_modules/lodash-es/reduce.js"),o=s("../node_modules/lodash-es/mergeWith.js"),u=s("../node_modules/lodash-es/cloneDeep.js");const d=(...e)=>(0,i.Z)(e,((e,t)=>"string"==typeof t?e:null===e?t:(0,o.Z)((0,u.Z)(e),t,((e,t,s,i,o,u)=>"metadata"===s&&0===u.size?function(e,t){const s=(0,r.Z)(e,(e=>(0,n.Z)(t,{key:e.key})));return(0,a.Z)(s,t)}(e,t):Array.isArray(t)?t:void 0))),null)},"./state/selectors/get-editor-url.js":(e,t,s)=>{s.d(t,{y:()=>c,Z:()=>l});var r=s("./lib/url/add-query-args.ts"),n=s("./state/editor/selectors.js"),a=s("./state/selectors/is-vip-site.js"),i=s("./state/selectors/should-calypsoify-jetpack.js"),o=s("./state/selectors/should-load-gutenframe.js"),u=s("./state/sites/selectors/get-site-admin-url.js"),d=s("./state/sites/selectors/get-site-slug.js");const c=(e,t,s=null,c="post")=>{if(!(0,o.Z)(e,t,c)){const n=(0,u.Z)(e,t);let o=`${n}post-new.php?post_type=${c}`;return s&&(o=`${n}post.php?post=${s}&action=edit`),!(0,a.Z)(e,t)&&(0,i.P)(e,t)&&(o=(0,r.Z)({calypsoify:"1"},o)),o}if(s)return(0,n.$E)(e,t,s,c);const l=(0,d.Z)(e,t);return"post"===c||"page"===c?`/${c}/${l}`:`/edit/${c}/${l}`},l=c},"./state/selectors/should-calypsoify-jetpack.js":(e,t,s)=>{s.d(t,{P:()=>i,Z:()=>o});s("./state/gutenberg-iframe-eligible/init.js");var r=s("./lib/version-compare/index.js"),n=s("./state/selectors/is-site-automated-transfer.js"),a=s("./state/sites/selectors/get-site-option.js");const i=(e,t)=>{const s=(0,a.Z)(e,t,"jetpack_version");return!(s&&(0,r.Z)(s,"9.2-alpha",">=")&&(0,r.Z)(s,"9.2.1","<")&&!(0,n.Z)(e,t))},o=i},"./state/selectors/should-load-gutenframe.js":(e,t,s)=>{s.d(t,{Z:()=>d,F:()=>u});var r=s("../node_modules/lodash-es/get.js"),n=s("./state/selectors/should-calypsoify-jetpack.js");const a=(e,t)=>(0,n.Z)(e,t)&&(0,r.Z)(e,["gutenbergIframeEligible",t],!0);var i=s("./state/admin-menu/selectors/index.js"),o=s("./state/selectors/is-nav-unification-enabled.js");const u=(e,t,s="post")=>a(e,t)&&"default"===((e,t,s="post")=>{if(!(0,o.Z)(e))return"default";const r=(0,i.Z)(e,t);if(!r)return"default";let n="edit-php";"post"!==s&&(n+=`post_type${s}`);const a=r.find((e=>e.slug===n));return a&&a.url.includes("wp-admin/edit.php")?"classic":"default"})(e,t,s),d=u},"./state/sites/selectors/get-site-admin-url.js":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("./state/sites/selectors/get-site-option.js");function n(e,t,s=""){const n=(0,r.Z)(e,t,"admin_url");return n?n+s.replace(/^\//,""):null}}}]);