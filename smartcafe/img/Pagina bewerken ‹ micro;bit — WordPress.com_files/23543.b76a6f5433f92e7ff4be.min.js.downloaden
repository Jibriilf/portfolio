"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[23543],{"./blocks/site-icon/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>_});var i=s("../packages/components/src/gridicon/index.tsx"),n=s("../node_modules/classnames/index.js"),r=s.n(n),a=s("../node_modules/lodash-es/get.js"),o=(s("../node_modules/prop-types/index.js"),s("../node_modules/react/index.js")),c=s("../node_modules/react-redux/es/index.js"),d=s("./components/data/query-sites/index.jsx"),l=s("./components/image/index.js"),m=s("./components/spinner/index.jsx"),u=s("./lib/resize-image-url/index.js"),p=s("./my-sites/media-library/media-image.tsx"),g=s("./state/selectors/get-site-icon-id.js"),f=s("./state/selectors/get-site-icon-url.js"),I=s("./state/selectors/get-media-item.js");function x(e,t,s){return!!(0,a.Z)((0,I.Z)(e,t,s),"transient")}var E=s("./state/sites/selectors/get-site.js");function v({siteId:e,site:t,iconUrl:s,size:n,imgSize:a,isTransientIcon:c}){const g=(0,u.Z)(s,a),f=r()("site-icon",{"is-blank":!g,"is-transient":c}),I={height:n,width:n,lineHeight:n+"px",fontSize:n+"px"};return o.createElement("div",{className:f,style:I},!t&&e>0&&o.createElement(d.Z,{siteId:e}),g?o.createElement(p.Z,{component:l.Z,className:"site-icon__img",src:g,alt:""}):o.createElement(i.Z,{icon:"globe",size:Math.round(n/1.8)}),c&&o.createElement(m.Z,null))}v.defaultProps={imgSize:120,size:32};const _=(0,c.$j)(((e,{site:t,siteId:s,imgSize:i})=>{const n=(0,E.Z)(e,(0,a.Z)(t,"ID",s));if(!n)return{iconUrl:(0,a.Z)(t,"icon.img")};const r=(0,g.Z)(e,n.ID);return{site:n,iconUrl:(0,f.Z)(e,n.ID,i),isTransientIcon:x(e,n.ID,r)}}))(v)},"./components/image-preloader/index.tsx":(e,t,s)=>{s.d(t,{Z:()=>o});var i,n=s("../node_modules/@babel/runtime/helpers/esm/extends.js"),r=s("../node_modules/react/index.js");!function(e){e[e.PENDING=0]="PENDING",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.FAILED=3]="FAILED"}(i||(i={}));const a=()=>{};function o(e){const{children:t,src:s,placeholder:o,onLoad:c,onError:d,...l}=e,[m,u]=(0,r.useState)(i.PENDING),p=(0,r.useRef)(null),g=(0,r.useRef)(c),f=(0,r.useRef)(d);let I;switch((0,r.useEffect)((()=>{g.current=c,f.current=d}),[d,c]),(0,r.useEffect)((()=>{if(u(i.LOADING),s)return p.current=new Image,p.current.src=s,p.current.onload=t,p.current.onerror=t,e;function e(){p.current&&(p.current.onload=a,p.current.onerror=a,p.current=null)}function t(t){if(e(),!t||"load"!==t.type)return u(i.FAILED),void(f.current&&f.current(t));u(i.LOADED),g.current&&g.current(t)}}),[s]),m){case i.LOADING:I=o;break;case i.LOADED:I=r.createElement("img",(0,n.default)({src:s},l));break;case i.FAILED:I=t}return r.createElement("div",{className:"image-preloader"},I)}},"./components/image/index.js":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=s("../node_modules/classnames/index.js"),a=s.n(r),o=s("../node_modules/react/index.js");class c extends o.Component{constructor(...e){super(...e),(0,n.Z)(this,"state",{isError:!1}),(0,n.Z)(this,"handleError",(()=>{this.setState({isError:!0})}))}UNSAFE_componentWillReceiveProps(e){e.src!==this.props.src&&this.setState({isError:!1})}render(){const{className:e,...t}=this.props,s=a()(e,{image:!0,"is-error":this.state.isError});return o.createElement("img",(0,i.default)({onError:this.handleError,className:s},t))}}(0,n.Z)(c,"defaultProps",{className:""})},"./lib/media/constants.js":(e,t,s)=>{s.d(t,{qf:()=>i,No:()=>n,NC:()=>r,JW:()=>a,IG:()=>o,n2:()=>c,VS:()=>d,Ys:()=>l,$o:()=>m,Dn:()=>u,Qs:()=>p});const i={FILE_TYPE_UNSUPPORTED:"FILE_TYPE_UNSUPPORTED",FILE_TYPE_NOT_IN_PLAN:"FILE_TYPE_NOT_IN_PLAN",SERVER_ERROR:"SERVER_ERROR",UPLOAD_VIA_URL_404:"UPLOAD_VIA_URL_404",EXCEEDS_MAX_UPLOAD_SIZE:"EXCEEDS_MAX_UPLOAD_SIZE",EXCEEDS_PLAN_STORAGE_LIMIT:"EXCEEDS_PLAN_STORAGE_LIMIT",NOT_ENOUGH_SPACE:"NOT_ENOUGH_SPACE",SERVICE_FAILED:"SERVICE_FAILED",SERVICE_UNAVAILABLE:"SERVICE_UNAVAILABLE",SERVICE_AUTH_FAILED:"SERVICE_AUTH_FAILED"},n={thumbnail:{width:150,height:150},medium:{width:300,height:300},large:{width:1024,height:1024}},r=["ogv","mp4","m4v","mov","wmv","avi","mpg","3gp","3g2"],a=["default","circle","square"],o=["default"],c={items:[],type:"default",columns:3,orderBy:"menu_order",link:"",size:"thumbnail"},d={jpg:"image/jpeg",jpeg:"image/jpeg",jpe:"image/jpeg",gif:"image/gif",png:"image/png",bmp:"image/bmp",tif:"image/tiff",tiff:"image/tiff",ico:"image/x-icon",asf:"video/x-ms-asf",asx:"video/x-ms-asf",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wm:"video/x-ms-wm",avi:"video/avi",divx:"video/divx",flv:"video/x-flv",mov:"video/quicktime",qt:"video/quicktime",mpeg:"video/mpeg",mpg:"video/mpeg",mpe:"video/mpeg",mp4:"video/mp4",m4v:"video/mp4",ogv:"video/ogg",webm:"video/webm",mkv:"video/x-matroska",txt:"text/plain",asc:"text/plain",c:"text/plain",cc:"text/plain",h:"text/plain",csv:"text/csv",tsv:"text/tab-separated-values",ics:"text/calendar",rtx:"text/richtext",css:"text/css",htm:"text/html",html:"text/html",mp3:"audio/mpeg",m4a:"audio/mpeg",m4b:"audio/mpeg",ra:"audio/x-realaudio",ram:"audio/x-realaudio",wav:"audio/wav",ogg:"audio/ogg",oga:"audio/ogg",mid:"audio/midi",midi:"audio/midi",wma:"audio/x-ms-wma",wax:"audio/x-ms-wax",mka:"audio/x-matroska",rtf:"application/rtf",js:"application/javascript",pdf:"application/pdf",swf:"application/x-shockwave-flash",class:"application/java",tar:"application/x-tar",zip:"application/zip",gz:"application/x-gzip",gzip:"application/x-gzip",rar:"application/rar","7z":"application/x-7z-compressed",exe:"application/x-msdownload",doc:"application/msword",pot:"application/vnd.ms-powerpoint",pps:"application/vnd.ms-powerpoint",ppt:"application/vnd.ms-powerpoint",wri:"application/vnd.ms-write",xla:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlt:"application/vnd.ms-excel",xlw:"application/vnd.ms-excel",mdb:"application/vnd.ms-access",mpp:"application/vnd.ms-project",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",docm:"application/vnd.ms-word.document.macroEnabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dotm:"application/vnd.ms-word.template.macroEnabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",sldm:"application/vnd.ms-powerpoint.slide.macroEnabled.12",onetoc:"application/onenote",onetoc2:"application/onenote",onetmp:"application/onenote",onepkg:"application/onenote",odt:"application/vnd.oasis.opendocument.text",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odg:"application/vnd.oasis.opendocument.graphics",odc:"application/vnd.oasis.opendocument.chart",odb:"application/vnd.oasis.opendocument.database",odf:"application/vnd.oasis.opendocument.formula",wp:"application/wordperfect",wpd:"application/wordperfect",key:"application/vnd.apple.keynote",numbers:"application/vnd.apple.numbers",pages:"application/vnd.apple.pages"},l="MEDIA_IMAGE_THUMBNAIL",m="MEDIA_IMAGE_RESIZER",u=[.077,.115,.157,.24,.323],p=.323},"./lib/media/utils/media-url-to-proxy-config.js":(e,t,s)=>{s.d(t,{p:()=>n});var i=s("../packages/calypso-url/src/url-parts.ts");function n(e,t){const{pathname:s,search:n,protocol:r,hostname:a}=(0,i.A)(e);let o=s,c=!0;if(-1===["http:","https:"].indexOf(r))c=!1;else if(a!==t&&(c=!1,/^i[0-2]\.wp\.com$/.test(a))){const[e,...s]=o.substr(1).split("/");o="/"+s.join("/"),e===t&&(c=!0)}return{query:n,filePath:o,isRelativeToSiteRoot:c}}},"./lib/resize-image-url/index.js":(e,t,s)=>{s.d(t,{Z:()=>m});var i=s("../packages/calypso-url/src/url-parts.ts"),n=s("../node_modules/lodash-es/mapValues.js"),r=s("./lib/safe-image-url/index.js");const a=/^https?:$/,o="undefined"!=typeof window&&window?.devicePixelRatio>1?2:1,c=["w","h","resize","fit","s"],d={photon:/(^[is]\d\.wp\.com|(^|\.)wordpress\.com)$/,gravatar:/(^|\.)gravatar\.com$/},l=e=>e*o;function m(e,t,s,o=!0){if("string"!=typeof e)return e;const{search:u,...p}=(0,i.A)(e);if(!a.test(p.protocol))return e;if(!p.hostname)return e;c.forEach((e=>p.searchParams.delete(e)));const g=Object.keys(d).find((e=>p.hostname.match(d[e])));if("number"==typeof t&&(t="gravatar"===g?{s:t}:s>0?{fit:[t,s].join()}:{w:t}),!g&&o)return m((0,r.Z)(e),t,null,!1);const f=(0,n.Z)(t,((e,t)=>"resize"===t||"fit"===t?e.split(",").map(l).join(","):c.includes(t)?l(e):e));for(const e of Object.keys(f))p.searchParams.set(e,f[e]);return(0,i.C)(p).href}},"./my-sites/media-library/media-file.tsx":(e,t,s)=>{s.d(t,{Z:()=>v});var i=s("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=s("../node_modules/react/index.js"),r=s("../node_modules/react-redux/es/index.js"),a=s("./lib/media/utils/media-url-to-proxy-config.js"),o=s("./state/selectors/is-private-site.ts"),c=s("./state/selectors/is-site-automated-transfer.js"),d=s("./state/ui/selectors/get-selected-site-id.js"),l=s("./state/ui/selectors/get-selected-site-slug.js"),m=s("../node_modules/debug/src/browser.js"),u=s.n(m),p=s("./lib/wp/browser.js");const g=u()("calypso:my-sites:media-library:proxied-image"),f={},I=function({siteSlug:e,filePath:t,query:s,placeholder:r,maxSize:a,onError:o,component:c,...d}){const[l,m]=(0,n.useState)("");return(0,n.useEffect)((()=>{const i=`media-library-proxied-image-${e}${t}${s}`;if(f[i]){const e=URL.createObjectURL(f[i]);m(e),g("set image from cache",{url:e})}else{g("requesting image from API",{requestId:i,imageObjectUrl:l});const n={query:s};null!==a&&(n.maxSize=a),p.Z.undocumented().getAtomicSiteMediaViaProxyRetry(e,t,n).then((e=>{((e,t,s=6e4)=>{const i=Object.keys(f);i.length>100&&delete f[i[0]],f[e]=t,setTimeout((()=>{delete f[e]}),s)})(i,e),m(URL.createObjectURL(e)),g("got image from API",{requestId:i,imageObjectUrl:l,data:e})})).catch(o)}return()=>{l&&(g("Cleared blob from memory on dismount: "+l),URL.revokeObjectURL(l))}}),[e,t,s]),l?n.createElement(c,(0,i.default)({src:l},d)):r};I.defaultProps={placeholder:null};const x=I,E=function({src:e,query:t,filePath:s,siteSlug:r,useProxy:a=!1,placeholder:o=null,maxSize:c,dispatch:d,component:l,proxiedComponent:m,...u}){return a?n.createElement(x,(0,i.default)({siteSlug:r,filePath:s,query:t,component:m||l,placeholder:o,maxSize:c},u)):n.createElement(l,(0,i.default)({src:e},u))};E.defaultProps={placeholder:null,component:"img"};const v=(0,r.$j)(((e,{src:t})=>{const s=(0,d.Z)(e),i=(0,l.Z)(e),n=!!(0,c.Z)(e,s),r=!!(0,o.Z)(e,s),{filePath:m,query:u,isRelativeToSiteRoot:p}=(0,a.p)(t,i);return{query:u,siteSlug:i,useProxy:n&&r&&m&&p,filePath:m}}))(E)},"./my-sites/media-library/media-image.tsx":(e,t,s)=>{s.d(t,{Z:()=>c});var i=s("../node_modules/@babel/runtime/helpers/esm/extends.js"),n=s("../node_modules/react/index.js"),r=s("./components/image-preloader/index.tsx"),a=s("./my-sites/media-library/media-file.tsx");const o=function(e){let t=e.component;return"img"===t&&e.placeholder&&(t=r.Z),n.createElement(a.Z,(0,i.default)({},e,{component:t}))};o.defaultProps={component:"img",proxiedComponent:"img"};const c=o},"./state/media/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),r=s("../node_modules/lodash-es/pickBy.js"),a=s("../node_modules/lodash-es/mapValues.js"),o=s("../node_modules/lodash-es/without.js"),c=s("../node_modules/lodash-es/isEmpty.js"),d=s("../node_modules/lodash-es/omit.js"),l=s("../node_modules/lodash-es/merge.js"),m=s("../node_modules/lodash-es/isEqual.js"),u=s("./lib/media/constants.js");const p=function(e){return"string"==typeof e&&e.startsWith("media-")};var g=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),f=s("../node_modules/lodash-es/includes.js"),I=s("../node_modules/moment/moment.js"),x=s.n(I),E=s("./lib/query-manager/paginated/index.js");const v={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",mime_type:"",search:""};var _=s("./lib/query-manager/paginated/key.js");class h extends _.Z{}(0,g.Z)(h,"DEFAULT_QUERY",v),(0,g.Z)(h,"OMIT_NULL_VALUES",!0);class j extends E.Z{static matches(e,t){return Object.entries({...this.DefaultQuery,...e}).every((([e,s])=>{switch(e){case"search":return!s||t.title&&(0,f.Z)(t.title.toLowerCase(),s.toLowerCase());case"mime_type":return!s||new RegExp(`^${s.replace(/(^%|(\/)%?)$/,"$2.+").split("/").map((e=>e.replace(/[^-*.+a-zA-Z0-9]/g,""))).concat(".+").slice(0,2).join("/")}$`).test(t.mime_type);case"post_ID":return s===t.post_ID;case"after":case"before":{const i=x()(s,x().ISO_8601),n=/after$/.test(e)?"isAfter":"isBefore";return i.isValid()&&x()(t.date)[n](i)}}return!0}))}static compare(e,t,s){let i;switch(e.order_by){case"ID":i=t.ID-s.ID;break;case"title":i=t.title.localeCompare(s.title);break;default:i=x()(t.date).diff(s.date)}return e.order&&!/^desc$/i.test(e.order)||(i*=-1),i||0}}(0,g.Z)(j,"QueryKey",h),(0,g.Z)(j,"DefaultQuery",v);var b=s("./lib/query-manager/with-query-manager.js"),y=s("./state/action-types.ts");const w=(e,t,s)=>{const{[t]:{transientItems:i={},transientIdsToServerIds:n={}}={}}=e;return{...e,[t]:s({transientItems:i,transientIdsToServerIds:n})}};var Z=s("./state/utils/reducer-utils.ts");const A=(0,Z.U)({errors:(e={},t)=>{switch(t.type){case y.zOw:{const{siteId:s,mediaId:i,errors:n}=t;return{...e,[s]:{...e[s],[i]:n}}}case y.F1b:case y.LEq:{if(!(e=>{return e.error&&(e.siteId||(t=e.error).error&&("servicefail"===t.error||"keyring_token_error"===t.error));var t})(t))return e;const s=(Array.isArray(t.error.errors)?t.error.errors:[t.error]).map((e=>{switch(e.error){case"http_404":return u.qf.UPLOAD_VIA_URL_404;case"rest_upload_limited_space":return u.qf.NOT_ENOUGH_SPACE;case"rest_upload_file_too_big":return u.qf.EXCEEDS_MAX_UPLOAD_SIZE;case"rest_upload_user_quota_exceeded":return u.qf.EXCEEDS_PLAN_STORAGE_LIMIT;case"upload_error":return u.qf.SERVER_ERROR;case"keyring_token_error":return u.qf.SERVICE_AUTH_FAILED;case"servicefail":return u.qf.SERVICE_FAILED;case"service_unavailable":return u.qf.SERVICE_UNAVAILABLE;default:return u.qf.SERVER_ERROR}}));return{...e,[t.siteId]:{...e[t.siteId],[t?.mediaId??0]:s}}}case y.c0z:return t.siteId?{...e,[t.siteId]:(0,r.Z)((0,a.Z)(e[t.siteId],(e=>(0,o.Z)(e,t.errorType))),(e=>!(0,c.Z)(e)))}:e;case y.LEd:return t.siteId&&t.mediaId?{...e,[t.siteId]:{...(0,d.Z)(e[t.siteId],[[t.siteId],[t.mediaId]])}}:e;case y.EzY:return t.siteId?(0,d.Z)(e,t.siteId):e}return e},queries:(e={},t)=>{switch(t.type){case y.iG7:{const{siteId:s,media:i,found:n,query:r}=t;return(0,b.Z)(e,s,(e=>e.receive(i,{found:n,query:r})),(()=>new j))}case y.aqr:{const{siteId:s,mediaIds:i}=t;return(0,b.Z)(e,s,(e=>e.removeItems(i)))}case y.QdR:{const{siteId:s,mediaItem:i}=t;return(0,b.Z)(e,s,(e=>e.receive(i,{patch:!0})))}case y.EzY:case y._Ck:return t.siteId?(0,d.Z)(e,t.siteId):e}return e},selectedItems:(e={},t)=>{switch(t.type){case y.EzY:{const{siteId:s}=t;return{...e,[s]:[]}}case y.OtT:{const{media:s,siteId:i}=t;return{...e,[i]:s.map((e=>e.ID))}}case y.TuQ:{const{site:s,transientMedia:i}=t;return t.site&&t.transientMedia?{...e,[s.ID]:[...e[s.ID]??[],i.ID]}:e}case y.iG7:{const{media:s,siteId:i}=t;if(t.found||t.query)return e;const{[i]:n=[]}=e,r=s.reduce(((e,t)=>n.includes(t.ID)?e:[...e,t.ID]),[...n]);return{...e,[i]:r}}case y.l44:{const{mediaId:s,siteId:i}=t;if(!p(s))return e;const n=e[i]??[];return{...e,[i]:n.filter((e=>s!==e))}}case y.aqr:{const{mediaIds:s,siteId:i}=t;return{...e,[i]:e[i].filter((e=>!s.includes(e)))}}}return e},transientItems:(e={},t)=>{switch(t.type){case y.EzY:return w(e,t.siteId,(()=>({transientItems:{},transientIdsToServerIds:{}})));case y.TuQ:{const{site:{ID:s},transientMedia:i}=t;return w(e,s,(({transientItems:e,...t})=>({...t,transientItems:{...e,[i.ID]:i}})))}case y.iG7:{const{siteId:s,media:i}=t,n=i.filter((e=>null!=e.transientId));if(0===n.length)return e;const r=n.map((e=>e.transientId)),a=n.reduce(((e,t)=>({...e,[t.transientId]:t.ID})),{});return w(e,s,(({transientIdsToServerIds:e,transientItems:t})=>({transientIdsToServerIds:{...e,...a},transientItems:(0,d.Z)(t,r)})))}case y.F1b:{const{siteId:s,mediaId:i}=t;return w(e,s,(({transientItems:e,...t})=>({...t,transientItems:(0,d.Z)(e,i)})))}}return e},fetching:(e={},t)=>{switch(t.type){case y.sZU:{const s=t.siteId;return{...e,[s]:Object.assign({},e[s],{nextPage:!0})}}case y.P4e:case y.LEq:{const s=t.siteId;return{...e,[s]:Object.assign({},e[s],{nextPage:!1})}}case y.Jfv:{const{siteId:s,mediaRequestMeta:i}=t;return{...e,[s]:(0,l.Z)({},e[s],{nextPageHandle:i?.next_page||null})}}case y.AsP:{const{siteId:s,query:i}=t,n={...e[s],query:i};return(0,m.Z)(i,e[s]?.query)||(delete n.nextPageHandle,n.nextPage=!1),{...e,[s]:n}}}return e}}),S=(0,n.xi)("media",A);(0,i.x)(["media"],S)},"./state/selectors/get-media-item.js":(e,t,s)=>{s.d(t,{Z:()=>n});s("./state/media/init.js");var i=s("./state/selectors/get-media-query-manager.js");function n(e,t,s){const n=function(e,t,s){return e?.media?.transientItems?.[t]?.transientItems?.[s]}(e,t,s);if(null!=n)return n;const r=function(e,t,s){return e?.media?.transientItems?.[t]?.transientIdsToServerIds?.[s]}(e,t,s)??s,a=(0,i.Z)(e,t);if(!a)return null;const o=a.getItem(r)||null;return null===o?null:o.URL?o:null}},"./state/selectors/get-media-query-manager.js":(e,t,s)=>{s.d(t,{Z:()=>i});s("./state/media/init.js");function i(e,t){return e.media.queries?.[t]??null}},"./state/selectors/get-site-icon-id.js":(e,t,s)=>{s.d(t,{Z:()=>r});var i=s("./state/selectors/get-raw-site.js"),n=s("./state/site-settings/selectors.js");function r(e,t){const s=(0,i.Z)(e,t);if(s)return s.icon?.media_id??null;const r=(0,n.$1)(e,t);return r?r.site_icon:null}},"./state/selectors/get-site-icon-url.js":(e,t,s)=>{s.d(t,{Z:()=>o});var i=s("./lib/safe-image-url/index.js"),n=s("./state/selectors/get-media-item.js");var r=s("./state/selectors/get-raw-site.js"),a=s("./state/selectors/get-site-icon-id.js");function o(e,t){const s=function(e,t,s){const r=(0,n.Z)(e,t,s);return r?(0,i.Z)(r.URL):null}(e,t,(0,a.Z)(e,t));return s||((0,r.Z)(e,t)?.icon?.img??null)}},"./state/selectors/is-private-site.ts":(e,t,s)=>{s.d(t,{Z:()=>r});var i=s("./state/selectors/get-raw-site.js"),n=s("./state/site-settings/selectors.js");function r(e,t){const s=(0,i.Z)(e,t);if(s)return s.is_private;const r=(0,n.$1)(e,t);return r?-1===parseInt(r.blog_public,10):null}},"./state/site-settings/init.js":(e,t,s)=>{var i=s("./state/redux-store.ts"),n=s("../packages/state-utils/src/index.ts"),r=s("../node_modules/lodash-es/includes.js"),a=s("./state/action-types.ts"),o=s("./state/utils/schema-utils.js"),c=s("./state/utils/reducer-utils.ts");const d=(0,o.G)({type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}},((e={},t)=>{switch(t.type){case a.KBY:{const{siteId:s,settings:i}=t;return{...e,[s]:i}}case a.rZJ:{const{siteId:s,settings:i}=t;return{...e,[s]:{...e[s],...i}}}case a.aqr:{const{siteId:s,mediaIds:i}=t,n=e[s];return n&&(0,r.Z)(i,n.site_icon)?{...e,[s]:{...n,site_icon:null}}:e}}return e})),l=(0,c.U)({items:d,requesting:(e={},t)=>{switch(t.type){case a.qjt:{const{siteId:s}=t;return{...e,[s]:!0}}case a.zVc:{const{siteId:s}=t;return{...e,[s]:!1}}case a.cv:{const{siteId:s}=t;return{...e,[s]:!1}}}return e},saveRequests:(e={},t)=>{switch(t.type){case a.Y8Y:{const{siteId:s}=t;return{...e,[s]:{saving:!0,status:"pending",error:!1}}}case a.suc:{const{siteId:s}=t;return{...e,[s]:{saving:!1,status:"success",error:!1}}}case a.paJ:{const{siteId:s,error:i}=t;return{...e,[s]:{saving:!1,status:"error",error:i}}}}return e}}),m=(0,n.xi)("siteSettings",l);(0,i.x)(["siteSettings"],m)},"./state/site-settings/selectors.js":(e,t,s)=>{s.d(t,{sq:()=>n,yG:()=>r,$1:()=>a,kM:()=>o,OV:()=>c});var i=s("../node_modules/lodash-es/get.js");s("./state/site-settings/init.js");function n(e,t){return(0,i.Z)(e.siteSettings.requesting,[t],!1)}function r(e,t){return(0,i.Z)(e.siteSettings.saveRequests,[t,"saving"],!1)}function a(e,t){return(0,i.Z)(e.siteSettings.items,[t],null)}function o(e,t){return"success"===function(e,t){return(0,i.Z)(e.siteSettings.saveRequests,[t,"status"])}(e,t)}function c(e,t){return(0,i.Z)(e.siteSettings.saveRequests,[t,"error"],!1)}},"./state/ui/selectors/get-selected-site-slug.js":(e,t,s)=>{s.d(t,{Z:()=>r});var i=s("./state/sites/selectors/get-site-slug.js"),n=s("./state/ui/selectors/get-selected-site-id.js");function r(e){const t=(0,n.Z)(e);return t?(0,i.Z)(e,t):null}}}]);