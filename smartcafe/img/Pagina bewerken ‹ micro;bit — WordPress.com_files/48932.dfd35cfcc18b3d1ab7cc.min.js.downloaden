/*! For license information please see 48932.dfd35cfcc18b3d1ab7cc.min.js.LICENSE.txt */
(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[48932],{"./lib/analytics/mc.js":(e,t,n)=>{"use strict";n.d(t,{P:()=>i,S:()=>a});var s=n("../packages/calypso-config/src/index.ts"),o=n("../node_modules/debug/src/browser.js");const r=n.n(o)()("calypso:analytics:mc");function i(e,t){if("object"==typeof e?r("Bumping stats %o",e):r("Bumping stat %s:%s",e,t),"undefined"!=typeof window&&(0,s.ZP)("mc_analytics_enabled")){const n=function(e,t){let n="";if("object"==typeof e)for(const t in e)n+="&x_"+encodeURIComponent(t)+"="+encodeURIComponent(e[t]);else n="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t);return n}(e,t);(new window.Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+n+"&t="+Math.random()}}function a(e,t){if("object"==typeof e?r("Bumping page view with props %o",e):r("Bumping page view %s:%s",e,t),"undefined"!=typeof window&&(0,s.ZP)("mc_analytics_enabled")){const n=function(e,t){let n="";if("object"==typeof e)for(const t in e)n+="&"+encodeURIComponent(t)+"="+encodeURIComponent(e[t]);else n="&"+encodeURIComponent(e)+"="+encodeURIComponent(t);return n}(e,t);(new window.Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+n+"&t="+Math.random()}}},"./lib/browser-storage/index.ts":(e,t,n)=>{"use strict";n.d(t,{bv:()=>q,B$:()=>k,vo:()=>I,EV:()=>P});var s=n("../packages/calypso-config/src/index.ts"),o=n("../node_modules/debug/src/browser.js"),r=n.n(o),i=n("../node_modules/lodash-es/kebabCase.js"),a=n("./lib/analytics/mc.js"),l=n("./lib/memoize-last/index.ts");const c=r()("calypso:support-user"),p=new Map;const u=r()("calypso:browser-storage");let d=!1,m=!1;const h="calypso",g="calypso_store",w="browser-storage-sanity-test",f=s.ZP.isEnabled("safari-idb-mitigation")&&"undefined"!=typeof window&&!!window.IDBKeyRange?.lowerBound(0).includes&&!!window.webkitAudioContext&&!!window.PointerEvent;u("Safari IDB mitigation active: %s",f);const y=(0,l.I)((async()=>{if("undefined"==typeof window||!window.indexedDB)return u("IDB not found in host"),!1;if(m)return u("IDB disabled"),!1;try{const e=Date.now().toString();return await T(w,e),await _(w),!0}catch(e){return!1}})),v=(0,l.I)((()=>{const e=window.indexedDB.open(h,2);return new Promise(((t,n)=>{try{e&&(e.onerror=t=>{e.error&&"InvalidStateError"===e.error.name&&t.preventDefault(),n(e.error)},e.onsuccess=()=>{const n=e.result;n.onerror=function(e){u("IDB Error",e),e.target?.error?.name&&((0,a.P)("calypso-browser-storage",(0,i.Z)(e.target.error.name)),"QuotaExceededError"===e.target.error.name&&(m=!0,y.clear(),u("disabling IDB because we saw a QuotaExceededError")))},n.onversionchange=()=>{n.close()},t(n)},e.onupgradeneeded=()=>e.result.createObjectStore(g))}catch(e){n(e)}}))}));function _(e){return new Promise(((t,n)=>{v().then((s=>{const o=s.transaction(g,"readonly"),r=o.objectStore(g).get(e),i=()=>n(o.error);o.oncomplete=()=>t(r.result),o.onabort=i,o.onerror=i})).catch((e=>n(e)))}))}function b(e){return v().then((t=>new Promise(((n,s)=>{const o={},r=t.transaction(g,"readonly"),i=()=>s(r.error);r.objectStore(g).openCursor().onsuccess=t=>{const s=t.target.result;if(s){const{primaryKey:t,value:n}=s;!t||"string"!=typeof t||t===w||e&&!e.test(t)||(o[t]=n),s.continue()}else n(o)},r.onabort=i,r.onerror=i}))))}let S=0,L=null;async function T(e,t){return L&&await L,f&&++S%20==0&&await async function(){if(L)return L;return u("performing safari idb mitigation"),L=async function(){const e=await b();return await function(){return new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(h);n.onsuccess=()=>{v.clear(),e()},n.onerror=e=>t(e)}))}(),new Promise(((t,n)=>{v().then((s=>{const o=s.transaction(g,"readwrite"),r=o.objectStore(g);for(let[t,n]of Object.entries(e))r.put(n,t);const i=()=>t(),a=()=>n(o.error);o.oncomplete=i,o.onabort=a,o.onerror=a}),(e=>n(e)))}))}(),L.finally((()=>{L=null,u("idb mitigation complete")})),L}(),new Promise(((n,s)=>{v().then((async o=>{const r=o.transaction(g,"readwrite");r.objectStore(g).put(t,e);const i=()=>s(r.error);r.oncomplete=()=>n(),r.onabort=i,r.onerror=i})).catch((e=>s(e)))}))}function q(e){d=e,d&&p.clear()}async function I(e){if(d)return await async function(e){if(c("browser-storage bypass","getAllStoredItems"),!e)return Object.fromEntries(p.entries());const t=Array.from(p.entries());return Object.fromEntries(t.filter((([t])=>e.test(t))))}(e);if(!await y()){const t=Object.entries(window.localStorage).map((([e,t])=>[e,void 0!==t?JSON.parse(t):void 0]));return e?Object.fromEntries(t.filter((([t])=>e.test(t)))):Object.fromEntries(t)}return await b(e)}async function P(e,t){if(d)return await async function(e,t){c("browser-storage bypass","setStoredItem",e),p.set(e,t)}(e,t);if(await y())return await T(e,t);window.localStorage.setItem(e,JSON.stringify(t))}async function k(){if(d)return await async function(){c("browser-storage bypass","clearStorage"),p.clear()}();if(await y())return await new Promise(((e,t)=>{v().then((n=>{const s=n.transaction(g,"readwrite");s.objectStore(g).clear();const o=()=>t(s.error);s.oncomplete=()=>e(),s.onabort=o,s.onerror=o})).catch((e=>t(e)))}));window.localStorage.clear()}},"./lib/i18n-utils/browser.js":(e,t,n)=>{"use strict";n.d(t,{s6:()=>o.s6,G3:()=>o.G3,tU:()=>o.tU,aK:()=>o.aK,bL:()=>o.bL,TF:()=>o.TF,T$:()=>o.T$,aq:()=>o.aq,BK:()=>o.BK,tW:()=>o.tW,ay:()=>o.ay,kD:()=>o.kD,Yk:()=>o.Yk,Yj:()=>r});var s=n("../packages/i18n-calypso/src/index.js"),o=n("./lib/i18n-utils/utils.js");const r=()=>s.ZP.getLocaleSlug()},"./lib/i18n-utils/utils.js":(e,t,n)=>{"use strict";n.d(t,{TF:()=>d,T$:()=>m,BK:()=>h,ay:()=>g,aK:()=>w,tU:()=>f,G3:()=>y,bL:()=>v,s6:()=>_,aq:()=>b,tW:()=>S,kD:()=>L,Yk:()=>T});var s=n("../packages/calypso-config/src/index.ts"),o=n("../packages/calypso-url/src/url-parts.ts"),r=n("../packages/i18n-utils/src/localize-url.tsx"),i=n("../packages/languages/src/index.ts"),a=n("../packages/i18n-calypso/src/index.js"),l=n("../node_modules/lodash-es/map.js"),c=n("../node_modules/lodash-es/find.js");const p=/^[A-Z]{2,3}(-[A-Z]{2,3})?(_[A-Z]{2,6})?$/i;function u(e){return e.replace(/\/$/,"").split("/")}function d(e){return e===(0,s.ZP)("i18n_default_locale_slug")}function m(e){if("string"!=typeof e)return!1;const t=y(e);return!!t&&"string"==typeof t.parentLangSlug}function h(e){return-1===["en","sr_latin"].indexOf(e)}function g(){const e="function"==typeof a.Yj?(0,a.Yj)():"en";return d(e)||a.ZP.hasTranslation(...arguments)}function w(){return(0,l.Z)(i.Z,"langSlug")}function f(e="lang",t=!0){return`:${e}(${w().join("|")})${t?"?":""}`}function y(e){if(p.test(e))return(0,c.Z)(i.Z,{langSlug:e})||(0,c.Z)(i.Z,{langSlug:e.split(/[-_]/)[0]})}function v(e){const t=u((0,o.A)(e).pathname).pop();return void 0===y(t)?void 0:t}function _(e,t){const n=(0,o.A)(e),s=n.search||"";return S(n.pathname)+`/${t}`+s}function b(e,t){const n=t||("function"==typeof a.Yj?(0,a.Yj)():"en");return(0,r.aq)(e,n)}function S(e){const t=(0,o.A)(e),n=t.search||"",s=u(t.pathname),r=s.pop();return void 0===y(r)&&s.push(r),s.join("/")+n}function L(e){return(0,s.ZP)("magnificent_non_en_locales").includes(e)}function T(e){return!0===y(e)?.isTranslatedIncompletely}},"./lib/memoize-last/index.ts":(e,t,n)=>{"use strict";function s(e){let t,n;const s=(...s)=>(t&&s.length===t.length&&s.every(((e,n)=>e===t[n]))||(t=s,n=e(...s)),n);return s.clear=()=>{t=void 0,n=void 0},s}function o(e){return s(e)}n.d(t,{Z:()=>s,I:()=>o})},"./lib/oauth-token/index.js":(e,t,n)=>{"use strict";n.d(t,{LP:()=>a,o4:()=>l});var s=n("../node_modules/cookie/index.js"),o=n("../node_modules/store/dist/store.modern.js"),r=n.n(o);const i="wpcom_token";function a(){const e=s.parse(document.cookie);if(void 0!==e.wpcom_token)return e.wpcom_token;const t=r().get(i);return t||!1}function l(e){document.cookie=s.serialize(i,e,{maxAge:31536e6})}},"./lib/user/shared-utils/get-logout-url.js":(e,t,n)=>{"use strict";n.d(t,{K:()=>o});var s=n("../packages/calypso-config/src/index.ts");function o(e,t){let n,o="";return!e?.logout_URL||s.ZP.isEnabled("always_use_logout_url")?(e?.localeSlug&&""!==e.localeSlug&&"en"!==e.localeSlug&&(o=e.localeSlug+"."),n=(0,s.ZP)("logout_url").replace("|subdomain|",o)):n=e.logout_URL,"string"==typeof t&&(n+=t="&redirect_to="+encodeURIComponent(t)),n}},"./lib/user/store.js":(e,t,n)=>{"use strict";n.d(t,{YF:()=>i,An:()=>a,od:()=>l,Or:()=>p,x$:()=>u});var s=n("../node_modules/store/dist/store.modern.js"),o=n.n(s),r=n("./lib/browser-storage/index.ts");async function i(){o().clearAll(),await(0,r.B$)()}function a(){return o().get("wpcom_user_id")}function l(e){return o().set("wpcom_user_id",e)}const c=[];function p(){for(const e of c)e()}function u(e){c.push(e)}},"./lib/wp/browser.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>wt,g:()=>ft});var s=n("../packages/calypso-config/src/index.ts"),o=n("../node_modules/debug/src/browser.js"),r=n.n(o),i=n("../packages/wpcom-proxy-request/src/index.js"),a=n("./lib/oauth-token/index.js"),l=n("../node_modules/qs/lib/index.js"),c=n.n(l);var p=n("../node_modules/inherits/inherits_browser.js"),u=n.n(p);class d{constructor(e){if(!(this instanceof d))return new d(e);this.wpcom=e,this.urls=[]}add(e){return this.urls.push(e),this}run(e={},t){return"function"==typeof e&&(t=e,e={}),e.urls=this.urls,this.wpcom.req.get("/batch",e,t)}}const m=d;class h{constructor(e,t){if(!(this instanceof h))return new h(e,t);this._domain=e,this._subpath="/domains/"+this._domain+"/dns",this.wpcom=t}add(e,t,n){return"function"==typeof t&&(n=t,t={}),this.wpcom.req.post(this._subpath+"/add",t,e,n)}delete(e,t,n){return this.wpcom.req.post(this._subpath+"/delete",t,e,n)}}const g=h;class w{constructor(e,t,n){if(!(this instanceof w))return new w(e,t,n);e&&(this._email=e),this._domain=t,this._subpath="/domains/"+this._domain+"/email/",this.wpcom=n}forward(e,t,n){const s={destination:e};return this.wpcom.req.post(this._subpath+this._email,t,s,n)}add(e,t,n,s){"function"==typeof n&&(s=n,n={});const o={mailbox:e,destination:t};return this.wpcom.req.post(this._subpath+"new",n,o,s)}delete(e,t,n){return this.wpcom.req.del(this._subpath+e+"/delete",t,n)}}const f=w,y="/domains/";class v{constructor(e,t){if(!(this instanceof v))return new v(e,t);this._id=e,this.wpcom=t}status(e,t){return this.wpcom.req.get(y+this._id+"/status",e,t)}isAvailable(e,t){return this.wpcom.req.get(y+this._id+"/is-available",e,t)}isMappable(e,t){return this.wpcom.req.get(y+this._id+"/is-mappable",e,t)}canRedirect(e,t,n){const s=y+e+"/"+this._id+"/can-redirect";return this.wpcom.req.get(s,t,n)}emailForwards(e,t){return this.wpcom.req.get(y+this._id+"/email",e,t)}nameserversList(e,t){return this.wpcom.req.get(y+this._id+"/nameservers",e,t)}updateNameservers(e,t,n){const s={nameservers:e};return this.wpcom.req.post(y+this._id+"/nameservers",t,s,n)}dnsList(e,t){return this.wpcom.req.get(y+this._id+"/dns",e,t)}googleAppsList(e,t){return this.wpcom.req.get(y+this._id+"/google-apps",e,t)}resendICANN(e,t){return this.wpcom.req.post(y+this._id+"/resend-icann",e,t)}email(e){return new f(e,this._id,this.wpcom)}dns(){return new g(this._id,this.wpcom)}mappingSetupInfo(e,t,n){return this.wpcom.req.get(y+this._id+"/mapping-setup-info/"+e,t,n)}mappingStatus(e,t){return this.wpcom.req.get(y+this._id+"/mapping-status",e,t)}updateConnectionModeAndGetMappingStatus(e,t,n){const s={mode:e};return this.wpcom.req.post(y+this._id+"/mapping-status",t,s,n)}}const _=v;class b{constructor(e){if(!(this instanceof b))return new b(e);this.wpcom=e}suggestions(e,t){return"string"==typeof e&&(e={query:e}),this.wpcom.req.get("/domains/suggestions",e,t)}suggestionsExamples(e,t){return this.wpcom.req.get("/domains/suggestions/examples",e,t)}supportedCountries(e,t){return this.wpcom.req.get("/domains/supported-countries",e,t)}supportedStates(e,t,n){const s="/domains/supported-states/"+e;return this.wpcom.req.get(s,t,n)}}const S=b;class L{constructor(e,t,n){if(!e)throw new TypeError("`id` survey is not correctly defined");if(!(this instanceof L))return new L(e,t,n);"object"==typeof t?this.wpcom=t:(this._siteId=t,this.wpcom=n),this._id=e,this._responses={}}setSiteId(e){return this._siteId=e,this}addResponse(e,t){return this._responses=Object.assign({},this._responses,{[e]:t}),this}addResponses(e){return this._responses=Object.assign({},this._responses,e),this}submit(e={},t={},n){return t.survey_id=this._id,t.site_id=t.site_id||this._siteId,t.survey_responses=t.survey_responses||this._responses,this.wpcom.req.post("/marketing/survey",e,t,n)}}class T{constructor(e){if(!(this instanceof T))return new T(e);this.wpcom=e}survey(e,t){return new L(e,t,this.wpcom)}}const q="/me/connected-applications/";class I{constructor(e,t){if(!(this instanceof I))return new I(e,t);this._id=e,this.wpcom=t}get(e,t){return this.wpcom.req.get(q+this._id,e,t)}delete(e,t){return this.wpcom.req.del(q+this._id+"/delete",e,t)}}const P="/me/connections/";class k{constructor(e,t){if(!(this instanceof k))return new k(e,t);this._id=e,this.wpcom=t}get(e,t){return this.wpcom.req.get({path:P+this._id,apiNamespace:"wpcom/v2"},e,t)}delete(e,t){return this.wpcom.req.get({path:P+this._id,apiNamespace:"wpcom/v2",method:"DELETE"},e,t)}}const j="/me/publicize-connections/";class E{constructor(e,t){if(!(this instanceof E))return new E(e,t);this._id=e,this.wpcom=t}get(e,t){return this.wpcom.req.get(j+this._id,e,t)}add(e,t,n){return this.wpcom.req.post("/me/publicize-connections/new",e,t,n)}update(e,t,n){return this.wpcom.req.put(j+this._id,e,t,n)}delete(e,t){return this.wpcom.req.del(j+this._id+"/delete",e,t)}}class ${constructor(e){if(!(this instanceof $))return new $(e);this.wpcom=e}validate(e,t,n){return this.wpcom.req.post("/me/settings/password/validate",t,{password:e},n)}}const x="/me/settings/profile-links";function R(e){if(!(this instanceof R))return new R(e);this.wpcom=e}function A(e){if(!(this instanceof A))return new A(e);this.wpcom=e}R.prototype.get=function(e,t){return this.wpcom.req.get(x,e,t)},R.prototype.mine=R.prototype.get,R.prototype.add=function(e,t,n){"function"==typeof t&&(n=t,t={}),e instanceof Array||(e=[e]),t.apiVersion="1.2";return this.wpcom.req.post("/me/settings/profile-links/new",t,{links:e},n)},R.prototype.del=function(e,t,n){const s="/me/settings/profile-links/"+e+"/delete";return this.wpcom.req.del(s,t,n)},R.prototype.delete=R.prototype.del,A.prototype.get=function(e,t){return this.wpcom.req.get("/me/settings",e,t)},A.prototype.update=function(e,t,n){return this.wpcom.req.put("/me/settings/",e,t,n)},A.prototype.profileLinks=function(){return new R(this.wpcom)},A.prototype.password=function(){return new $(this.wpcom)};class C{constructor(e){if(!(this instanceof C))return new C(e);this.wpcom=e}send(e,t){return this.wpcom.req.post("/me/two-step/sms/new",e,t)}}class V{constructor(e){if(!(this instanceof V))return new V(e);this.wpcom=e}get(e,t){return this.wpcom.req.get("/me/two-step/",e,t)}sms(){return new C(this.wpcom)}}function U(e){if(!(this instanceof U))return new U(e);this.wpcom=e}U.prototype.get=function(e,t){return this.wpcom.req.get("/me",e,t)},U.prototype.billingHistory=function(e,t){return this.wpcom.req.get("/me/billing-history",e,t)},U.prototype.postsList=function(e,t){return this.wpcom.req.get("/me/posts",e,t)},U.prototype.sites=function(e,t){return this.wpcom.req.get("/me/sites",e,t)},U.prototype.likes=function(e,t){return this.wpcom.req.get("/me/likes",e,t)},U.prototype.connectedApps=function(e,t){return this.wpcom.req.get("/me/connected-applications",e,t)},U.prototype.keyringConnections=function(e,t){return this.wpcom.req.get("/me/connections",e,t)},U.prototype.publicizeConnections=function(e,t){return this.wpcom.req.get("/me/publicize-connections",e,t)},U.prototype.settings=function(){return new A(this.wpcom)},U.prototype.connectedApp=function(e){return new I(e,this.wpcom)},U.prototype.publicizeConnection=function(e){return new E(e,this.wpcom)},U.prototype.twoStep=function(){return new V(this.wpcom)},U.prototype.keyringConnection=function(e){return new k(e,this.wpcom)};const N="/plans";class D{constructor(e){if(!(this instanceof D))return new D(e);this.wpcom=e}list(e,t){return this.wpcom.req.get(N,e,t)}features(e,t){return this.wpcom.req.get("/plans/features",e,t)}}function z(e,t,n){if(!t)throw new Error("`site id` is not correctly defined");if(!(this instanceof z))return new z(e,t,n);this.wpcom=n,this._sid=t,this._slug=e}function O(e,t,n){if(!t)throw new Error("`site id` is not correctly defined");if(!e)throw new Error("`comment id` is not correctly defined");if(!(this instanceof O))return new O(e,t,n);this.wpcom=n,this._cid=e,this._sid=t}function F(e,t,n,s){if(!n)throw new Error("`site id` is not correctly defined");if(!(this instanceof F))return new F(e,t,n,s);this.wpcom=s,this._cid=e,this._pid=t,this._sid=n}z.prototype.slug=function(e){this._slug=e},z.prototype.get=function(e,t){const n="/sites/"+this._sid+"/categories/slug:"+this._slug;return this.wpcom.req.get(n,e,t)},z.prototype.add=function(e,t,n){const s="/sites/"+this._sid+"/categories/new";return this.wpcom.req.post(s,e,t,n)},z.prototype.update=function(e,t,n){const s="/sites/"+this._sid+"/categories/slug:"+this._slug;return this.wpcom.req.put(s,e,t,n)},z.prototype.delete=z.prototype.del=function(e,t){const n="/sites/"+this._sid+"/categories/slug:"+this._slug+"/delete";return this.wpcom.req.del(n,e,t)},O.prototype.mine=O.prototype.state=function(e,t){const n="/sites/"+this._sid+"/comments/"+this._cid+"/likes/mine";return this.wpcom.req.get(n,e,t)},O.prototype.add=function(e,t){const n="/sites/"+this._sid+"/comments/"+this._cid+"/likes/new";return this.wpcom.req.post(n,e,t)},O.prototype.del=O.prototype.delete=function(e,t){const n="/sites/"+this._sid+"/comments/"+this._cid+"/likes/mine/delete";return this.wpcom.req.del(n,e,t)},F.prototype.get=function(e,t){const n="/sites/"+this._sid+"/comments/"+this._cid;return this.wpcom.req.get(n,e,t)},F.prototype.replies=function(e,t){const n="/sites/"+this._sid+"/posts/"+this._pid+"/replies/";return this.wpcom.req.get(n,e,t)},F.prototype.add=function(e,t,n){void 0===n&&(void 0===t?(t=e,e={}):"function"==typeof t&&(n=t,t=e,e={})),t="string"==typeof t?{content:t}:t;const s="/sites/"+this._sid+"/posts/"+this._pid+"/replies/new";return this.wpcom.req.post(s,e,t,n)},F.prototype.update=function(e,t,n){"function"==typeof t&&(n=t,t=e,e={}),t="string"==typeof t?{content:t}:t;const s="/sites/"+this._sid+"/comments/"+this._cid;return this.wpcom.req.put(s,e,t,n)},F.prototype.reply=function(e,t,n){"function"==typeof t&&(n=t,t=e,e={}),t="string"==typeof t?{content:t}:t;const s="/sites/"+this._sid+"/comments/"+this._cid+"/replies/new";return this.wpcom.req.post(s,e,t,n)},F.prototype.del=F.prototype.delete=function(e,t){const n="/sites/"+this._sid+"/comments/"+this._cid+"/delete";return this.wpcom.req.del(n,e,t)},F.prototype.like=function(){return O(this._cid,this._sid,this.wpcom)},F.prototype.likesList=function(e,t){const n="/sites/"+this._sid+"/comments/"+this._cid+"/likes";return this.wpcom.req.get(n,e,t)};class Z{constructor(e,t){if(!e)throw new Error("`site id` is not correctly defined");if(!(this instanceof Z))return new Z(e,t);this.wpcom=t,this._sid=e,this.path=`/sites/${this._sid}/vouchers`}list(e={},t){return e.apiNamespace="wpcom/v2",this.wpcom.req.get(this.path,e,t)}get(e,t={},n){return t.apiNamespace="wpcom/v2",this.wpcom.req.get(`${this.path}/${e}`,t,n)}assign(e,t={},n){return t.apiNamespace="wpcom/v2",this.wpcom.req.post(`${this.path}/${e}/assign`,t,{},n)}}const M=Z;class B{constructor(e,t){if(!(this instanceof B))return new B(e,t);this._sid=e,this.path=`/sites/${this._sid}/domains`,this.wpcom=t}getPrimary(e,t){return this.wpcom.req.get(`${this.path}/primary`,e,t)}setPrimary(e,t){return this.wpcom.req.put(`${this.path}/primary`,{},{domain:e},t)}getRedirect(e,t){return this.wpcom.req.get(`${this.path}/redirect`,e,t)}setRedirect(e,t){return"string"==typeof e&&(e={location:e}),this.wpcom.req.put(`${this.path}/redirect`,{},e,t)}}const H=B;function K(e,t){if(!e)throw new Error("`site id` is not correctly defined");if(!(this instanceof K))return new K(e,t);this.wpcom=t,this._sid=e}function G(){throw new Error("Cannot call fs functions within the browser")}K.prototype.mine=K.prototype.state=function(e,t){const n="/sites/"+this._sid+"/follows/mine";return this.wpcom.req.get(n,e,t)},K.prototype.follow=K.prototype.add=function(e,t){const n="/sites/"+this._sid+"/follows/new";return this.wpcom.req.put(n,e,null,t)},K.prototype.unfollow=K.prototype.del=function(e,t){const n="/sites/"+this._sid+"/follows/mine/delete";return this.wpcom.req.del(n,e,null,t)};const J=r()("wpcom:media");function Y(e){const t=[];let n,s,o,r;for(e=Array.isArray(e)?e:[e],n=0;n<e.length;n++){s=e[n],"string"==typeof s&&(s=G());const i=!!s._readableState,a="undefined"!=typeof File&&s instanceof File;if(J("isStream: %s",i),J("isFile: %s",a),!a&&!i){for(o in s)J("add %o => %o",o,s[o]),"file"!==o&&(r="attrs["+n+"]["+o+"]",t.push([r,s[o]]));s=s.file,"string"==typeof s&&(s=G())}t.push(["media[]",s])}return t}function W(e,t,n){if(!(this instanceof W))return new W(e,t,n);this.wpcom=n,this._sid=t,this._id=e,this._id||J("WARN: media `id` is not defined")}W.prototype.get=function(e={},t){e.apiVersion=e.apiVersion||"1.2";const n="/sites/"+this._sid+"/media/"+this._id;return this.wpcom.req.get(n,e,t)},W.prototype.update=function(e,t,n){const s={path:"/sites/"+this._sid+"/media/"+this._id};return this.wpcom.req.put(s,e,t,n)},W.prototype.edit=function(e,t,n){"function"!=typeof t&&t||(n=t,t=e,e={});const s={path:"/sites/"+this._sid+"/media/"+this._id+"/edit"};if(t&&t.media){s.formData=[["media",t.media]],delete t.media;for(const e in t)s.formData.push([`attrs[${e}]`,t[e]]);t=null}return this.wpcom.req.put(s,e,t,n)},W.prototype.addFiles=function(e,t,n){void 0===n&&(void 0===t?(t=e,e={}):"function"==typeof t&&(n=t,t=e,e={}));const s={path:"/sites/"+this._sid+"/media/new",formData:Y(t)};return this.wpcom.req.post(s,e,null,n)},W.prototype.addUrls=function(e,t,n){void 0===n&&(void 0===t?(t=e,e={}):"function"==typeof t&&(n=t,t=e,e={}));const s="/sites/"+this._sid+"/media/new",o={media_urls:[]};let r,i,a,l;for(t=Array.isArray(t)?t:[t],r=0;r<t.length;r++){if(i=t[r],"string"==typeof i)a=i;else{for(l in o.attrs||(o.attrs=[]),o.attrs[r]={},i)"url"!==l&&(o.attrs[r][l]=i[l]);a=i.url}o.media_urls.push(a)}return this.wpcom.req.post(s,e,o,n)},W.prototype.delete=W.prototype.del=function(e,t){const n="/sites/"+this._sid+"/media/"+this._id+"/delete";return this.wpcom.req.del(n,e,t)};class X{constructor(e,t,n){if(!(this instanceof X))return new X(e,t,n);if(!e)throw new Error("`slug` is not correctly defined");this._slug=encodeURIComponent(e),this._sid=t,this.wpcom=n;const s=`/sites/${this._sid}/plugins`;this.pluginPath=`${s}/${this._slug}`}get(e,t){return this.wpcom.req.get(this.pluginPath,e,t)}update(e,t,n){return this.wpcom.req.put(this.pluginPath,e,t,n)}updateVersion(e,t){return this.wpcom.req.put(`${this.pluginPath}/update`,e,t)}install(e,t){return this.wpcom.req.put(`${this.pluginPath}/install`,e,t)}delete(e,t){return this.wpcom.req.put(`${this.pluginPath}/delete`,e,t)}activate(e,t){return this.update(e,{active:!0},t)}deactivate(e,t){return this.update(e,{active:!1},t)}enableAutoupdate(e,t){return this.update(e,{autoupdate:!0},t)}disableAutoupdate(e,t){return this.update(e,{autoupdate:!1},t)}}const Q=X;function ee(e,t,n){if(!t)throw new Error("`site id` is not correctly defined");if(!e)throw new Error("`post id` is not correctly defined");if(!(this instanceof ee))return new ee(e,t,n);this.wpcom=n,this._pid=e,this._sid=t}function te(e,t,n){if(!t)throw new Error("`site id` is not correctly defined");if(!e)throw new Error("`post id` is not correctly defined");if(!(this instanceof te))return new te(e,t,n);this.wpcom=n,this._pid=e,this._sid=t}ee.prototype.mine=ee.prototype.state=function(e,t){const n="/sites/"+this._sid+"/posts/"+this._pid+"/likes/mine";return this.wpcom.req.get(n,e,t)},ee.prototype.add=function(e,t){const n="/sites/"+this._sid+"/posts/"+this._pid+"/likes/new";return this.wpcom.req.put(n,e,null,t)},ee.prototype.del=ee.prototype.delete=function(e,t){const n="/sites/"+this._sid+"/posts/"+this._pid+"/likes/mine/delete";return this.wpcom.req.del(n,e,t)},te.prototype.mine=te.prototype.state=function(e,t){const n="/sites/"+this._sid+"/posts/"+this._pid+"/reblogs/mine";return this.wpcom.req.get(n,e,t)},te.prototype.add=function(e,t,n){if("function"==typeof t&&(n=t,t=e,e={}),t&&!t.destination_site_id)return n(new Error("destination_site_id is not defined"));const s="/sites/"+this._sid+"/posts/"+this._pid+"/reblogs/new";return this.wpcom.req.put(s,e,t,n)},te.prototype.to=function(e,t,n){return void 0===n&&(void 0===t?t=null:"function"==typeof t&&(n=t,t=null)),this.add({note:t,destination_site_id:e},n)};class ne{constructor(e,t,n){if(!t)throw new Error("`side id` is not correctly defined");if(!e)throw new Error("`post id` is not correctly defined");if(!(this instanceof ne))return new ne(e,t,n);this.wpcom=n,this._id=e,this._sid=t,this.path=`/sites/${this._sid}/posts/${this._id}/subscribers`}mine(e,t){return this.wpcom.req.get(`${this.path}/mine`,e,t)}add(e,t){return this.wpcom.req.put(`${this.path}/new`,e,null,t)}del(e,t){return this.wpcom.req.del(`${this.path}/mine/delete`,e,t)}}ne.prototype.state=ne.prototype.mine,ne.prototype.delete=ne.prototype.del;const se=ne,oe=r()("wpcom:runtime"),re=(e,t)=>function(n,s){const o=t(e,this);return this.wpcom.req.get(o,n,s)};function ie(e,t,n){t.forEach((t=>{oe("Adding %o",(t="object"==typeof t?t:{name:t}).name),e.prototype[t.name]=re(t,n)}))}const ae=r()("wpcom:post");class le{constructor(e,t,n){if(!(this instanceof le))return new le(e,t,n);this.wpcom=n,this._sid=t,this.path=`/sites/${this._sid}/posts`,"object"!=typeof(e=e||{})?this._id=e:(this._id=e.id,this._slug=e.slug)}id(e){this._id=e}slug(e){this._slug=e}getPostPath(){return`${this.path}/${this._id}`}get(e,t){return!this._id&&this._slug?this.getBySlug(e,t):this.wpcom.req.get(this.getPostPath(),e,t)}getBySlug(e,t){return this.wpcom.req.get(`${this.path}/slug:${this._slug}`,e,t)}add(e,t,n){return void 0===n&&(void 0===t?(t=e,e={}):"function"==typeof t&&(n=t,t=e,e={})),this.wpcom.req.post(`${this.path}/new`,e,t).then((e=>{if(this._id=e.ID,ae("Set post _id: %s",this._id),this._slug=e.slug,ae("Set post _slug: %s",this._slug),"function"!=typeof n)return Promise.resolve(e);n(null,e)})).catch((e=>{if("function"!=typeof n)return Promise.reject(e);n(e)}))}update(e,t,n){return this.wpcom.req.put(this.getPostPath(),e,t,n)}delete(e,t){const n=`${this.getPostPath()}/delete`;return this.wpcom.req.del(n,e,t)}del(e,t){return this.delete(e,t)}restore(e,t){return this.wpcom.req.put(`${this.getPostPath()}/restore`,e,null,t)}related(e,t){return this.wpcom.req.put(`${this.getPostPath()}/related`,e,null,t)}comment(e){return new F(e,this._id,this._sid,this.wpcom)}comments(e,t){return new F(null,this._id,this._sid,this.wpcom).replies(e,t)}like(){return new ee(this._id,this._sid,this.wpcom)}reblog(){return new te(this._id,this._sid,this.wpcom)}subscriber(){return new se(this._id,this._sid,this.wpcom)}}ie(le,[{name:"likesList",subpath:"likes"},{name:"subscribersList",subpath:"subscribers"}],((e,t)=>`/sites/${t._sid}/posts/${t._id}/${e.subpath}`));const ce=le;class pe{constructor(e,t,n){if(!t)throw new TypeError("`siteId` is not correctly defined");if(!e)throw new TypeError("`postType` is not correctly defined");if(!(this instanceof pe))return new pe(e,t,n);this.wpcom=n,this._siteId=encodeURIComponent(t),this._postType=encodeURIComponent(e),this._rootPath=`/sites/${this._siteId}/post-types/${this._postType}`}taxonomiesList(e,t){const n=`${this._rootPath}/taxonomies`;return this.wpcom.req.get(n,e,t)}}class ue{constructor(e,t){if(!e)throw new Error("`site id` is not correctly defined");if(!(this instanceof ue))return new ue(e,t);this.wpcom=t,this._sid=e,this.path=`/sites/${this._sid}/settings`}get(e,t){return this.wpcom.req.get(this.path,e,t)}getOption(e,t=(()=>{})){const n={fields:"settings"};return new Promise(((s,o)=>{this.wpcom.req.get(this.path,n,((n,r)=>{if(n)return t(n),o(n);if(!r)return t(),s();const i=r.settings;return i&&void 0!==i[e]?(t(null,i[e]),s(i[e])):(t(null,r),s(r))}))}))}update(e,t,n){return this.wpcom.req.put(this.path,e,t,n)}setOption(e,t,n){return this.wpcom.req.put(this.path,{},{[e]:t},n)}}const de=ue;function me(e,t,n){if(!t)throw new Error("`site id` is not correctly defined");if(!(this instanceof me))return new me(e,t,n);this.wpcom=n,this._sid=t,this._slug=e}me.prototype.slug=function(e){this._slug=e},me.prototype.get=function(e,t){const n="/sites/"+this._sid+"/tags/slug:"+this._slug;return this.wpcom.req.get(n,e,t)},me.prototype.add=function(e,t,n){const s="/sites/"+this._sid+"/tags/new";return this.wpcom.req.post(s,e,t,n)},me.prototype.update=function(e,t,n){const s="/sites/"+this._sid+"/tags/slug:"+this._slug;return this.wpcom.req.put(s,e,t,n)},me.prototype.delete=me.prototype.del=function(e,t){const n="/sites/"+this._sid+"/tags/slug:"+this._slug+"/delete";return this.wpcom.req.del(n,e,t)};class he{constructor(e,t,n,s){if(!n)throw new TypeError("`siteId` is not correctly defined");if(!t)throw new TypeError("`taxonomy` is not correctly defined");if(!(this instanceof he))return new he(e,t,n,s);this.wpcom=s,this._siteId=encodeURIComponent(n),this._taxonomy=encodeURIComponent(t),this._term=encodeURIComponent(e),this._taxonomyPath=`/sites/${this._siteId}/taxonomies/${this._taxonomy}/terms`}get(e,t){if(!this._term)throw new Error("`term` is not correctly defined");"function"==typeof e&&(t=e,e={});const n=`${this._taxonomyPath}/slug:${this._term}`;return this.wpcom.req.get(n,e,t)}add(e,t){if(!e||!e.name)throw new Error("`params.name` is not correctly defined");const n=`${this._taxonomyPath}/new`;return this.wpcom.req.post(n,e,t)}delete(e){if(!this._term)throw new Error("`term` is not correctly defined");const t=`${this._taxonomyPath}/slug:${this._term}/delete`;return this.wpcom.req.del(t,e)}update(e,t){if(!this._term)throw new Error("`term` is not correctly defined");const n=`${this._taxonomyPath}/slug:${this._term}`;return this.wpcom.req.put(n,e,t)}}const ge=he;class we{constructor(e,t,n){if(!t)throw new TypeError("`siteId` is not correctly defined");if(!e)throw new TypeError("`taxonomy` is not correctly defined");if(!(this instanceof we))return new we(e,t,n);this.wpcom=n,this._siteId=encodeURIComponent(t),this._taxonomy=encodeURIComponent(e),this._rootPath=`/sites/${this._siteId}/taxonomies/${this._taxonomy}`}termsList(e,t){const n=`${this._rootPath}/terms`;return this.wpcom.req.get(n,e,t)}term(e){return new ge(e,this._taxonomy,this._siteId,this.wpcom)}}const fe=we;function ye(e,t){if(!(this instanceof ye))return new ye(e,t);this._sid=e,this.wpcom=t}function ve(e,t){if(!(this instanceof ve))return new ve(e,t);this._sid=e,this.wpcom=t}function _e(e,t){if(!(this instanceof _e))return new _e(e,t);this._sid=e,this.wpcom=t}function be(e,t){if(!(this instanceof be))return new be(e,t);this._sid=e,this.wpcom=t}ye.prototype.get=function(e,t){return this.wpcom.req.get("/sites/"+this._sid+"/wordads/earnings",e,t)},ve.prototype.get=function(e,t){return this.wpcom.req.get("/sites/"+this._sid+"/wordads/settings",e,t)},ve.prototype.update=function(e,t,n){const s="/sites/"+this._sid+"/wordads/settings";return this.wpcom.req.post(s,e,t,n)},_e.prototype.get=function(e,t){return this.wpcom.req.get("/sites/"+this._sid+"/wordads/tos",e,t)},_e.prototype.update=function(e,t,n){const s="/sites/"+this._sid+"/wordads/tos";return this.wpcom.req.post(s,e,t,n)},_e.prototype.sign=function(e,t){const n="/sites/"+this._sid+"/wordads/tos";return this.wpcom.req.post(n,e,{tos:"signed"},t)},be.prototype.settings=function(){return new ve(this._sid,this.wpcom)},be.prototype.earnings=function(){return new ye(this._sid,this.wpcom)},be.prototype.tos=function(){return new _e(this._sid,this.wpcom)};class Se{constructor(e,t,n){if(!(this instanceof Se))return new Se(e,t,n);if(!e)throw new Error("`slug` is not correctly defined");this._slug=encodeURIComponent(e),this._sid=t,this.wpcom=n;const s=`/sites/${this._sid}/wpcom-plugins`;this.pluginPath=`${s}/${this._slug}`}update(e,t,n){return this.wpcom.req.put(this.pluginPath,e,t,n)}activate(e,t){return this.update(e,{active:!0},t)}deactivate(e,t){return this.update(e,{active:!1},t)}}const Le=Se,Te=r()("wpcom:site");class qe{constructor(e,t){if(!(this instanceof qe))return new qe(e,t);this.wpcom=t,Te("set %o site id",e),this._id=encodeURIComponent(e),this.path=`/sites/${this._id}`}get(e,t){return this.wpcom.req.get(this.path,e,t)}post(e){return new ce(e,this._id,this.wpcom)}addPost(e,t){return new ce(null,this._id,this.wpcom).add(e,t)}deletePost(e,t){return new ce(e,this._id,this.wpcom).delete(t)}media(e){return new W(e,this._id,this.wpcom)}addMediaFiles(e,t,n){return new W(null,this._id,this.wpcom).addFiles(e,t,n)}addMediaUrls(e,t,n){return new W(null,this._id,this.wpcom).addUrls(e,t,n)}deleteMedia(e,t){return new W(e,this._id,this.wpcom).del(t)}comment(e){return new F(e,null,this._id,this.wpcom)}follow(){return new K(this._id,this.wpcom)}plugin(e){return new Q(e,this._id,this.wpcom)}wpcomPlugin(e){return new Le(e,this._id,this.wpcom)}category(e){return new z(e,this._id,this.wpcom)}tag(e){return new me(e,this._id,this.wpcom)}taxonomy(e){return new fe(e,this._id,this.wpcom)}creditVouchers(){return new M(this._id,this.wpcom)}postType(e){return new pe(e,this._id,this.wpcom)}settings(){return new de(this._id,this.wpcom)}domain(){return new H(this._id,this.wpcom)}postCounts(e="post",t,n){return"function"==typeof t&&(n=t,t={}),this.wpcom.req.get(`${this.path}/post-counts/${e}`,t,n)}renderShortcode(e,t,n){if("string"!=typeof e)throw new TypeError("expected a url String");return"function"==typeof t&&(n=t,t={}),(t=t||{}).shortcode=e,this.wpcom.req.get(`${this.path}/shortcodes/render`,t,n)}renderEmbed(e,t,n){if("string"!=typeof e)throw new TypeError("expected an embed String");return"function"==typeof t&&(n=t,t={}),(t=t||{}).embed_url=e,this.wpcom.req.get(`${this.path}/embeds/render`,t,n)}statsReferrersSpamNew(e,t){const n=`${this.path}/stats/referrers/spam/new`;return this.wpcom.req.post(n,{domain:e},null,t)}statsReferrersSpamDelete(e,t){const n=`${this.path}/stats/referrers/spam/delete`;return this.wpcom.req.post(n,{domain:e},null,t)}statsVideo(e,t,n){const s=`${this.path}/stats/video/${e}`;return"function"==typeof t&&(n=t,t={}),this.wpcom.req.get(s,t,n)}statsPostViews(e,t,n){const s=`${this.path}/stats/post/${e}`;return"function"==typeof t&&(n=t,t={}),this.wpcom.req.get(s,t,n)}wordAds(){return new be(this._id,this.wpcom)}addDomainMapping(e,t,n,s){return this.wpcom.req.post(`${this.path}/add-domain-mapping`,n,{domain:e,...t},s)}addVipDomainMapping(e,t,n){return this.wpcom.req.post(`${this.path}/vip-domain-mapping`,t,{domain:e},n)}}ie(qe,[{name:"categoriesList",subpath:"categories"},{name:"commentsList",subpath:"comments"},{name:"domainsList",subpath:"domains"},{name:"embedsList",subpath:"embeds"},{name:"followsList",subpath:"follows"},{name:"mediaList",subpath:"media"},{name:"pageTemplates",subpath:"page-templates"},{name:"pluginsList",subpath:"plugins"},{name:"postsList",subpath:"posts"},{name:"postTypesList",subpath:"post-types"},{name:"shortcodesList",subpath:"shortcodes"},{name:"stats",subpath:"stats"},{name:"statsClicks",subpath:"stats/clicks"},{name:"statsCommentFollowers",subpath:"stats/comment-followers"},{name:"statsComments",subpath:"stats/comments"},{name:"statsCountryViews",subpath:"stats/country-views"},{name:"statsFollowers",subpath:"stats/followers"},{name:"statsInsights",subpath:"stats/insights"},{name:"statsPublicize",subpath:"stats/publicize"},{name:"statsReferrers",subpath:"stats/referrers"},{name:"statsSearchTerms",subpath:"stats/search-terms"},{name:"statsStreak",subpath:"stats/streak"},{name:"statsSummary",subpath:"stats/summary"},{name:"statsTags",subpath:"stats/tags"},{name:"statsTopAuthors",subpath:"stats/top-authors"},{name:"statsTopPosts",subpath:"stats/top-posts"},{name:"statsVideoPlays",subpath:"stats/video-plays"},{name:"statsVisits",subpath:"stats/visits"},{name:"tagsList",subpath:"tags"},{name:"usersList",subpath:"users"},{name:"wpcomPluginsList",subpath:"wpcom-plugins"}],((e,t)=>`/sites/${t._id}/${e.subpath}`));const Ie=qe;function Pe(e){if(!(this instanceof Pe))return new Pe(e);this.wpcom=e}Pe.prototype.suggest=function(e,t){return this.wpcom.req.get("/users/suggest",e,t)};const ke=r()("wpcom:pinghub");function je(e){if(!(this instanceof je))return new je(e);this.wpcom=e,this.conns={}}je.prototype.connect=function(e,t){ke("connect",e,t);const n=this,s={action:"connect",path:"/pinghub"+e},o=this.conns[e]=this.wpcom.req.get(s,(function(){}));o.onload=function(n){ke("onload",e,n),t(null,n)},o.onerror=o.onabort=o.onclose=function(s){ke("onerror",e,s),n.remove(e),t(s,null)}},je.prototype.disconnect=function(e){ke("disconnect",e);const t={action:"disconnect",path:"/pinghub"+e};this.wpcom.req.get(t,(function(){}))},je.prototype.remove=function(e){ke("remove",e),delete this.conns[e]};const Ee=r()("wpcom:send-request"),$e=r()("wpcom:send-request:res");function xe(e,t,n,s){return Ee("sendRequest(%o )",(e="string"==typeof e?{path:e}:e).path),e.method=(e.method||"get").toUpperCase(),"function"==typeof t&&(s=t,t={}),"function"==typeof n&&(s=n,n=null),(t=t||{}).apiVersion?(e.apiVersion=t.apiVersion,Ee("apiVersion: %o",e.apiVersion),delete t.apiVersion):e.apiVersion=this.apiVersion,t.apiNamespace&&(e.apiNamespace=t.apiNamespace,Ee("apiNamespace: %o",e.apiNamespace),delete t.apiNamespace),t.proxyOrigin&&(e.proxyOrigin=t.proxyOrigin,Ee("proxyOrigin: %o",e.proxyOrigin),delete t.proxyOrigin),t=c().stringify(t,{arrayFormat:"brackets"}),e.query=t,n&&(e.body=n),Ee("params: %o",e),"function"==typeof s?this.request(e,(function(e,t,n){$e(t),s(e,t,n)})):new Promise(((t,n)=>{this.request(e,((e,s)=>{$e(s),e?n(e):t(s)}))}))}function Re(e){this.wpcom=e}Re.prototype.get=function(e,t,n){return"function"==typeof t&&(n=t,t={}),xe.call(this.wpcom,e,t,null,n)},Re.prototype.post=Re.prototype.put=function(e,t,n,s){return void 0===s&&(void 0===n?(n=t,t={}):"function"==typeof n&&(s=n,n=t,t={})),(e="string"==typeof e?{path:e}:e).method=e.method||"post",xe.call(this.wpcom,e,t,n,s)},Re.prototype.del=function(e,t,n){return"function"==typeof t&&(n=t,t={}),this.post(e,t,null,n)};const Ae=r()("wpcom");function Ce(e,t){if(!(this instanceof Ce))return new Ce(e,t);"function"==typeof e&&(t=e,e=null),e&&(Ae("Token defined: %s…",e.substring(0,6)),this.token=e);this.request=t||((e,t)=>{Ae("No request handler. Failing."),t(new Error("No request handler provided"))}),this.req=new Re(this),this.pinghub=new je(this),this.apiVersion="1.1"}Ce.prototype.marketing=function(){return new T(this)},Ce.prototype.me=function(){return new U(this)},Ce.prototype.domains=function(){return new S(this)},Ce.prototype.domain=function(e){return new _(e,this)},Ce.prototype.site=function(e){return new Ie(e,this)},Ce.prototype.users=function(){return new Pe(this)},Ce.prototype.plans=function(){return new D(this)},Ce.prototype.batch=function(){return new m(this)},Ce.prototype.freshlyPressed=function(e,t){return this.req.get("/freshly-pressed",e,t)},Ce.prototype.sendRequest=function(e,t,n,s){const o="WARN! Don use `sendRequest() anymore. Use `this.req` method.";return console&&console.warn?console.warn(o):console.log(o),xe.call(this,e,t,n,s)},Ce.Batch=m,Ce.Domain=_,Ce.Domains=S,Ce.Marketing=T,Ce.Me=U,Ce.Pinghub=je,Ce.Plans=D,Ce.Request=Re,Ce.Site=Ie,Ce.Users=Pe,Promise.prototype.timeout||(Promise.prototype.timeout=function(e=3e4){let t;const n=new Promise(((n,s)=>{t=setTimeout((()=>{s(new Error("Action timed out while waiting for response."))}),e)})),s=()=>(clearTimeout(t),this);return Promise.race([this.then(s).catch(s),n])});var Ve=n("../node_modules/lodash-es/omit.js"),Ue=n("../node_modules/lodash-es/camelCase.js"),Ne=n("../node_modules/lodash-es/isPlainObject.js"),De=n("../node_modules/lodash-es/snakeCase.js"),ze=n("../node_modules/lodash-es/set.js"),Oe=n("../node_modules/lodash-es/pick.js"),Fe=n("./lib/i18n-utils/browser.js");const Ze=r()("calypso:wpcom-undocumented:me");function Me(e){if(Ze("UndocumentedMe"),!(this instanceof Me))return new Me(e);this.wpcom=e}u()(Me,Ce.Me),Me.prototype.billingHistoryEmailReceipt=function(e,t){const n={path:"/me/billing-history/receipt/"+e+"/email"};return this.wpcom.req.get(n,t)},Me.prototype.getReceipt=function(e,t){return this.wpcom.req.get({path:`/me/billing-history/receipt/${e}`},t)},Me.prototype.sendSMSValidationCode=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/two-step/sms/new"},e)},Me.prototype.validateTwoStepCode=function(e,t){const n={apiVersion:"1.1",path:"/me/two-step/validate",body:e};return this.wpcom.req.post(n,t)},Me.prototype.getTwoStep=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/two-step/"},e)},Me.prototype.getAppAuthCodes=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/two-step/app-auth-setup/"},e)},Me.prototype.getPeerReferralLink=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/peer-referral-link"},e)},Me.prototype.setPeerReferralLinkEnable=function(e,t){const n={apiVersion:"1.1",path:"/me/peer-referral-link-enable",body:{enable:e}};return this.wpcom.req.post(n,t)},Me.prototype.backupCodes=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/two-step/backup-codes/new"},e)},Me.prototype.sendVerificationEmail=function(e){return Ze("/me/send-verification-email"),this.wpcom.req.post({path:"/me/send-verification-email"},e)},Me.prototype.getNotificationSettings=function(e){return Ze("/me/notification/settings/"),this.wpcom.req.get({apiVersion:"1.1",path:"/me/notifications/settings/"},e)},Me.prototype.updateNotificationSettings=function(e,t,n){let s={};return Ze("/me/notification/settings/"),t&&(s={applyToAll:!0}),this.wpcom.req.post({apiVersion:"1.1",path:"/me/notifications/settings/"},s,e,n)},Me.prototype.getAccountRecovery=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/account-recovery"},e)},Me.prototype.updateAccountRecoveryPhone=function(e,t,n){const s={apiVersion:"1.1",path:"/me/account-recovery/phone",body:{country:e,phone_number:t}};return this.wpcom.req.post(s,n)},Me.prototype.deleteAccountRecoveryPhone=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/phone/delete"},e)},Me.prototype.newValidationAccountRecoveryPhone=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/phone/validation/new"},e)},Me.prototype.validateAccountRecoveryPhone=function(e,t){const n={apiVersion:"1.1",path:"/me/account-recovery/phone/validation",body:{code:e}};return this.wpcom.req.post(n,t)},Me.prototype.updateAccountRecoveryEmail=function(e,t){const n={apiVersion:"1.1",path:"/me/account-recovery/email",body:{email:e}};return this.wpcom.req.post(n,t)},Me.prototype.deleteAccountRecoveryEmail=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/email/delete"},e)},Me.prototype.newValidationAccountRecoveryEmail=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/email/validation/new"},e)},Me.prototype.socialConnect=function({service:e,access_token:t,id_token:o,user_name:r,user_email:i,redirect_to:a},l){const c={path:"/me/social-login/connect",body:{service:e,access_token:t,id_token:o,user_name:r,user_email:i,redirect_to:a,client_id:(0,s.ZP)("wpcom_signup_id"),client_secret:(0,s.ZP)("wpcom_signup_key")}};return n("../packages/wpcom-proxy-request/src/index.js").sS(),this.wpcom.req.post({metaAPI:{accessAllUsersBlogs:!0}}),this.wpcom.req.post(c,l)},Me.prototype.socialDisconnect=function(e,t){const n={path:"/me/social-login/disconnect",body:{service:e,client_id:(0,s.ZP)("wpcom_signup_id"),client_secret:(0,s.ZP)("wpcom_signup_key")}};return this.wpcom.req.post(n,t)};const Be=Me,He=r()("calypso:wpcom-undocumented:site"),Ke=function(e){return function(t,n){let s=e.subpath;s=s.replace(/\/:([^\/]+)/g,(function(e,n){let s;return void 0!==t[n]?(s=t[n],delete t[n],"/"+s):"/"})),t.apiVersion=e.apiVersion;const o="/sites/"+this._id+"/"+s;return He("calling undocumented site api path",o),He("query",t),He("resourceOptions",e),"post"===e.method?this.wpcom.req.post(o,{},t,n):this.wpcom.req[e.method](o,t,n)}};function Ge(e,t){if(He("UndocumentedSite",e),!(this instanceof Ge))return new Ge(e,t);this.wpcom=t,this._id=e}[["statsEvents","posts/"],["statsInsights","stats/insights","1.1"],["statsFileDownloads","stats/file-downloads","1.1"],["statsAds","wordads/stats","1.1"]].forEach((function(e){const t=e[0],n={subpath:e[1],apiVersion:e[2]||"1",method:e[3]||"get"};Ge.prototype[t]=Ke.call(this,n)})),Ge.prototype.statsOrders=function(e){return this.wpcom.req.get({path:`/sites/${this._id}/stats/orders`,apiNamespace:"wpcom/v2"},e)},Ge.prototype.statsStoreReferrers=function(e){return this.wpcom.req.get({path:`/sites/${this._id}/stats/events-by-referrer`,apiNamespace:"wpcom/v2"},e)},Ge.prototype.statsTopSellers=function(e){return this.wpcom.req.get({path:`/sites/${this._id}/stats/top-sellers`,apiNamespace:"wpcom/v2"},e)},Ge.prototype.statsTopEarners=function(e){return this.wpcom.req.get({path:`/sites/${this._id}/stats/top-earners`,apiNamespace:"wpcom/v2"},e)},Ge.prototype.statsTopCategories=function(e){return this.wpcom.req.get({path:`/sites/${this._id}/stats/top-product-categories-by-usage`,apiNamespace:"wpcom/v2"},e)},Ge.prototype.statsTopCoupons=function(e){return this.wpcom.req.get({path:`/sites/${this._id}/stats/top-coupons-by-usage`,apiNamespace:"wpcom/v2"},e)};const Je=Ge,Ye=r()("calypso:wpcom-undocumented:undocumented"),{Blob:We}=globalThis;function Xe(e){e.client_id=(0,s.ZP)("wpcom_signup_id"),e.client_secret=(0,s.ZP)("wpcom_signup_key")}function Qe(e){if(!(this instanceof Qe))return new Qe(e);this.wpcom=e}function et(e,t){return Object.keys(e).reduce((function(n,s){let o=e[s];return(0,Ne.Z)(o)&&(o=et(o,t)),n[t(s)]=o,n}),{})}function tt(e){if(e.content_width)return;const t=function(){if("undefined"==typeof document)return;const e=document.documentElement.clientWidth;return e>1040?720:e>928?e-304:e>660?e-288:e-20}();t&&(e.content_width=t)}Qe.prototype.site=function(e){return new Je(e,this.wpcom)},Qe.prototype.me=function(){return new Be(this.wpcom)},Qe.prototype.getJetpackModules=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/all/"},t)},Qe.prototype.jetpackModuleActivate=function(e,t,n){return this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/"+t+"/active/",body:JSON.stringify({active:!0})},n)},Qe.prototype.jetpackModuleDeactivate=function(e,t,n){return this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/"+t+"/active/",body:JSON.stringify({active:!1})},n)},Qe.prototype.fetchMonitorSettings=function(e,t){return Ye("/jetpack-blogs/:site_id: query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e},t)},Qe.prototype.updateMonitorSettings=function(e,t,n,s){return Ye("/jetpack-blogs/:site_id: query"),this.wpcom.req.post({path:"/jetpack-blogs/"+e},{},{email_notifications:t,wp_note_notifications:n},s)},Qe.prototype.disconnectJetpack=function(e,t){return Ye("/jetpack-blogs/:site_id:/mine/delete query"),this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/mine/delete"},t)},Qe.prototype.fetchJetpackKeys=function(e,t){return Ye("/jetpack-blogs/:site_id:/keys query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/keys"},t)},Qe.prototype.testConnectionJetpack=function(e,t){return Ye("/jetpack-blogs/:site_id:/test-connection query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/test-connection"},t)},Qe.prototype.getJetpackConnectionStatus=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/connection/"},t)},Qe.prototype.getJetpackUserConnectionData=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/connection/data/"},t)},Qe.prototype.jetpackLogin=function(e,t,n,s,o){Ye("/jetpack-blogs/:site_id:/jetpack-login query");const r="/jetpack-blogs/"+e+"/jetpack-login",i={_wp_nonce:t,redirect_uri:n,scope:s,state:o};return this.wpcom.req.get({path:r},i)},Qe.prototype.jetpackAuthorize=function(e,t,n,s,o,r,i){Ye("/jetpack-blogs/:site_id:/authorize query");const a="/jetpack-blogs/"+e+"/authorize",l={code:t,state:n,redirect_uri:s,secret:o,jp_version:r,from:i};return this.wpcom.req.post({path:a},l)},Qe.prototype.jetpackValidateSSONonce=function(e,t,n){Ye("/jetpack-blogs/:site_id:/sso-validate query");const s="/jetpack-blogs/"+e+"/sso-validate",o={sso_nonce:t};return this.wpcom.req.post({path:s},o,n)},Qe.prototype.jetpackAuthorizeSSONonce=function(e,t,n){Ye("/jetpack-blogs/:site_id:/sso-authorize query");const s="/jetpack-blogs/"+e+"/sso-authorize",o={sso_nonce:t};return this.wpcom.req.post({path:s},o,n)},Qe.prototype.jetpackIsUserConnected=function(e){Ye("/sites/:site_id:/jetpack-connect/is-user-connected query");const t="/sites/"+e+"/jetpack-connect/is-user-connected";return this.wpcom.req.get({path:t,apiNamespace:"wpcom/v2"})},Qe.prototype.getJetpackSyncStatus=function(e,t){Ye("/sites/:site_id:/sync/status query");const n="/sites/"+e+"/sync/status";return this.wpcom.req.get({path:n},t)},Qe.prototype.scheduleJetpackFullysync=function(e,t){Ye("/sites/:site_id:/sync query");const n="/sites/"+e+"/sync";return this.wpcom.req.post({path:n},{},t)},Qe.prototype.settings=function(e,t="get",n={},s){Ye("/sites/:site_id:/settings query"),"function"==typeof t&&(s=t,t="get",n={});const o=n.apiVersion||"1.1",r=(0,Ve.Z)(n,["apiVersion"]),i="/sites/"+e+"/settings";return"get"===t?this.wpcom.req.get(i,{apiVersion:o},s):this.wpcom.req.post({path:i},{apiVersion:o},r,s)},Qe.prototype.getSiteKeyrings=function(e,t){return this.wpcom.req.get("/sites/"+e+"/keyrings",{apiVersion:"1.1"},t)},Qe.prototype.createSiteKeyring=function(e,t,n){return this.wpcom.req.post("/sites/"+e+"/keyrings",{apiVersion:"1.1"},t,n)},Qe.prototype.updateSiteKeyring=function(e,t,n,s){return this.wpcom.req.post("/sites/"+e+"/keyrings/"+t,{apiVersion:"1.1"},{external_user_id:n},s)},Qe.prototype.deleteSiteKeyring=function(e,t,n,s){return s||"function"!=typeof n||(s=n,n=null),this.wpcom.req.post("/sites/"+e+"/keyrings/"+t+"/delete",{apiVersion:"1.1"},{external_user_id:n},s)},Qe.prototype._sendRequest=function(e,t){const{apiVersion:n,method:s}=e,o=(0,Ve.Z)(e,["apiVersion","method"]);return n?this.wpcom.req[s.toLowerCase()](o,{apiVersion:n},t):this.wpcom.req[s.toLowerCase()](o,t)},Qe.prototype.isDomainAvailable=function(e,t,n,s){return this.wpcom.req.get(`/domains/${encodeURIComponent(e)}/is-available`,{blog_id:t,apiVersion:"1.3",is_cart_pre_check:n},s)},Qe.prototype.checkAuthCode=function(e,t,n){return this.wpcom.req.get(`/domains/${encodeURIComponent(e)}/inbound-transfer-check-auth-code`,{auth_code:t},n)},Qe.prototype.getInboundTransferStatus=function(e,t){return this.wpcom.req.get({path:`/domains/${encodeURIComponent(e)}/inbound-transfer-status`},t)},Qe.prototype.startInboundTransfer=function(e,t,n,s){let o={};return n&&""!==n&&(o={auth_code:n}),this.wpcom.req.get(`/domains/${encodeURIComponent(t)}/inbound-transfer-start/${e}`,o,s)},Qe.prototype.getAvailableTlds=function(e={}){return this.wpcom.req.get("/domains/suggestions/tlds",e)},Qe.prototype.canRedirect=function(e,t,n){return t=encodeURIComponent(t.toLowerCase()),this.wpcom.req.get({path:"/domains/"+e+"/"+t+"/can-redirect"},n)},Qe.prototype.getSiteRedirect=function(e,t){return Ye("/sites/:site_id/domains/redirect query"),this.wpcom.req.get({path:"/sites/"+e+"/domains/redirect"},t)},Qe.prototype.setSiteRedirect=function(e,t,n){return Ye("/sites/:site_id/domains/redirect"),this.wpcom.req.post({path:"/sites/"+e+"/domains/redirect"},{location:t},n)},Qe.prototype.getDomainContactInformation=function(e){return Ye("/me/domain-contact-information query"),this._sendRequest({path:"/me/domain-contact-information",method:"get"},(function(t,n){if(t)return e(t);const s=et(n,(function(e){return"_headers"===e?e:(0,Ue.default)(e)}));e(null,s)}))},Qe.prototype.getDomainPrice=function(e,t){return this.wpcom.req.get(`/domains/${encodeURIComponent(e)}/price`,{apiVersion:"1.1"},t)},Qe.prototype.getDomainRegistrationSupportedStates=function(e,t){return Ye("/domains/supported-states/ query"),this._sendRequest({path:"/domains/supported-states/"+e,method:"get"},t)},Qe.prototype.validateDomainContactInformation=function(e,t,n,s){let o={contactInformation:e,domainNames:t};Ye("/me/domain-contact-information/validate query"),o=et(o,De.Z);const r="1.2"===s?.apiVersion;return this.wpcom.req.post({path:"/me/domain-contact-information/validate"},s,o,(function(e,t){if(e)return n(e);t.messages&&r&&(t.messages=Object.keys(t.messages).reduce(((e,n)=>((0,ze.Z)(e,n,t.messages[n]),e)),{}));const s=et(t,(function(e){return"_headers"===e?e:(0,Ue.default)(e)}));n(null,s)}))},Qe.prototype.getTitanOrderProvisioningURL=function(e,t){return this.wpcom.req.get({path:`/emails/titan/${encodeURIComponent(e)}/order-provisioning-url`,apiNamespace:"wpcom/v2"},t)},Qe.prototype.getTitanDetailsForIncomingRedirect=function(e,t,n){return this.wpcom.req.get({path:`/titan/redirect-info/${encodeURIComponent(e)}`,apiNamespace:"wpcom/v2"},{jwt:t},n)},Qe.prototype.getTitanControlPanelAutoLoginURL=function(e,t,n){return this.wpcom.req.get({path:`/emails/titan/${encodeURIComponent(e)}/control-panel-auto-login-url`,apiNamespace:"wpcom/v2"},{context:t},n)},Qe.prototype.getTitanControlPanelIframeURL=function(e,t,n){return this.wpcom.req.get({path:`/emails/titan/${encodeURIComponent(e)}/control-panel-iframe-url`,apiNamespace:"wpcom/v2"},{context:t},n)},Qe.prototype.getTitanMailboxAvailability=function(e,t,n){return this.wpcom.req.get({path:`/emails/titan/${encodeURIComponent(e)}/check-mailbox-availability/${encodeURIComponent(t)}`,apiNamespace:"wpcom/v2"},n)},Qe.prototype.getSiteProducts=function(e,t){return Ye("/sites/:site_domain:/products query"),e=encodeURIComponent(e),this._sendRequest({path:"/sites/"+e+"/products",method:"get"},t)},Qe.prototype.billingHistory=function(e){return this._sendRequest({path:"/me/billing-history",method:"get",apiVersion:"1.3"},e)},Qe.prototype.getSitePlans=function(e,t){return Ye("/sites/:site_domain:/plans query"),e=encodeURIComponent(e),this._sendRequest({path:"/sites/"+e+"/plans",method:"get",apiVersion:"1.3"},t)},Qe.prototype.getSiteFeatures=function(e,t){return Ye("/sites/:site_domain:/features query"),this._sendRequest({path:`/sites/${encodeURIComponent(e)}/features`,method:"get",apiVersion:"1.1"},t)},Qe.prototype.sitesExternalServices=function(e,t){return Ye("/sites/:site-id:/external-services query"),this.wpcom.req.get({path:"/sites/"+e+"/external-services",apiNamespace:"wpcom/v2"},t)},Qe.prototype.sharingButtons=function(e,t,n){return void 0===n&&"function"==typeof t&&(n=t,t={}),Ye("/sites/:site_id:/sharing-buttons query"),this.wpcom.req.get("/sites/"+e+"/sharing-buttons",t,n)},Qe.prototype.saveSharingButtons=function(e,t,n){return Ye("/sites/:site_id:/sharing-buttons query"),this.wpcom.req.post({path:"/sites/"+e+"/sharing-buttons",body:{sharing_buttons:t},apiVersion:"1.1"},n)},Qe.prototype.p2KeyringConnections=function(e,t){return Ye("get: /p2/connections/items"),this.wpcom.req.get({path:"/p2/connections/items",apiNamespace:"wpcom/v2"},{hub_id:e},t)},Qe.prototype.deleteP2KeyringConnection=function(e,t,n){return Ye("delete: /p2/connections/items/:keyring_connection_id"),this.wpcom.req.get({path:"/p2/connections/items/"+e,apiNamespace:"wpcom/v2",method:"DELETE"},{hub_id:t},n)},Qe.prototype.mekeyringConnections=function(e,t){return Ye("/me/connections query"),"function"==typeof e&&(t=e,e=!1),this.wpcom.req.get({path:"/me/connections",apiNamespace:"wpcom/v2"},e?{force_external_users_refetch:e}:{},t)},Qe.prototype.deletekeyringConnection=function(e,t){return Ye("/me/connections/:keyring_connection_id:/ delete"),this.wpcom.req.get({path:"/me/connections/"+e,apiNamespace:"wpcom/v2",method:"DELETE"},t)},Qe.prototype.siteConnections=function(e,t){return Ye("/sites/:site_id:/publicize-connections query"),this.wpcom.req.get({path:"/sites/"+e+"/publicize-connections",apiVersion:"1.1"},t)},Qe.prototype.deleteSiteConnection=function(e,t,n){return Ye("/sites/:site_id:/publicize-connections/:connection_id:/delete query"),this.wpcom.req.post({path:"/sites/"+e+"/publicize-connections/"+t+"/delete",apiVersion:"1.1"},n)},Qe.prototype.deleteSite=function(e,t){return Ye("/sites/:site_id/delete query"),this.wpcom.req.post({path:"/sites/"+e+"/delete"},t)},Qe.prototype.createConnection=function(e,t,n,s,o){void 0===o&&"function"==typeof s&&(o=s,s={});const r={keyring_connection_ID:e};"boolean"==typeof s.shared&&(r.shared=s.shared),n&&(r.external_user_ID=n);const i=t?"/sites/"+t+"/publicize-connections/new":"/me/publicize-connections/new";return this.wpcom.req.post({path:i,body:r,apiVersion:"1.1"},o)},Qe.prototype.publicizePost=function(e,t,n,s,o){const r={skipped_connections:[]};return r.message=n,s&&s.length>0&&(r.skipped_connections=s),this.wpcom.req.post({path:`/sites/${e}/posts/${t}/publicize`,body:r,apiNamespace:"wpcom/v2"},o)},Qe.prototype.updateConnection=function(e,t,n,s){let o;return e?(Ye("/sites/:site_id:/publicize-connections/:connection_id: query"),o="/sites/"+e+"/publicize-connections/"+t):(Ye("/me/publicize-connections/:connection_id: query"),o="/me/publicize-connections/"+t),this.wpcom.req.post({path:o,body:n,apiVersion:"1.1"},s)},Qe.prototype.transactions=function(e,t){return this.wpcom.req.post("/me/transactions",et(e,De.Z),t)},Qe.prototype.updateCreditCard=function(e,t){const n=(0,Oe.Z)(e,["payment_partner","paygate_token"]);return this.wpcom.req.post("/upgrades/"+e.purchaseId+"/update-credit-card",n,t)},Qe.prototype.paypalExpressUrl=function(e,t){return Ye("/me/paypal-express-url query"),e=et(e,De.Z),this.wpcom.req.post("/me/paypal-express-url",e,t)},Qe.prototype.readFeedPost=function(e,t){const n=(0,Ve.Z)(e,["feedId","postId"]);return Ye("/read/feed/"+e.feedId+"/posts/"+e.postId),n.apiVersion="1.2",tt(n),this.wpcom.req.get("/read/feed/"+encodeURIComponent(e.feedId)+"/posts/"+encodeURIComponent(e.postId),n,t)},Qe.prototype.readTagImages=function(e,t){const n=(0,Ve.Z)(e,"tag");return Ye("/read/tags/"+e.tag+"/images"),n.apiVersion="1.2",this.wpcom.req.get("/read/tags/"+encodeURIComponent(e.tag)+"/images",n,t)},Qe.prototype.readSitePost=function(e,t){const n=(0,Ve.Z)(e,["site","postId"]);return Ye("/read/sites/:site/post/:post"),tt(n),this.wpcom.req.get("/read/sites/"+e.site+"/posts/"+e.postId,n,t)},Qe.prototype.readSitePostRelated=function(e,t){Ye("/read/site/:site/post/:post/related");const n=(0,Ve.Z)(e,["site_id","post_id"]);return n.apiVersion="1.2",tt(n),this.wpcom.req.get("/read/site/"+e.site_id+"/post/"+e.post_id+"/related",n,t)},Qe.prototype.supportAlternates=function(e,t){const n=(0,Ve.Z)(e,["site","postId"]);return Ye("/support/alternates/:site/posts/:post"),tt(n),this.wpcom.req.get("/support/alternates/"+e.site+"/posts/"+e.postId,n,t)},Qe.prototype.usersNew=function(e,t){Ye("/users/new"),Xe(e),e.locale=(0,Fe.Yj)();const n={path:"/users/new",body:e};return this.wpcom.req.post(n,t)},Qe.prototype.usersSocialNew=function(e,t){e.locale=(0,Fe.Yj)(),Xe(e);const n={path:"/users/social/new",body:e};return this.wpcom.req.post(n,t)},Qe.prototype.createUserAndSite=function(e,t){Ye("/users/new"),Xe(e),e.locale=(0,Fe.Yj)();const n={path:"/users/new",body:e};return this.wpcom.req.post(n,t)},Qe.prototype.validateNewUser=function(e,t){return Ye("/signups/validation/user"),e.locale=(0,Fe.Yj)(),this.wpcom.req.post("/signups/validation/user/",null,e,t)},Qe.prototype.usersEmailNew=function(e,t){Ye("/users/email/new"),Xe(e);const n={path:"/users/email/new",body:e};return this.wpcom.req.post(n,t)},Qe.prototype.usersEmailVerification=function(e,t){Ye("/users/email/verification"),Xe(e);const n={path:"/users/email/verification",body:e};return this.wpcom.req.post(n,t)},Qe.prototype.sitesNew=function(e,t){const n=(0,Fe.Yj)();return Ye("/sites/new"),Xe(e),e.lang_id=(0,Fe.G3)(n).value,e.locale=n,this.wpcom.req.post({path:"/sites/new",body:e},t)},Qe.prototype.launchSite=function(e,t){const n=`/sites/${e}/launch`;return Ye(n),this.wpcom.req.post(n,t)},Qe.prototype.themes=function(e,t,n){const s=e?"/sites/"+e+"/themes":"/themes";return Ye(s),this.wpcom.req.get(s,t,n)},Qe.prototype.themeDetails=function(e,t,n){const s=`${t?`/sites/${t}`:""}/themes/${e}`;return Ye(s),this.wpcom.req.get(s,{apiVersion:"1.2"},n)},Qe.prototype.jetpackThemeDetails=function(e,t,n){const s=`/sites/${t}/themes`;return Ye(s),this.wpcom.req.post({path:s,body:{themes:e}},n)},Qe.prototype.installThemeOnJetpack=function(e,t,n){const s=`/sites/${e}/themes/${t}/install`;return Ye(s),this.wpcom.req.post({path:s},n)},Qe.prototype.deleteThemeFromJetpack=function(e,t,n){const s=`/sites/${e}/themes/${t}/delete`;return Ye(s),this.wpcom.req.post({path:s},n)},Qe.prototype.activeTheme=function(e,t){return Ye("/sites/:site_id/themes/mine"),this.wpcom.req.get({path:"/sites/"+e+"/themes/mine"},t)},Qe.prototype.activateTheme=function(e,t,n,s){return Ye("/sites/:site_id/themes/mine"),this.wpcom.req.post({path:"/sites/"+t+"/themes/mine",body:{theme:e,...n&&{dont_change_homepage:!0}}},s)},Qe.prototype.uploadTheme=function(e,t,n){return Ye("/sites/:site_id/themes/new"),new Promise(((s,o)=>{this.wpcom.req.post({path:"/sites/"+e+"/themes/new",formData:[["zip[]",t]]},((e,t)=>{e?o(e):s(t)})).upload.onprogress=n}))},Qe.prototype.resendIcannVerification=function(e,t){return this.wpcom.req.post("/domains/"+e+"/resend-icann/",t)},Qe.prototype.fetchDns=function(e,t){return this.wpcom.req.get("/domains/"+e+"/dns",t)},Qe.prototype.updateDns=function(e,t,n){const s={dns:JSON.stringify(t)};return this.wpcom.req.post("/domains/"+e+"/dns",s,n)},Qe.prototype.applyDnsTemplate=function(e,t,n,s,o){return this.wpcom.req.post("/domains/"+e+"/dns/providers/"+t+"/services/"+n,{variables:s},o)},Qe.prototype.applyDnsTemplateSyncFlow=function(e,t,n,s,o){return this.wpcom.req.get("/domain-connect/authorize/v2/domainTemplates/providers/"+t+"/services/"+n+"/apply/authorized",Object.assign({},{apiVersion:"1.3"},s),o)},Qe.prototype.getDnsTemplateRecords=function(e,t,n,s,o){return this.wpcom.req.post("/domains/"+e+"/dns/providers/"+t+"/services/"+n+"/preview",{variables:s},o)},Qe.prototype.transferToUser=function(e,t,n,s){return this.wpcom.req.post("/sites/"+e+"/domains/"+t+"/transfer-to-user/"+n,s)},Qe.prototype.transferToSite=function(e,t,n,s){return this.wpcom.req.post(`/sites/${e}/domains/${t}/transfer-to-site/${n}`,s)},Qe.prototype.fetchWhois=function(e,t){return Ye("/domains/:domainName/whois query"),this.wpcom.req.get(`/domains/${e}/whois`,t)},Qe.prototype.updateWhois=function(e,t,n,s){return Ye("/domains/:domainName/whois"),this.wpcom.req.post({path:`/domains/${e}/whois`,apiVersion:"1.1",body:{whois:t,transfer_lock:n}},s)},Qe.prototype.addDomainMapping=function(e,t,n){return Ye("/site/:site_id/add-domain-mapping"),this.wpcom.req.post({path:`/sites/${e}/add-domain-mapping`,body:{domain:t}},n)},Qe.prototype.addVipDomainMapping=function(e,t,n){return Ye("/site/:site_id/vip-domain-mapping"),this.wpcom.req.post({path:`/sites/${e}/vip-domain-mapping`,body:{domain:t}},n)},Qe.prototype.changeTheme=function(e,t,n){return Ye("/site/:site_id/themes/mine"),this.wpcom.req.post({path:"/sites/"+e+"/themes/mine",body:t},n)},Qe.prototype.resetPasswordForMailbox=function(e,t,n){return Ye("/domains/:domainName/google-apps/:mailbox/get-new-password"),this.wpcom.req.post({path:"/domains/"+e+"/google-apps/"+t+"/get-new-password"},n)},Qe.prototype.isSiteImportable=function(e){return Ye(`/wpcom/v2/imports/is-site-importable?${e}`),this.wpcom.req.get({path:"/imports/is-site-importable",apiNamespace:"wpcom/v2"},{site_url:e})},Qe.prototype.fetchImporterState=function(e){return Ye(`/sites/${e}/importer/`),this.wpcom.req.get({path:`/sites/${e}/imports/`})},Qe.prototype.updateImporter=function(e,t){return Ye(`/sites/${e}/imports/${t.importId}`),this.wpcom.req.post({path:`/sites/${e}/imports/${t.importerId}`,formData:[["importStatus",JSON.stringify(t)]]})},Qe.prototype.importWithSiteImporter=function(e,t,n,s){return Ye(`/sites/${e}/site-importer/import-site?${(0,l.stringify)(n)}`),this.wpcom.req.post({path:`/sites/${e}/site-importer/import-site?${(0,l.stringify)(n)}`,apiNamespace:"wpcom/v2",formData:[["import_status",JSON.stringify(t)],["site_url",s]]})},Qe.prototype.uploadExportFile=function(e,t){return new Promise(((n,s)=>{const o=[["importStatus",JSON.stringify(t.importStatus)],["import",t.file]];t.url&&o.push(["url",t.url]);const r=this.wpcom.req.post({path:`/sites/${e}/imports/new`,formData:o},((e,t)=>{e?s(e):n(t)}));r.upload.onprogress=t.onprogress,r.onabort=t.onabort}))},Qe.prototype.cancelPurchase=function(e,t){return Ye("upgrades/{purchaseId}/disable-auto-renew"),this.wpcom.req.post({path:`/upgrades/${e}/disable-auto-renew`},t)},Qe.prototype.disableAutoRenew=function(e,t){return Ye("upgrades/{purchaseId}/disable-auto-renew"),this.wpcom.req.post({path:`/upgrades/${e}/disable-auto-renew`},t)},Qe.prototype.enableAutoRenew=function(e,t){return Ye("upgrades/{purchaseId}/enable-auto-renew"),this.wpcom.req.post({path:`/upgrades/${e}/enable-auto-renew`},t)},Qe.prototype.cancelPlanTrial=function(e,t){return Ye("/upgrades/{planId}/cancel-plan-trial"),this.wpcom.req.post({path:`/upgrades/${e}/cancel-plan-trial`},t)},Qe.prototype.getExportSettings=function(e,t){return this.wpcom.req.get({apiVersion:"1.1",path:`/sites/${e}/exports/settings`},t)},Qe.prototype.startExport=function(e,t,n){return this.wpcom.req.post({apiVersion:"1.1",path:`/sites/${e}/exports/start`},t,n)},Qe.prototype.getExport=function(e,t,n){return this.wpcom.req.get({apiVersion:"1.1",path:`/sites/${e}/exports/${t}`},n)},Qe.prototype.getSiteConnectInfo=function(e){return this.wpcom.req.get("/connect/site-info",{url:e})},Qe.prototype.importReaderFeed=function(e,t){Ye("/read/following/mine/import");const n={path:"/read/following/mine/import",formData:[["import",e]]};return this.wpcom.req.post(n,{apiVersion:"1.2"},null,t)},Qe.prototype.registerDevice=function(e,t,n,s){return Ye("/devices/new"),this.wpcom.req.post({path:"/devices/new"},{},{device_token:e,device_family:t,device_name:n},s)},Qe.prototype.unregisterDevice=function(e,t){return Ye("/devices/:device_id/delete"),this.wpcom.req.post({path:`/devices/${e}/delete`},t)},Qe.prototype.wordAdsApprove=function(e){return Ye("/sites/:site:/wordads/approve"),this.wpcom.req.post("/sites/"+e+"/wordads/approve")},Qe.prototype.initiateTransfer=function(e,t,n,s){return Ye("/sites/:site_id/automated-transfers/initiate"),new Promise(((o,r)=>{const i={path:`/sites/${e}/automated-transfers/initiate`};t&&(i.body={plugin:t}),n&&(i.formData=[["theme",n]]);const a=this.wpcom.req.post(i,((e,t)=>{e?r(e):o(t)}));a&&(a.upload.onprogress=s)}))},Qe.prototype.externalMediaList=function(e,t){return Ye(`/meta/external-media/${e.source}`),this.wpcom.req.get(`/meta/external-media/${e.source}`,e,t)},Qe.prototype.transferStatus=function(e,t){return Ye("/sites/:site_id/automated-transfers/status/:transfer_id"),this.wpcom.req.get({path:`/sites/${e}/automated-transfers/status/${t}`})},Qe.prototype.oauth2ClientId=function(e,t){return this.wpcom.req.get(`/oauth2/client-data/${e}`,{apiNamespace:"wpcom/v2"},t)},Qe.prototype.getFeaturedPlugins=function(e){return this.wpcom.req.get("/plugins/featured",{apiNamespace:"wpcom/v2"},e)},Qe.prototype.getRequestSiteAddressChangeNonce=function(e){return this.wpcom.req.get({path:`/sites/${e}/site-address-change/nonce`,apiNamespace:"wpcom/v2"})},Qe.prototype.checkSiteAddressValidation=function(e,t,n,s){return this.wpcom.req.post({path:`/sites/${e}/site-address-change/validate`,apiNamespace:"wpcom/v2"},{},{blogname:t,domain:n,type:s})},Qe.prototype.updateSiteAddress=function(e,t,n,s,o,r,i){return this.wpcom.req.post({path:`/sites/${e}/site-address-change`,apiNamespace:"wpcom/v2"},{},{blogname:t,domain:n,old_domain:s,type:o,discard:r,nonce:i})},Qe.prototype.requestGdprConsentManagementLink=function(e,t){return this.wpcom.req.get(`/domains/${e}/request-gdpr-consent-management-link`,(function(e,n){e?t(e):t(null,n)}))},Qe.prototype.getDomainConnectSyncUxUrl=function(e,t,n,s,o){return this.wpcom.req.get(`/domains/${e}/dns/providers/${t}/services/${n}/syncurl`,{redirect_uri:s},o)},Qe.prototype.domainsVerifyRegistrantEmail=function(e,t,n){return this.wpcom.req.get(`/domains/${e}/verify-email`,{email:t,token:n})},Qe.prototype.domainsVerifyOutboundTransferConfirmation=function(e,t,n,s){return this.wpcom.req.get(`/domains/${e}/outbound-transfer-confirmation-check`,{recipient_id:t,token:n,command:s})},Qe.prototype.getMigrationStatus=function(e){return this.wpcom.req.get({path:`/sites/${e}/migration-status`,apiNamespace:"wpcom/v2"})},Qe.prototype.resetMigration=function(e){return this.wpcom.req.post({path:`/sites/${e}/reset-migration`,apiNamespace:"wpcom/v2"})},Qe.prototype.startMigration=function(e,t){return this.wpcom.req.post({path:`/sites/${t}/migrate-from/${e}`,apiNamespace:"wpcom/v2"})},Qe.prototype.getAtomicSiteMediaViaProxy=function(e,t,{query:n="",maxSize:s}){const o={path:`/sites/${e}/atomic-auth-proxy/file?path=${t}&${n.replace(/^\?/,"")}`,apiNamespace:"wpcom/v2"};return new Promise(((e,t)=>{const n=()=>this.wpcom.req.get({...o,responseType:"blob"},((n,s)=>{!n&&s instanceof We?e(s):t(n)}));return s?this.wpcom.req.get({...o,method:"HEAD"},((e,o,r)=>{r["Content-Length"]>s?t({message:"exceeded_max_size"}):n()})):n()}))},Qe.prototype.getAtomicSiteMediaViaProxyRetry=function(e,t,n){let s=0;const o=()=>this.getAtomicSiteMediaViaProxy(e,t,n).catch((e=>s<3?new Promise((e=>{++s,setTimeout((()=>{e(o())}),s*s*1e3/2)})):Promise.reject(e)));return o()},Qe.prototype.getMatchingAnchorSite=function(e,t,n,s,o){const r={podcast:e,episode:t,spotify_url:n,site:s,post:o};return Object.keys(r).forEach((e=>{null===r[e]&&delete r[e]})),this.wpcom.req.get({path:"/anchor",method:"GET",apiNamespace:"wpcom/v2"},r)},Qe.prototype.getAtomicSiteLogs=function(e,t,n,s){return this.wpcom.req.post({path:`/sites/${e}/hosting/logs`,apiNamespace:"wpcom/v2"},{},{start:t,end:n,page_size:1e4,scroll_id:s})};const nt=Qe,st=r()("calypso:wpcom-undocumented");function ot(e,t){if(!(this instanceof ot))return new ot(e,t);"function"==typeof e?(t=e,e=null):e&&this.loadToken(e),Ce.call(this,e,(function(e,n){return this.isTokenLoaded()&&(e={...e,authToken:this._token,token:this._token}),t(e,n)})),st("Extending wpcom with undocumented endpoints.")}u()(ot,Ce),ot.prototype.undocumented=function(){return new nt(this)},Ce.prototype.loadToken=function(e){this._token=e},ot.prototype.isTokenLoaded=function(){return void 0!==this._token};const rt=ot;var it=n("./lib/user/shared-utils/get-logout-url.js"),at=n("./lib/user/store.js");async function lt(e,t){return(0,(await n.e(36361).then(n.t.bind(n,"../node_modules/wpcom-xhr-request/build/index.js",23))).default)(e,(async function(e,n,s){e&&"InvalidTokenError"===e.name&&(await(0,at.YF)(),window.location.href=(0,it.K)()),t(e,n,s)}))}var ct=n("../node_modules/store/dist/store.modern.js"),pt=n.n(ct);const ut="guest_sandbox_ticket",dt=()=>pt().get(ut);(()=>{if("undefined"==typeof window)return;(()=>{const e=dt();e&&e.createdDate<Date.now()-72e5&&pt().remove(ut)})();const e=(0,l.parse)(window.location.search.replace("?",""));e.guest_ticket&&pt().set(ut,{createdDate:Date.now(),value:e.guest_ticket})})();var mt=n("../packages/i18n-calypso/src/index.js");const ht=r()("calypso:wp");let gt;s.ZP.isEnabled("oauth")?gt=rt(a.LP(),lt):(gt=rt(i.ZP),gt.request({metaAPI:{accessAllUsersBlogs:!0}},(function(e){if(e)throw e;ht('Proxy now running in "access all user\'s blogs" mode')}))),s.ZP.isEnabled("support-user")&&(gt=function(e){let t="",n="",s=null;const o=e.request.bind(e);return Object.assign(e,{addSupportParams:function(e){return{...e,support_user:t,_support_token:n}},setSupportUserToken:function(e="",o="",r){return(e!==t||o!==n)&&(t=e,n=o,s=r,!0)},request:(e,r)=>t&&n?o(function(e){const s=(0,l.parse)(e.query);return s.support_user=t,s._support_token=n,Object.assign({},e,{query:(0,l.stringify)(s)})}(e),((e,t)=>{s&&"invalid_support_token"===e?.error?s(e):r(e,t)})):o(e,r)})}(gt)),function(e){const t=e.request.bind(e);Object.assign(e,{localized:!0,request:function(e,n){return t(function(e){const t=mt.ZP.getLocaleVariant()||mt.ZP.getLocaleSlug();if(!t||"en"===t)return e;let n;const s=(0,l.parse)(e.query);return n=e.apiNamespace?{_locale:t}:{locale:t},Object.assign(e,{query:(0,l.stringify)(Object.assign(s,n))})}(e),n)}})}(gt),(e=>{const t=e.request.bind(e);Object.assign(e,{request(e,n){const s=dt();if(s){const t=(0,l.parse)(e.query);e=Object.assign({},e,{query:(0,l.stringify)(Object.assign(t,{store_sandbox_ticket:s.value}))})}return t(e,n)}})})(gt);const wt=gt,ft=rt(lt)},"../packages/calypso-config/src/index.ts":(e,t,n)=>{"use strict";n.d(t,{ZP:()=>d,Xc:()=>c,_k:()=>m});var s=n("../node_modules/cookie/index.js");const o={env:"production",env_id:"desktop",client_slug:"desktop",readerFollowingSource:"desktop",boom_analytics_key:"desktop",google_recaptcha_site_key:"6LdoXcAUAAAAAM61KvdgP8xwnC19YuzAiOWn5Wtn"},r={desktop:!0,"desktop-promo":!1,"sign-in-with-apple":!1,"signup/social":!1,"login/magic-login":!1};if("undefined"==typeof window||!window.configData)throw new ReferenceError("No configuration was found: please see packages/calypso-config/README.md for more information");let i;var a;void 0!==window.electron?(a=window.configData,(a=Object.assign(a,o)).features&&(a.features=Object.assign(a.features,r)),window.electron&&window.electron.features&&(a.features=Object.assign(a.features,window.electron.features)),i=a):i=window.configData;const l=/^([a-zA-Z0-9-]+\.)?calypso\.live$/;function c(){return"undefined"!=typeof window&&l.test(window.location.host)}function p(e,t){e.split(",").forEach((e=>{const n=e.replace(/^[-+]/,""),s=!/^-/.test(e);i.features&&(i.features[n]=s,console.log("%cConfig flag %s via %s: %s","font-weight: bold;",s?"enabled":"disabled",t,n))}))}if(["wpcalypso","horizon","stage","jetpack-cloud-stage"].includes(i.env_id)||c()){const e=s.parse(document.cookie);e.flags&&p(e.flags,"cookie");const t=window.sessionStorage.getItem("flags");t&&p(t,"sessionStorage");const n=document.location.search&&document.location.search.match(/[?&]flags=([^&]+)(&|$)/);n&&p(n[1],"URL")}const u=(e=>{const t=(e=>t=>{if(t in e)return e[t];"undefined"!=typeof window&&console.error(`%cCore Error: %cCould not find config value for key %c${t}%c. Please make sure that if you need it then it has a default value assigned in %cconfig/_shared.json%c.`,"color: red; font-size: 120%","color: black;","color: blue;","color: black;","color: blue;","color: black")})(e);return t.isEnabled=(e=>t=>e.features&&!!e.features[t]||!1)(e),t.enabledFeatures=(e=>()=>e.features?Object.entries(e.features).reduce(((e,[t,n])=>n?[...e,t]:e),[]):[])(e),t.enable=(e=>t=>{e.features&&(e.features[t]=!0)})(e),t.disable=(e=>t=>{e.features&&(e.features[t]=!1)})(e),t})(i),d=u,m=u.isEnabled;u.enabledFeatures,u.enable,u.disable},"../packages/calypso-polyfills/browser.js":(e,t,n)=>{"use strict";n("../node_modules/core-js/modules/es.typed-array.sort.js"),n("../node_modules/core-js/modules/web.immediate.js")},"../packages/calypso-url/src/url-parts.ts":(e,t,n)=>{"use strict";n.d(t,{A:()=>l,C:()=>c});var s=n("../packages/calypso-url/src/url-type.ts");const o="http://__domain__.invalid",r=Object.freeze({protocol:"",host:"",hostname:"",port:"",origin:"",pathname:"",hash:"",search:"",searchParams:new URLSearchParams,username:"",password:""}),i=Object.keys(r);function a(e,t=i){const n={...r};return t.forEach((t=>{n[t]=e?.[t]??r[t]})),n}function l(e){const t=(0,s.D)(e);if(t===s.a.INVALID)return{...r};const n=e instanceof URL?e:new URL(e,o);if(t===s.a.ABSOLUTE)return a(n);if(t===s.a.SCHEME_RELATIVE)return a(n,i.filter((e=>"protocol"!==e&&"origin"!==e)));const l=a(n,["pathname","hash","search","searchParams"]);return t===s.a.PATH_RELATIVE&&(l.pathname=e.split(/[?#]/,1)[0]),l}function c(e){if(!e?.protocol&&!e?.origin)throw new Error("getUrlFromParts: protocol missing.");if(!e.host&&!e.hostname&&!e.origin)throw new Error("getUrlFromParts: host missing.");const t=new URL(o);if(e.origin)try{const n=new URL(e.origin);t.host=n.host,t.protocol=n.protocol}catch{throw new Error("getUrlFromParts: invalid origin.")}t.host=e.host||t.host,e.searchParams?.toString&&(t.search=e.searchParams.toString());for(const n of i)if("host"!==n&&"origin"!==n&&"searchParams"!==n){const s=e[n];s&&s!==t[n]&&(t[n]=s)}return t}},"../packages/calypso-url/src/url-type.ts":(e,t,n)=>{"use strict";let s;n.d(t,{a:()=>s,D:()=>i}),function(e){e.ABSOLUTE="ABSOLUTE",e.SCHEME_RELATIVE="SCHEME_RELATIVE",e.PATH_ABSOLUTE="PATH_ABSOLUTE",e.PATH_RELATIVE="PATH_RELATIVE",e.INVALID="INVALID"}(s||(s={}));const o="__domain__.invalid",r=`http://${o}`;function i(e){if(!(e instanceof URL)&&"string"!=typeof e)return s.INVALID;if(""===e)return s.PATH_RELATIVE;if(e instanceof URL)return s.ABSOLUTE;let t;try{if(t=new URL(e),t.protocol&&":"!==t.protocol)return s.ABSOLUTE}catch{}try{t=new URL(e,r)}catch{return s.INVALID}return""===t.pathname?s.INVALID:t.hostname!==o?s.SCHEME_RELATIVE:e.startsWith("/")?s.PATH_ABSOLUTE:s.PATH_RELATIVE}},"../packages/i18n-calypso/src/i18n.js":(e,t,n)=>{"use strict";n.d(t,{Z:()=>I});var s=n("../node_modules/events/events.js"),o=n("../node_modules/@tannin/sprintf/index.js"),r=n("../node_modules/debug/src/browser.js"),i=n.n(r),a=n("../node_modules/hash.js/lib/hash/sha/1.js"),l=n.n(a),c=n("../node_modules/interpolate-components/lib/index.js"),p=n("../node_modules/lru/index.js"),u=n.n(p),d=n("../node_modules/tannin/index.js");function m(e,t,n,s){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");const o=isFinite(+e)?+e:0,r=isFinite(+t)?Math.abs(t):0,i=void 0===s?",":s,a=void 0===n?".":n;let l="";return l=(r?function(e,t){const n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)}(o,r):""+Math.round(o)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(l[1]||"").length<r&&(l[1]=l[1]||"",l[1]+=new Array(r-l[1].length+1).join("0")),l.join(a)}const h=i()("i18n-calypso"),g="number_format_decimals",w="number_format_thousands_sep",f="messages",y=[function(e){return e}],v={};function _(){q.throwErrors&&"undefined"!=typeof window&&window.console&&window.console.warn&&window.console.warn.apply(window.console,arguments)}function b(e){return Array.prototype.slice.call(e)}function S(e){const t=e[0];("string"!=typeof t||e.length>3||e.length>2&&"object"==typeof e[1]&&"object"==typeof e[2])&&_("Deprecated Invocation: `translate()` accepts ( string, [string], [object] ). These arguments passed:",b(e),". See https://github.com/Automattic/i18n-calypso#translate-method"),2===e.length&&"string"==typeof t&&"string"==typeof e[1]&&_("Invalid Invocation: `translate()` requires an options object for plural translations, but passed:",b(e));let n={};for(let t=0;t<e.length;t++)"object"==typeof e[t]&&(n=e[t]);if("string"==typeof t?n.original=t:"object"==typeof n.original&&(n.plural=n.original.plural,n.count=n.original.count,n.original=n.original.single),"string"==typeof e[1]&&(n.plural=e[1]),void 0===n.original)throw new Error("Translate called without a `string` value as first argument.");return n}function L(e,t){return e.dcnpgettext(f,t.context,t.original,t.plural,t.count)}function T(e,t){for(let n=y.length-1;n>=0;n--){const s=y[n](Object.assign({},t)),o=s.context?s.context+""+s.original:s.original;if(e.state.locale[o])return L(e.state.tannin,s)}return null}function q(){if(!(this instanceof q))return new q;this.defaultLocaleSlug="en",this.defaultPluralForms=e=>1===e?0:1,this.state={numberFormatSettings:{},tannin:void 0,locale:void 0,localeSlug:void 0,localeVariant:void 0,textDirection:void 0,translations:u()({max:100})},this.componentUpdateHooks=[],this.translateHooks=[],this.stateObserver=new s.EventEmitter,this.stateObserver.setMaxListeners(0),this.configure()}q.throwErrors=!1,q.prototype.on=function(...e){this.stateObserver.on(...e)},q.prototype.off=function(...e){this.stateObserver.off(...e)},q.prototype.emit=function(...e){this.stateObserver.emit(...e)},q.prototype.numberFormat=function(e,t={}){return m(e,"number"==typeof t?t:t.decimals||0,t.decPoint||this.state.numberFormatSettings.decimal_point||".",t.thousandsSep||this.state.numberFormatSettings.thousands_sep||",")},q.prototype.configure=function(e){Object.assign(this,e||{}),this.setLocale()},q.prototype.setLocale=function(e){if(e&&e[""]&&e[""]["key-hash"]){const t=e[""]["key-hash"],n=function(e,t){const n=!1===t?"":String(t);if(void 0!==v[n+e])return v[n+e];const s=l()().update(e).digest("hex");return v[n+e]=t?s.substr(0,t):s},s=function(e){return function(t){return t.context?(t.original=n(t.context+String.fromCharCode(4)+t.original,e),delete t.context):t.original=n(t.original,e),t}};if("sha1"===t.substr(0,4))if(4===t.length)y.push(s(!1));else{const e=t.substr(5).indexOf("-");if(e<0){const e=Number(t.substr(5));y.push(s(e))}else{const n=Number(t.substr(5,e)),o=Number(t.substr(6+e));for(let e=n;e<=o;e++)y.push(s(e))}}}if(e&&e[""].localeSlug)if(e[""].localeSlug===this.state.localeSlug){if(e===this.state.locale)return;Object.assign(this.state.locale,e)}else this.state.locale=Object.assign({},e);else this.state.locale={"":{localeSlug:this.defaultLocaleSlug,plural_forms:this.defaultPluralForms}};this.state.localeSlug=this.state.locale[""].localeSlug,this.state.localeVariant=this.state.locale[""].localeVariant,this.state.textDirection=this.state.locale["text directionltr"]?.[0]||this.state.locale[""]?.momentjs_locale?.textDirection,this.state.tannin=new d.Z({[f]:this.state.locale}),this.state.numberFormatSettings.decimal_point=L(this.state.tannin,S([g])),this.state.numberFormatSettings.thousands_sep=L(this.state.tannin,S([w])),this.state.numberFormatSettings.decimal_point===g&&(this.state.numberFormatSettings.decimal_point="."),this.state.numberFormatSettings.thousands_sep===w&&(this.state.numberFormatSettings.thousands_sep=","),this.stateObserver.emit("change")},q.prototype.getLocale=function(){return this.state.locale},q.prototype.getLocaleSlug=function(){return this.state.localeSlug},q.prototype.getLocaleVariant=function(){return this.state.localeVariant},q.prototype.isRtl=function(){return"rtl"===this.state.textDirection},q.prototype.addTranslations=function(e){for(const t in e)""!==t&&(this.state.tannin.data.messages[t]=e[t]);this.stateObserver.emit("change")},q.prototype.hasTranslation=function(){return!!T(this,S(arguments))},q.prototype.translate=function(){const e=S(arguments);let t=T(this,e);if(t||(t=L(this.state.tannin,e)),e.args){const n=Array.isArray(e.args)?e.args.slice(0):[e.args];n.unshift(t);try{t=(0,o.Z)(...n)}catch(e){if(!window||!window.console)return;const t=this.throwErrors?"error":"warn";"string"!=typeof e?window.console[t](e):window.console[t]("i18n sprintf error:",n)}}return e.components&&(t=(0,c.Z)({mixedString:t,components:e.components,throwErrors:this.throwErrors})),this.translateHooks.forEach((function(n){t=n(t,e)})),t},q.prototype.reRenderTranslations=function(){h("Re-rendering all translations due to external request"),this.stateObserver.emit("change")},q.prototype.registerComponentUpdateHook=function(e){this.componentUpdateHooks.push(e)},q.prototype.registerTranslateHook=function(e){this.translateHooks.push(e)};const I=q},"../packages/i18n-calypso/src/index.js":(e,t,n)=>{"use strict";n.d(t,{ZP:()=>p,Yj:()=>m,NC:()=>g,Y4:()=>u,Xd:()=>h,Iu:()=>d,Vw:()=>f,qM:()=>w,Ph:()=>y});var s=n("../packages/i18n-calypso/src/i18n.js"),o=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),r=n("../node_modules/react/index.js");var i=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),a=n("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),l=n("../node_modules/use-subscription/index.js");const c=new s.Z,p=c,u=c.numberFormat.bind(c),d=c.translate.bind(c),m=(c.configure.bind(c),c.setLocale.bind(c),c.getLocale.bind(c),c.getLocaleSlug.bind(c)),h=(c.getLocaleVariant.bind(c),c.isRtl.bind(c),c.addTranslations.bind(c),c.reRenderTranslations.bind(c),c.registerComponentUpdateHook.bind(c),c.registerTranslateHook.bind(c)),g=(c.state,c.stateObserver,c.on.bind(c),c.off.bind(c),c.emit.bind(c),function(e){const t={numberFormat:e.numberFormat.bind(e),translate:e.translate.bind(e)};return function(n){var s,i;const a=n.displayName||n.name||"";return i=s=class extends r.Component{constructor(...e){super(...e),(0,o.Z)(this,"boundForceUpdate",this.forceUpdate.bind(this))}componentDidMount(){e.on("change",this.boundForceUpdate)}componentWillUnmount(){e.off("change",this.boundForceUpdate)}render(){const s={locale:e.getLocaleSlug(),...this.props,...t};return r.createElement(n,s)}},(0,o.Z)(s,"displayName","Localized("+a+")"),i}}(c)),w=function(e){function t(){const t=e.translate.bind(e);return Object.defineProperty(t,"localeSlug",{get:e.getLocaleSlug.bind(e)}),t}return function(){const[n,s]=r.useState(t);return r.useEffect((()=>{const n=()=>s(t);return e.on("change",n),()=>e.off("change",n)}),[]),n}}(c),{useRtl:f,withRtl:y}=function(e){const t={getCurrentValue:()=>e.isRtl(),subscribe:t=>(e.on("change",t),()=>e.off("change",t))};function n(){return(0,l.useSubscription)(t)}const s=(0,a.Z)((e=>(0,r.forwardRef)(((t,s)=>{const o=n();return r.createElement(e,(0,i.default)({},t,{isRtl:o,ref:s}))}))),"WithRTL");return{useRtl:n,withRtl:s}}(c)},"../packages/i18n-utils/src/locale-context.tsx":(e,t,n)=>{"use strict";n.d(t,{Iw:()=>l,bU:()=>p});var s=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),r=n("../node_modules/@wordpress/i18n/build-module/index.js"),i=n("../node_modules/react/index.js");const a=(0,i.createContext)(null),l=({children:e,localeSlug:t})=>i.createElement(a.Provider,{value:t},e);function c(){return function(e=""){if(!e)return"";const t=e.toLowerCase();return(["pt_br","pt-br","zh_tw","zh-tw","zh_cn","zh-cn","zh_sg","zh-sg"].includes(t)?t.replace("_","-"):t.replace(/([-_].*)$/i,""))||"en"}(r.k4?r.k4()?.[""]?.language:"")}function p(){const e=(0,i.useContext)(a),t=!!e,[n,s]=(0,i.useState)(c());return(0,i.useEffect)((()=>{if(!t)return s(c()),r.Ld((()=>{s(c())}))}),[t]),e||n||"en"}(0,o.Z)((e=>t=>{const n=p();return i.createElement(e,(0,s.default)({locale:n},t))}),"withLocale")},"../packages/i18n-utils/src/locales.ts":(e,t,n)=>{"use strict";n.d(t,{OP:()=>s,GG:()=>o,iT:()=>r,xn:()=>i,Xb:()=>a,hI:()=>l,mL:()=>c,vS:()=>p,_r:()=>u});const s="en",o=["en","ja","es","pt","fr","pt-br"],r=["en","fr","de"],i=["en","fr","de"],a={"pt-br":"br",br:"bre",zh:"zh-cn","zh-hk":"zh-tw","zh-sg":"zh-cn",kr:"ko"},l=["ar","de","en","es","fr","he","id","it","ja","ko","nl","pt-br","ru","sv","tr","zh-cn","zh-tw"],c=["ar","de","el","en","es","fa","fi","fr","id","it","ja","nl","pt","pt-br","ru","sv","th","tl","tr"],p=["es","pt-br","de","fr","he","ja","it","nl","ru","tr","id","zh-cn","zh-tw","ko","ar","sv"],u=["en","ar","de","es","fr","he","id","it","ja","ko","nl","pt-br","ro","ru","sv","tr","zh-cn","zh-tw"]},"../packages/i18n-utils/src/localize-url.tsx":(e,t,n)=>{"use strict";n.d(t,{aq:()=>m,Iu:()=>h,R1:()=>g});var s=n("../node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("../node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js"),r=n("../node_modules/react/index.js"),i=n("../packages/i18n-utils/src/locale-context.tsx"),a=n("../packages/i18n-utils/src/locales.ts");const l="http://__domain__.invalid",c=(e,t=[])=>(n,s)=>(t.includes(s)&&"en"!==s&&n.pathname.substr(0,s.length+2)!=="/"+s+"/"&&(n.host=`${a.Xb[s]||s}.${e}`),n),p=(e,t=[],n=null)=>(s,o)=>(s.host="wordpress.com","object"==typeof n&&n instanceof RegExp&&!n.test(s.pathname)&&(t=[]),s.pathname=e+s.pathname,t.includes(o)&&"en"!==o&&(s.pathname=o+s.pathname),s),u=(e=[],t=null)=>(n,s)=>("object"==typeof t&&t instanceof RegExp&&!t.test(n.pathname)||e.includes(s)&&"en"!==s&&(n.pathname=s+n.pathname),n),d={"wordpress.com/support/":u(a.hI),"wordpress.com/forums/":u(a.mL),"wordpress.com/blog/":u(a.GG,/^\/blog\/?$/),"wordpress.com/tos/":u(a.vS),"wordpress.com/wp-admin/":c("wordpress.com",a.vS),"wordpress.com/wp-login.php":c("wordpress.com",a.vS),"jetpack.com":c("jetpack.com",a._r),"en.support.wordpress.com":p("/support",a.hI),"en.blog.wordpress.com":p("/blog",a.GG,/^\/$/),"en.forums.wordpress.com":p("/forums",a.mL),"automattic.com/privacy/":u(a.iT),"automattic.com/cookies/":u(a.xn),"wordpress.com/help/contact/":(e,t,n)=>n?e:(e.pathname=e.pathname.replace(/\/help\//,"/support/"),u(a.hI)(e,t)),"wordpress.com":(e,t)=>/^\/(checkout|me)(\/|$)/.test(e.pathname)||/\/([a-z0-9-]+\.)+[a-z]{2,}\/?$/.test(e.pathname)?e:u(a.vS)(e,t),"wordpress.com/theme/":(e,t,n)=>n?e:u(a.vS)(e,t),"wordpress.com/themes/":(e,t,n)=>n?e:u(a.vS)(e,t)};function m(e,t,n=!0){let s;try{s=new URL(String(e),l)}catch(t){return e}if(s.origin===l)return e;s.protocol="https:",s.hostname="",s.pathname.endsWith(".php")||(s.pathname=(s.pathname+"/").replace(/\/+$/,"/"));const o=s.pathname.substr(0,1+s.pathname.indexOf("/",1));if("en.wordpress.com"===s.host&&(s.host="wordpress.com"),"/"+t+"/"===o)return e;const r=[s.host,s.host+o,s.host+s.pathname];for(let e=r.length-1;e>=0;e--)if(r[e]in d)return d[r[e]](s,t,n).href;return e}function h(){const e=(0,i.bU)();return(0,r.useCallback)(((t,n,s)=>m(t,n||e,s)),[e])}const g=(0,o.Z)((e=>t=>{const n=h();return r.createElement(e,(0,s.default)({localizeUrl:n},t))}),"withLocalizeUrl")},"../packages/languages/src/index.ts":(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});const s=JSON.parse('{"af":{"value":2,"langSlug":"af","name":"Afrikaans","wpLocale":"af","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["002"],"revision":60516},"als":{"value":418,"langSlug":"als","name":"Alemannisch","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["155"],"revision":null},"am":{"value":481,"langSlug":"am","name":"አማርኛ","wpLocale":"am","parentLangSlug":null,"calypsoPercentTranslated":2,"isTranslatedIncompletely":true,"territories":["002"],"revision":59811},"an":{"value":485,"langSlug":"an","name":"Aragonés","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":3,"isTranslatedIncompletely":true,"territories":[],"revision":59594},"ar":{"value":3,"langSlug":"ar","name":"العربية","wpLocale":"ar","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["145","002"],"revision":60531,"rtl":true,"popular":16},"arc":{"value":419,"langSlug":"arc","name":"ܕܥܒܪܸܝܛ","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["145"],"revision":null},"as":{"value":4,"langSlug":"as","name":"অসমীয়া","wpLocale":"as","parentLangSlug":null,"calypsoPercentTranslated":5,"isTranslatedIncompletely":true,"territories":["034"],"revision":59815},"ast":{"value":420,"langSlug":"ast","name":"Asturianu","wpLocale":"ast","parentLangSlug":null,"calypsoPercentTranslated":5,"isTranslatedIncompletely":true,"territories":["039"],"revision":59816},"av":{"value":421,"langSlug":"av","name":"авар мацӀ","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"ay":{"value":422,"langSlug":"ay","name":"aymar aru","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["019"],"revision":null},"az":{"value":79,"langSlug":"az","name":"Azərbaycan dili","wpLocale":"az","parentLangSlug":null,"calypsoPercentTranslated":25,"isTranslatedIncompletely":true,"territories":["145"],"revision":59537},"ba":{"value":423,"langSlug":"ba","name":"башҡорт теле","wpLocale":"ba","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"bel":{"value":5,"langSlug":"bel","name":"Беларуская мова","wpLocale":"bel","parentLangSlug":null,"calypsoPercentTranslated":5,"isTranslatedIncompletely":true,"territories":["151"],"revision":59819},"bg":{"value":6,"langSlug":"bg","name":"Български","wpLocale":"bg_BG","parentLangSlug":null,"calypsoPercentTranslated":22,"isTranslatedIncompletely":true,"territories":["151"],"revision":59927},"bm":{"value":7,"langSlug":"bm","name":"Bamanankan","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["002"],"revision":null},"bn":{"value":8,"langSlug":"bn","name":"বাংলা","wpLocale":"bn_BD","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["034"],"revision":59685},"bo":{"value":9,"langSlug":"bo","name":"བོད་སྐད","wpLocale":"bo","parentLangSlug":null,"calypsoPercentTranslated":5,"isTranslatedIncompletely":true,"territories":["030"],"revision":59820},"br":{"value":424,"langSlug":"br","name":"Brezhoneg","wpLocale":"bre","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["155"],"revision":59687},"bs":{"value":454,"langSlug":"bs","name":"Bosanski","wpLocale":"bs_BA","parentLangSlug":null,"calypsoPercentTranslated":10,"isTranslatedIncompletely":true,"territories":["039"],"revision":59689},"ca":{"value":10,"langSlug":"ca","name":"Català","wpLocale":"ca","parentLangSlug":null,"calypsoPercentTranslated":15,"isTranslatedIncompletely":true,"territories":["039"],"revision":60078},"ce":{"value":425,"langSlug":"ce","name":"Нохчийн мотт","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"ckb":{"value":41,"langSlug":"ckb","name":"كوردی‎","wpLocale":"ckb","parentLangSlug":null,"calypsoPercentTranslated":7,"isTranslatedIncompletely":true,"territories":["145","034"],"revision":59691,"rtl":true},"cs":{"value":11,"langSlug":"cs","name":"Čeština","wpLocale":"cs_CZ","parentLangSlug":null,"calypsoPercentTranslated":32,"isTranslatedIncompletely":true,"territories":["151"],"revision":60176},"csb":{"value":12,"langSlug":"csb","name":"Kaszëbsczi","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"cv":{"value":426,"langSlug":"cv","name":"чӑваш чӗлхи","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":24,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"cy":{"value":13,"langSlug":"cy","name":"Cymraeg","wpLocale":"cy","parentLangSlug":null,"calypsoPercentTranslated":14,"isTranslatedIncompletely":true,"territories":["154"],"revision":59678},"da":{"value":14,"langSlug":"da","name":"Dansk","wpLocale":"da_DK","parentLangSlug":null,"calypsoPercentTranslated":10,"isTranslatedIncompletely":true,"territories":["154"],"revision":60333},"de":{"value":15,"langSlug":"de","name":"Deutsch","wpLocale":"de_DE","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["155"],"revision":60515,"popular":4},"de-ch":{"value":903,"langSlug":"de-ch","name":"Deutsch (Schweiz)","wpLocale":"de_CH","parentLangSlug":"de","calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["155"],"revision":58348},"de_formal":{"value":900,"langSlug":"de_formal","name":"Deutsch (Sie)","wpLocale":"de","parentLangSlug":"de","calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["155"],"revision":60520},"dv":{"value":427,"langSlug":"dv","name":"ދިވެހި","wpLocale":"dv","parentLangSlug":null,"calypsoPercentTranslated":1,"isTranslatedIncompletely":true,"territories":["034"],"revision":59823,"rtl":true},"dz":{"value":16,"langSlug":"dz","name":"ཇོང་ཁ","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["034"],"revision":null},"el":{"value":17,"langSlug":"el","name":"Ελληνικά","wpLocale":"el","parentLangSlug":null,"calypsoPercentTranslated":27,"isTranslatedIncompletely":true,"territories":["039"],"revision":59694},"el-po":{"value":468,"langSlug":"el-po","name":"Greek (Polytonic)","wpLocale":"el","parentLangSlug":null,"calypsoPercentTranslated":44,"isTranslatedIncompletely":true,"territories":["039"],"revision":60444},"en":{"value":1,"langSlug":"en","name":"English","wpLocale":"en_US","parentLangSlug":null,"calypsoPercentTranslated":100,"isTranslatedIncompletely":false,"territories":["019"],"revision":null,"popular":1},"en-gb":{"value":482,"langSlug":"en-gb","name":"English (UK)","wpLocale":"en_GB","parentLangSlug":null,"calypsoPercentTranslated":18,"isTranslatedIncompletely":false,"territories":["154"],"revision":60220},"eo":{"value":18,"langSlug":"eo","name":"Esperanto","wpLocale":"eo","parentLangSlug":null,"calypsoPercentTranslated":13,"isTranslatedIncompletely":true,"territories":[],"revision":60406},"es":{"value":19,"langSlug":"es","name":"Español","wpLocale":"es_ES","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["019","039"],"revision":60530,"popular":2},"es-cl":{"value":484,"langSlug":"es-cl","name":"Español de Chile","wpLocale":"es_CL","parentLangSlug":"es","calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["019"],"revision":60533},"es-mx":{"value":902,"langSlug":"es-mx","name":"Español de México","wpLocale":"es_MX","parentLangSlug":"es","calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["019"],"revision":60534},"et":{"value":20,"langSlug":"et","name":"Eesti","wpLocale":"et","parentLangSlug":null,"calypsoPercentTranslated":10,"isTranslatedIncompletely":true,"territories":["154"],"revision":59550},"eu":{"value":429,"langSlug":"eu","name":"Euskara","wpLocale":"eu","parentLangSlug":null,"calypsoPercentTranslated":7,"isTranslatedIncompletely":true,"territories":["039"],"revision":59827},"fa":{"value":21,"langSlug":"fa","name":"فارسی","wpLocale":"fa_IR","parentLangSlug":null,"calypsoPercentTranslated":46,"isTranslatedIncompletely":true,"territories":["034"],"revision":60419,"rtl":true},"fi":{"value":22,"langSlug":"fi","name":"Suomi","wpLocale":"fi","parentLangSlug":null,"calypsoPercentTranslated":17,"isTranslatedIncompletely":true,"territories":["154"],"revision":60407},"fo":{"value":23,"langSlug":"fo","name":"Føroyskt","wpLocale":"fo","parentLangSlug":null,"calypsoPercentTranslated":3,"isTranslatedIncompletely":true,"territories":["154"],"revision":59605},"fr":{"value":24,"langSlug":"fr","name":"Français","wpLocale":"fr_FR","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["155"],"revision":60505,"popular":5},"fr-be":{"value":478,"langSlug":"fr-be","name":"Français de Belgique","wpLocale":"fr_BE","parentLangSlug":"fr","calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["155"],"revision":60524},"fr-ca":{"value":475,"langSlug":"fr-ca","name":"Français du Canada","wpLocale":"fr_CA","parentLangSlug":"fr","calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["019"],"revision":60526},"fr-ch":{"value":474,"langSlug":"fr-ch","name":"Français de Suisse","wpLocale":"","parentLangSlug":"fr","calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["155"],"revision":60527},"fur":{"value":25,"langSlug":"fur","name":"Friulian","wpLocale":"fur","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["039"],"revision":null},"fy":{"value":26,"langSlug":"fy","name":"Frysk","wpLocale":"fy","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["155"],"revision":null},"ga":{"value":27,"langSlug":"ga","name":"Gaelige","wpLocale":"ga","parentLangSlug":null,"calypsoPercentTranslated":15,"isTranslatedIncompletely":true,"territories":["154"],"revision":59557},"gd":{"value":476,"langSlug":"gd","name":"Gàidhlig","wpLocale":"gd","parentLangSlug":null,"calypsoPercentTranslated":15,"isTranslatedIncompletely":true,"territories":["154"],"revision":59558},"gl":{"value":457,"langSlug":"gl","name":"Galego","wpLocale":"gl_ES","parentLangSlug":null,"calypsoPercentTranslated":15,"isTranslatedIncompletely":true,"territories":["039"],"revision":59701},"gn":{"value":430,"langSlug":"gn","name":"Avañe\'ẽ","wpLocale":"gn","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["019"],"revision":null},"gu":{"value":28,"langSlug":"gu","name":"ગુજરાતી","wpLocale":"gu","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["034"],"revision":59831},"he":{"value":29,"langSlug":"he","name":"עִבְרִית","wpLocale":"he_IL","parentLangSlug":null,"calypsoPercentTranslated":98,"isTranslatedIncompletely":false,"territories":["145"],"revision":60477,"rtl":true,"popular":6},"hi":{"value":30,"langSlug":"hi","name":"हिन्दी","wpLocale":"hi_IN","parentLangSlug":null,"calypsoPercentTranslated":10,"isTranslatedIncompletely":true,"territories":["034"],"revision":59832},"hr":{"value":431,"langSlug":"hr","name":"Hrvatski","wpLocale":"hr","parentLangSlug":null,"calypsoPercentTranslated":17,"isTranslatedIncompletely":true,"territories":["039"],"revision":59705},"hu":{"value":31,"langSlug":"hu","name":"Magyar","wpLocale":"hu_HU","parentLangSlug":null,"calypsoPercentTranslated":33,"isTranslatedIncompletely":true,"territories":["151"],"revision":60084},"hy":{"value":467,"langSlug":"hy","name":"Հայերեն","wpLocale":"hy","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["145"],"revision":59833},"ia":{"value":32,"langSlug":"ia","name":"Interlingua","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":[],"revision":null},"id":{"value":33,"langSlug":"id","name":"Bahasa Indonesia","wpLocale":"id_ID","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["035"],"revision":60507,"popular":12},"ii":{"value":432,"langSlug":"ii","name":"ꆇꉙ","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["030"],"revision":null},"ilo":{"value":469,"langSlug":"ilo","name":"Pagsasao nga Iloko","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["035"],"revision":null},"is":{"value":34,"langSlug":"is","name":"Íslenska","wpLocale":"is_IS","parentLangSlug":null,"calypsoPercentTranslated":18,"isTranslatedIncompletely":true,"territories":["154"],"revision":59563},"it":{"value":35,"langSlug":"it","name":"Italiano","wpLocale":"it_IT","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["039"],"revision":60479,"popular":8},"ja":{"value":36,"langSlug":"ja","name":"日本語","wpLocale":"ja","parentLangSlug":null,"calypsoPercentTranslated":98,"isTranslatedIncompletely":false,"territories":["030"],"revision":60511,"popular":7},"ka":{"value":37,"langSlug":"ka","name":"ქართული","wpLocale":"ka_GE","parentLangSlug":null,"calypsoPercentTranslated":8,"isTranslatedIncompletely":true,"territories":["145"],"revision":59835},"kab":{"value":488,"langSlug":"kab","name":"Taqbaylit","wpLocale":"kab","parentLangSlug":null,"calypsoPercentTranslated":29,"isTranslatedIncompletely":true,"territories":["002"],"revision":null},"kir":{"value":479,"langSlug":"kir","name":"Кыргызча","wpLocale":"kir","parentLangSlug":null,"calypsoPercentTranslated":4,"isTranslatedIncompletely":true,"territories":["143"],"revision":59836},"kk":{"value":462,"langSlug":"kk","name":"Қазақ тілі","wpLocale":"kk","parentLangSlug":null,"calypsoPercentTranslated":5,"isTranslatedIncompletely":true,"territories":["143"],"revision":59837},"km":{"value":38,"langSlug":"km","name":"ភាសាខ្មែរ","wpLocale":"km","parentLangSlug":null,"calypsoPercentTranslated":8,"isTranslatedIncompletely":true,"territories":["035"],"revision":59567},"kn":{"value":39,"langSlug":"kn","name":"ಕನ್ನಡ","wpLocale":"kn","parentLangSlug":null,"calypsoPercentTranslated":3,"isTranslatedIncompletely":true,"territories":["034"],"revision":59613},"ko":{"value":40,"langSlug":"ko","name":"한국어","wpLocale":"ko_KR","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["030"],"revision":60502,"popular":15},"ks":{"value":433,"langSlug":"ks","name":"कश्मीरी","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["034"],"revision":null},"kv":{"value":434,"langSlug":"kv","name":"Коми","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"la":{"value":42,"langSlug":"la","name":"Latine","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["039"],"revision":null},"li":{"value":43,"langSlug":"li","name":"Limburgs","wpLocale":"li","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["155"],"revision":null},"lo":{"value":44,"langSlug":"lo","name":"ພາສາລາວ","wpLocale":"lo","parentLangSlug":null,"calypsoPercentTranslated":4,"isTranslatedIncompletely":true,"territories":["035"],"revision":59841},"lt":{"value":45,"langSlug":"lt","name":"Lietuvių kalba","wpLocale":"lt_LT","parentLangSlug":null,"calypsoPercentTranslated":25,"isTranslatedIncompletely":true,"territories":["154"],"revision":60090},"lv":{"value":453,"langSlug":"lv","name":"Latviešu valoda","wpLocale":"lv","parentLangSlug":null,"calypsoPercentTranslated":18,"isTranslatedIncompletely":true,"territories":["154"],"revision":60408},"mk":{"value":435,"langSlug":"mk","name":"Македонски јазик","wpLocale":"mk_MK","parentLangSlug":null,"calypsoPercentTranslated":7,"isTranslatedIncompletely":true,"territories":["039"],"revision":59710},"ml":{"value":46,"langSlug":"ml","name":"മലയാളം","wpLocale":"ml_IN","parentLangSlug":null,"calypsoPercentTranslated":5,"isTranslatedIncompletely":true,"territories":["034"],"revision":59845},"mn":{"value":472,"langSlug":"mn","name":"Монгол","wpLocale":"mn","parentLangSlug":null,"calypsoPercentTranslated":21,"isTranslatedIncompletely":true,"territories":["030"],"revision":60334},"mr":{"value":461,"langSlug":"mr","name":"मराठी","wpLocale":"mr","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["034"],"revision":59847},"ms":{"value":47,"langSlug":"ms","name":"Bahasa Melayu","wpLocale":"ms_MY","parentLangSlug":null,"calypsoPercentTranslated":7,"isTranslatedIncompletely":true,"territories":["035"],"revision":59574},"mt":{"value":465,"langSlug":"mt","name":"Malti","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["039"],"revision":null},"mwl":{"value":464,"langSlug":"mwl","name":"Mirandés","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":2,"isTranslatedIncompletely":true,"territories":["039"],"revision":58731},"nah":{"value":436,"langSlug":"nah","name":"Nahuatl","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["019"],"revision":null},"nap":{"value":437,"langSlug":"nap","name":"Nnapulitano","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["039"],"revision":null},"nds":{"value":48,"langSlug":"nds","name":"Plattdüütsch","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["155"],"revision":null},"ne":{"value":456,"langSlug":"ne","name":"नेपाली","wpLocale":"ne_NP","parentLangSlug":null,"calypsoPercentTranslated":5,"isTranslatedIncompletely":true,"territories":["034"],"revision":59848},"nl":{"value":49,"langSlug":"nl","name":"Nederlands","wpLocale":"nl_NL","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["155"],"revision":60509,"popular":9},"nn":{"value":50,"langSlug":"nn","name":"Norsk nynorsk","wpLocale":"nn_NO","parentLangSlug":null,"calypsoPercentTranslated":16,"isTranslatedIncompletely":true,"territories":["154"],"revision":59715},"no":{"value":51,"langSlug":"no","name":"Norsk","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":65,"isTranslatedIncompletely":true,"territories":["154"],"revision":60437},"non":{"value":52,"langSlug":"non","name":"Norrǿna","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["154"],"revision":null},"nv":{"value":53,"langSlug":"nv","name":"Diné bizaad","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["019"],"revision":null},"oci":{"value":54,"langSlug":"oci","name":"Occitan","wpLocale":"oci","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["155"],"revision":59849},"or":{"value":55,"langSlug":"or","name":"ଓଡ଼ିଆ","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["034"],"revision":null},"os":{"value":56,"langSlug":"os","name":"Ирон","wpLocale":"os","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["145"],"revision":null},"pa":{"value":57,"langSlug":"pa","name":"ਪੰਜਾਬੀ","wpLocale":"pa_IN","parentLangSlug":null,"calypsoPercentTranslated":24,"isTranslatedIncompletely":true,"territories":["034"],"revision":60410},"pl":{"value":58,"langSlug":"pl","name":"Polski","wpLocale":"pl_PL","parentLangSlug":null,"calypsoPercentTranslated":33,"isTranslatedIncompletely":true,"territories":["151"],"revision":60518},"ps":{"value":59,"langSlug":"ps","name":"پښتو","wpLocale":"ps","parentLangSlug":null,"calypsoPercentTranslated":4,"isTranslatedIncompletely":true,"territories":["034"],"revision":59852,"rtl":true},"pt":{"value":60,"langSlug":"pt","name":"Português","wpLocale":"pt_PT","parentLangSlug":null,"calypsoPercentTranslated":25,"isTranslatedIncompletely":true,"territories":["039"],"revision":60452},"pt-br":{"value":438,"langSlug":"pt-br","name":"Português do Brasil","wpLocale":"pt_BR","parentLangSlug":null,"calypsoPercentTranslated":98,"isTranslatedIncompletely":false,"territories":["019"],"revision":60442,"popular":3},"qu":{"value":439,"langSlug":"qu","name":"Runa Simi","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["019"],"revision":null},"ro":{"value":61,"langSlug":"ro","name":"Română","wpLocale":"ro_RO","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["151"],"revision":60506},"ru":{"value":62,"langSlug":"ru","name":"Русский","wpLocale":"ru_RU","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["151"],"revision":60529,"popular":10},"rup":{"value":483,"langSlug":"rup","name":"Armãneashce","wpLocale":"rup_MK","parentLangSlug":null,"calypsoPercentTranslated":1,"isTranslatedIncompletely":true,"territories":["151"],"revision":59855},"sc":{"value":63,"langSlug":"sc","name":"Sardu","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["039"],"revision":null},"si":{"value":471,"langSlug":"si","name":"සිංහල","wpLocale":"si_LK","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["034"],"revision":59579},"sk":{"value":64,"langSlug":"sk","name":"Slovenčina","wpLocale":"sk_SK","parentLangSlug":null,"calypsoPercentTranslated":12,"isTranslatedIncompletely":true,"territories":["151"],"revision":59718},"skr":{"value":486,"langSlug":"skr","name":"Saraiki","wpLocale":"skr","parentLangSlug":null,"calypsoPercentTranslated":87,"isTranslatedIncompletely":false,"territories":["034"],"revision":58230},"sl":{"value":65,"langSlug":"sl","name":"Slovenščina","wpLocale":"sl_SI","parentLangSlug":null,"calypsoPercentTranslated":10,"isTranslatedIncompletely":true,"territories":["039"],"revision":59582},"snd":{"value":440,"langSlug":"snd","name":"سنڌي","wpLocale":"snd","parentLangSlug":null,"calypsoPercentTranslated":7,"isTranslatedIncompletely":true,"territories":["034"],"revision":59857},"so":{"value":459,"langSlug":"so","name":"Afsoomaali","wpLocale":"so_SO","parentLangSlug":null,"calypsoPercentTranslated":3,"isTranslatedIncompletely":true,"territories":["002"],"revision":59722},"sq":{"value":66,"langSlug":"sq","name":"Shqip","wpLocale":"sq","parentLangSlug":null,"calypsoPercentTranslated":58,"isTranslatedIncompletely":true,"territories":["039"],"revision":60412},"sr":{"value":67,"langSlug":"sr","name":"Српски језик","wpLocale":"sr_RS","parentLangSlug":null,"calypsoPercentTranslated":12,"isTranslatedIncompletely":true,"territories":["039"],"revision":59725},"sr_latin":{"value":901,"langSlug":"sr_latin","name":"Srpski (latinica)","wpLocale":"sr","parentLangSlug":"sr","calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["039"],"revision":59742},"su":{"value":441,"langSlug":"su","name":"Basa Sunda","wpLocale":"su_ID","parentLangSlug":null,"calypsoPercentTranslated":4,"isTranslatedIncompletely":true,"territories":["035"],"revision":59625},"sv":{"value":68,"langSlug":"sv","name":"Svenska","wpLocale":"sv_SE","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["154"],"revision":60501,"popular":17},"ta":{"value":69,"langSlug":"ta","name":"தமிழ்","wpLocale":"ta_IN","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["034","035"],"revision":59726},"te":{"value":70,"langSlug":"te","name":"తెలుగు","wpLocale":"te","parentLangSlug":null,"calypsoPercentTranslated":20,"isTranslatedIncompletely":true,"territories":["034"],"revision":59793},"th":{"value":71,"langSlug":"th","name":"ไทย","wpLocale":"th","parentLangSlug":null,"calypsoPercentTranslated":10,"isTranslatedIncompletely":true,"territories":["035"],"revision":59587},"tir":{"value":480,"langSlug":"tir","name":"ትግርኛ","wpLocale":"tir","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["002"],"revision":43820},"tl":{"value":455,"langSlug":"tl","name":"Tagalog","wpLocale":"tl","parentLangSlug":null,"calypsoPercentTranslated":7,"isTranslatedIncompletely":true,"territories":["035"],"revision":59589},"tr":{"value":78,"langSlug":"tr","name":"Türkçe","wpLocale":"tr_TR","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["145"],"revision":60514,"popular":11},"tt":{"value":72,"langSlug":"tt","name":"Татар теле","wpLocale":"tt_RU","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"ty":{"value":442,"langSlug":"ty","name":"Reo Mā`ohi","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["009"],"revision":null},"udm":{"value":443,"langSlug":"udm","name":"Удмурт кыл","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["151"],"revision":null},"ug":{"value":444,"langSlug":"ug","name":"Uyƣurqə","wpLocale":"ug_CN","parentLangSlug":null,"calypsoPercentTranslated":7,"isTranslatedIncompletely":true,"territories":["030"],"revision":59727},"uk":{"value":73,"langSlug":"uk","name":"Українська","wpLocale":"uk","parentLangSlug":null,"calypsoPercentTranslated":19,"isTranslatedIncompletely":true,"territories":["151"],"revision":59729},"ur":{"value":74,"langSlug":"ur","name":"اردو","wpLocale":"ur","parentLangSlug":null,"calypsoPercentTranslated":14,"isTranslatedIncompletely":true,"territories":["034"],"revision":59730,"rtl":true},"uz":{"value":458,"langSlug":"uz","name":"O‘zbekcha","wpLocale":"uz_UZ","parentLangSlug":null,"calypsoPercentTranslated":6,"isTranslatedIncompletely":true,"territories":["143"],"revision":59861},"vec":{"value":445,"langSlug":"vec","name":"Vèneta","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["039"],"revision":null},"vi":{"value":446,"langSlug":"vi","name":"Tiếng Việt","wpLocale":"vi","parentLangSlug":null,"calypsoPercentTranslated":11,"isTranslatedIncompletely":true,"territories":["035"],"revision":59733},"wa":{"value":75,"langSlug":"wa","name":"Walon","wpLocale":"wa","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["155"],"revision":null},"xal":{"value":447,"langSlug":"xal","name":"Хальмг","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["143"],"revision":null},"yi":{"value":76,"langSlug":"yi","name":"ייִדיש","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":[],"revision":43826},"yo":{"value":477,"langSlug":"yo","name":"èdè Yorùbá","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["002"],"revision":null},"za":{"value":448,"langSlug":"za","name":"(Cuengh)","wpLocale":"","parentLangSlug":null,"calypsoPercentTranslated":0,"isTranslatedIncompletely":true,"territories":["030"],"revision":null},"zh-cn":{"value":449,"langSlug":"zh-cn","name":"简体中文","wpLocale":"zh_CN","parentLangSlug":null,"calypsoPercentTranslated":99,"isTranslatedIncompletely":false,"territories":["030"],"revision":60441,"popular":13},"zh-hk":{"value":487,"langSlug":"zh-hk","name":"香港中文版","wpLocale":"zh_HK","parentLangSlug":null,"calypsoPercentTranslated":93,"isTranslatedIncompletely":false,"territories":["030"],"revision":60415},"zh-tw":{"value":452,"langSlug":"zh-tw","name":"繁體中文","wpLocale":"zh_TW","parentLangSlug":null,"calypsoPercentTranslated":98,"isTranslatedIncompletely":false,"territories":["030"],"revision":60436,"popular":14}}'),o=Object.values(s)},"../packages/wpcom-proxy-request/src/index.js":(e,t,n)=>{"use strict";n.d(t,{Vw:()=>S,ZP:()=>E,sS:()=>P});var s=n("../node_modules/debug/src/browser.js"),o=n.n(s),r=n("../node_modules/progress-event/index.js"),i=n.n(r),a=n("../node_modules/uuid/dist/esm-browser/v4.js"),l=n("../node_modules/wp-error/index.js"),c=n.n(l);const p=o()("wpcom-proxy-request"),u="https://public-api.wordpress.com",d=window.location.protocol+"//"+window.location.host,m=(()=>{let e=!1;try{window.postMessage({toString:function(){e=!0}},"*")}catch(e){}return e})(),h=(()=>{try{return new window.File(["a"],"test.jpg",{type:"image/jpeg"}),!0}catch(e){return!1}})();let g,w=null,f=!1;const y={},v=!!window.ProgressEvent&&!!window.FormData;p('using "origin": %o',d);const _=(e,t)=>{const n=Object.assign({},e);p("request(%o)",n),w||I();const s=(0,a.Z)();n.callback=s,n.supports_args=!0,n.supports_error_obj=!0,n.supports_progress=v,n.method=String(n.method||"GET").toUpperCase(),p("params object: %o",n);const o=new window.XMLHttpRequest;if(o.params=n,y[s]=o,"function"==typeof t){let e=!1;const n=n=>{if(e)return;e=!0;const s=n.response||o.response;p("body: ",s),p("headers: ",n.headers),t(null,s,n.headers)},s=n=>{if(e)return;e=!0;const s=n.error||n.err||n;p("error: ",s),p("headers: ",n.headers),t(s,null,n.headers)};o.addEventListener("load",n),o.addEventListener("abort",s),o.addEventListener("error",s)}return"function"==typeof n.onStreamRecord&&delete n.onStreamRecord,f?L(n):(p("buffering API request since proxying <iframe> is not yet loaded"),g.push(n)),o},b=(e,t)=>"function"==typeof t?_(e,t):new Promise(((t,n)=>{_(e,((e,s)=>{e?n(e):t(s)}))}));function S(){return b({metaAPI:{accessAllUsersBlogs:!0}})}function L(e){p("sending API request to proxy <iframe> %o",e),e.formData&&function(e){if(!window.chrome||!h)return;for(let t=0;t<e.length;t++){const n=q(e[t][1]);n&&(e[t][1]=new window.File([n],n.name,{type:n.type}))}}(e.formData),w.contentWindow.postMessage(m?JSON.stringify(e):e,u)}function T(e){return e&&"[object File]"===Object.prototype.toString.call(e)}function q(e){return T(e)?e:"object"==typeof e&&T(e.fileContents)?e.fileContents:null}function I(){p("install()"),w&&(p("uninstall()"),window.removeEventListener("message",k),document.body.removeChild(w),f=!1,w=null),g=[],window.addEventListener("message",k),w=document.createElement("iframe"),w.src=u+"/wp-admin/rest-proxy/?v=2.0#"+d,w.style.display="none",document.body.appendChild(w)}const P=()=>{I()};function k(e){if(p("onmessage"),e.origin!==u)return void p("ignoring message... %o !== %o",e.origin,u);if(e.source!==w.contentWindow)return void p("ignoring message... iframe elements do not match");let{data:t}=e;if(!t)return p("no `data`, bailing");if("ready"===t)return void function(){if(p('proxy <iframe> "load" event'),f=!0,g){for(let e=0;e<g.length;e++)L(g[e]);g=null}}();if(m&&"string"==typeof t&&(t=JSON.parse(t)),t.upload||t.download)return function(e){p('got "progress" event: %o',e);const t=y[e.callbackId];if(t){const n=new(i())("progress",e);(e.upload?t.upload:t).dispatchEvent(n)}}(t);if(!t.length)return p("`e.data` doesn't appear to be an Array, bailing...");const n=t[t.length-1];if(!(n in y))return p("bailing, no matching request with callback: %o",n);const s=y[n],{params:o}=s,r=t[0];let a=t[1];const l=t[2];if(207===a||delete y[n],o.metaAPI?a="metaAPIupdated"===r?200:500:p("got %o status code for URL: %o",a,o.path),"object"==typeof l&&(l.status=a,d=l["Content-Type"],/^application[/]x-ndjson($|;)/.test(d))){j(s,new Error("stream mode processing is not yet implemented for wpcom-proxy-request"),l)}else{var d;if(a&&2===Math.floor(a/100))!function(e,t,n){const s=new(i())("load");s.data=s.body=s.response=t,s.headers=n,e.dispatchEvent(s)}(s,r,l);else{j(s,c()(o,a,r),l)}}}function j(e,t,n){const s=new(i())("error");s.error=s.err=t,s.headers=n,e.dispatchEvent(s)}const E=b},"?d91c":()=>{}}]);