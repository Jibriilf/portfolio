"use strict";(globalThis.webpackChunkcalypso=globalThis.webpackChunkcalypso||[]).push([[71253],{"./blocks/site/placeholder.jsx":(e,t,s)=>{s.d(t,{Z:()=>c});var n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/debug/src/browser.js"),o=s.n(i),a=s("../node_modules/react/index.js");const r=o()("calypso:my-sites:site");class c extends a.Component{componentDidMount(){r("The Site component is mounted.")}render(){return a.createElement("div",{className:"site is-loading"},a.createElement("div",{className:"site__content"},a.createElement("div",{className:"site-icon"}),a.createElement("div",{className:"site__info"},a.createElement("div",{className:"site__title"},"This is an example"),a.createElement("div",{className:"site__domain"},"example.wordpress.com"))))}}(0,n.Z)(c,"displayName","SitePlaceholder")},"./blocks/visit-site/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("../packages/i18n-calypso/src/index.js"),i=s("../node_modules/react/index.js"),o=s("./lib/wp/browser.js");function a({siteSlug:e}){const t=(0,n.qM)(),s=function(e){const[t,s]=(0,i.useState)(null);return(0,i.useEffect)((()=>{o.Z.site(e).get({apiVersion:"1.2"}).then(s)}),[e]),t}(e);if(!s)return null;const a=i.createElement("a",{href:s.URL},s.name.trim());return i.createElement("div",{className:"visit-site"},t("or visit {{siteLink/}}",{components:{siteLink:a},context:"Alternative link under login/site-selection header, leads to site frontend."}))}},"./components/close-on-escape/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>p});var n=s("../node_modules/lodash-es/isEmpty.js"),i=s("../node_modules/lodash-es/last.js"),o=s("../node_modules/lodash-es/filter.js"),a=(s("../node_modules/prop-types/index.js"),s("../node_modules/react/index.js"));let r=[];function c(e){if(!(0,n.Z)(r)&&27===e.keyCode&&(t=e.target,!["INPUT","TEXTAREA"].includes(t.nodeName))){(0,i.Z)(r).onEscape()}var t}function l(e,t){r.push({component:e,onEscape:t}),(0,n.Z)(r)||document.addEventListener("keydown",c,!0)}function d(e){r=(0,o.Z)(r,(t=>t.component!==e)),(0,n.Z)(r)&&document.removeEventListener("keydown",c,!0)}class u extends a.Component{componentDidMount(){l(this,this.props.onEscape)}componentWillUnmount(){d(this,this.props.onEscape)}render(){return null}}u.defaultProps={onEscape:()=>{}};const p=u},"./components/count/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>u});var n=s("../node_modules/@babel/runtime/helpers/esm/extends.js"),i=s("../node_modules/classnames/index.js"),o=s.n(i),a=s("../packages/i18n-calypso/src/index.js"),r=s("../node_modules/lodash-es/omit.js"),c=(s("../node_modules/prop-types/index.js"),s("../node_modules/react/index.js")),l=s("./lib/format-number-compact/index.js");const d=({count:e,compact:t,numberFormat:s,primary:i,...a})=>c.createElement("span",(0,n.default)({className:o()("count",{"is-primary":i})},(0,r.Z)(a,["translate","moment"])),t&&(0,l.Z)(e)||s(e));d.defaultProps={primary:!1,compact:!1};const u=(0,a.NC)(d)},"./components/empty-content/no-sites-message/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>c});var n=s("../packages/i18n-calypso/src/index.js"),i=s("../node_modules/react/index.js"),o=s("../node_modules/react-redux/es/index.js"),a=s("./components/empty-content/index.jsx"),r=s("./state/selectors/get-onboarding-url.js");const c=(0,n.NC)((({translate:e})=>{const t=(0,o.v9)((e=>(0,r.Z)(e)));return i.createElement(a.Z,{className:"no-sites-message",title:e("You don't have any WordPress sites yet."),line:e("Would you like to start one?"),action:e("Create Site"),actionURL:t+"?ref=calypso-nosites",illustration:"/calypso/images/illustrations/illustration-nosites.svg"})}))},"./components/main/index.jsx":(e,t,s)=>{s.d(t,{Z:()=>a});var n=s("../node_modules/classnames/index.js"),i=s.n(n),o=s("../node_modules/react/index.js");function a({className:e,children:t,wideLayout:s=!1,fullWidthLayout:n=!1}){const a=i()(e,"main",{"is-wide-layout":s,"is-full-width-layout":n});return o.createElement("main",{className:a,role:"main"},t)}},"./lib/format-number-compact/index.js":(e,t,s)=>{s.d(t,{Z:()=>o,K:()=>l});var n=s("../packages/i18n-calypso/src/index.js");const i={en:{symbol:"K",grouping:",",decimal:"."},es:{symbol:" mil",grouping:".",decimal:","},"pt-br":{symbol:" mil",grouping:".",decimal:","},de:{symbol:" Tsd.",grouping:".",decimal:","},fr:{symbol:" k",grouping:" ",decimal:","},he:{symbol:"K",grouping:",",decimal:"."},ja:{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},nl:{symbol:"K",grouping:".",decimal:","},tr:{symbol:" B",grouping:".",decimal:","},id:{symbol:" rb",grouping:".",decimal:","},"zh-cn":{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},"zh-tw":{symbol:"萬",unitValue:1e4,grouping:",",decimal:"."},ko:{symbol:"천",grouping:",",decimal:"."},ar:{symbol:" ألف",grouping:"٬",decimal:"٫"},sv:{symbol:" tn",grouping:" ",decimal:","}};function o(e,t=n.ZP.getLocaleSlug()){if(isNaN(e)||!i[t])return null;const{decimal:s,grouping:o,symbol:a,unitValue:r=1e3}=i[t],c=e<0?"-":"",l=Math.abs(e);if(l<r)return`${c}${l}`;const d=l<10*r?1:0;return`${c}${(0,n.Y4)(l/r,{decimals:d,thousandsSep:o,decPoint:s})}${a}`}const a=1e3,r=1e6,c=1e9;function l(e){return e<a?String(e):e<r?(e/a).toFixed(1)+"K":e<c?(e/r).toFixed(1)+"M":(e/c).toFixed(1)+"G"}},"./lib/gsuite/get-gsuite-subscription-status.js":(e,t,s)=>{function n(e){return e?.googleAppsSubscription?.status??""}s.d(t,{x:()=>n})},"./lib/gsuite/has-gsuite-with-us.js":(e,t,s)=>{s.d(t,{u:()=>i});var n=s("./lib/gsuite/get-gsuite-subscription-status.js");function i(e){const t=(0,n.x)(e);return!["","no_subscription","other_provider"].includes(t)}},"./lib/titan/index.js":(e,t,s)=>{function n(e){return e.titanMailSubscription?.numberOfMailboxes??0}function i(e){return e.titanMailSubscription?.maximumMailboxCount??1}function o(e){return e.titanMailSubscription?.expiryDate}function a(e){return e.titanMailSubscription?.purchaseCostPerMailbox}function r(e){return e.titanMailSubscription?.renewalCostPerMailbox}function c(e){return e.titanMailSubscription?.orderId}s.d(t,{bd:()=>n,HV:()=>i,Qt:()=>f,xx:()=>y,VE:()=>b,b_:()=>o,E7:()=>c,HC:()=>a,Vz:()=>r,Ck:()=>d,oB:()=>u,zW:()=>j});var l=s("../packages/i18n-calypso/src/index.js");function d(){return(0,l.Iu)("Professional Email",{comment:"This is the name of our Professional Email product"})}function u(e){return e?.titanMailSubscription?.subscriptionId}const p="calendar",m="contacts",h="email";function g(e,t=h){const s=new URL(`https://wp.titan.email/${t}`);return e?.includes("@")&&s.searchParams.append("email_account",e),s.href}function f(e){return g(e,p)}function y(e){return g(e,m)}function b(e){return g(e,h)}var _=s("../node_modules/lodash-es/get.js");function j(e){const t=(0,_.Z)(e,"titanMailSubscription.status","");return"active"===t||"suspended"===t}},"./my-sites/controller.js":(e,t,s)=>{s.d(t,{os:()=>Ee,tV:()=>$e,G:()=>Ae,KT:()=>Ce,Gh:()=>qe,AN:()=>De,zK:()=>Me,gX:()=>Pe,cK:()=>Re,r5:()=>Te,tq:()=>Le,tc:()=>Fe,ow:()=>Ne,Uc:()=>Ue,Sf:()=>Be});var n=s("../packages/calypso-config/src/index.ts"),i=s("../node_modules/@wordpress/url/build-module/remove-query-args.js"),o=s("../packages/i18n-calypso/src/index.js"),a=s("../node_modules/lodash-es/some.js"),r=s("../node_modules/lodash-es/startsWith.js"),c=s("../node_modules/page/page.js"),l=s.n(c),d=s("../node_modules/react/index.js"),u=s("./components/empty-content/index.jsx"),p=s("./components/empty-content/no-sites-message/index.jsx"),m=s("./controller/index.web.js"),h=s("./controller/shared.js"),g=s("./controller/web-util.js"),f=s("../packages/components/src/button/index.tsx");const y=({siteSlug:e})=>{const t=(0,o.qM)();return d.createElement("div",{className:"no-jetpack-sites-message"},d.createElement("h2",{className:"no-jetpack-sites-message__header"},t("Jetpack features are already part of WordPress.com")),e&&d.createElement("p",null,t("Your site, %(siteSlug)s, already has the power of Jetpack built in. Its features can be found within your WordPress.com dashboard.",{args:{siteSlug:e}})),d.createElement("p",null,t("This area is only for Jetpack customers with self-hosted WordPress sites.")),d.createElement(f.Z,{primary:!0,href:"https://wordpress.com",rel:"noopener noreferrer"},t("Visit Dashboard")))};var b=s("./lib/analytics/page-view.js"),_=s("./lib/route/path.ts"),j=s("./lib/url/add-query-args.ts"),x=s("./state/current-user/selectors.js"),Z=s("./state/selectors/get-primary-site-id.js"),S=s("./state/sites/actions.js"),k=s("./state/sites/selectors/get-site-id.js"),v=s("./state/sites/selectors/get-site-slug.js"),E=s("./state/ui/actions/set-sites.js");const P=(e,t)=>{const{getState:s,dispatch:n}=e.store;return n((0,S.LV)(t)).catch((()=>null)).then((()=>({id:(0,k.Z)(s(),t),slug:(0,v.Z)(s(),t)})))},w=(e,t)=>{const{dispatch:s}=e.store;s((0,E.B)(t)),Ne(e)},N=(e,t)=>{const{getState:s,dispatch:n}=e.store,i=(0,x.ts)(s());if(1===i?.visible_site_count){const t=(0,Z.Z)(s()),o=(0,v.Z)(s(),t);o?De(e,o):P(e,t).then((({slug:t})=>{t?De(e,t):Te(i,n)}))}else n((0,E._)()),t()};function T(e,t){const{getState:s}=t.store,n=(0,x.ts)(s());return 0===n?.jetpack_site_count?(((e,t)=>{(0,m.QS)({group:"sites"})(e),e.primary=d.createElement(y,{siteSlug:t}),(0,m.wx)(e,(()=>{})),(0,m.sY)(e)})(t,n.primarySiteSlug),function(e,t){(0,b.A)("/landing","No Jetpack Sites",{base_path:(0,_.n3)(e.path,t)})}(t,e),!0):0===n?.jetpack_visible_site_count?(Pe(t),function(e,t){(0,b.A)("/landing","All Jetpack Sites Hidden",{base_path:(0,_.n3)(e.path,t)})}(t,e),!0):void 0}async function C(e,t){const s=(e=>e.params.site||(0,_.lQ)(e.path)||void 0)(e);if(!T(s,e))if(s){if(e.path.startsWith("/pricing")){const{id:n}=await P(e,s);if(!n)return void await N(e,t)}await(async(e,t,s)=>{const{getState:n}=t.store,i=(0,k.Z)(n(),e);if(i)w(t,i),s();else{const{id:n}=await P(t,e);if(n)w(t,n),s();else if("1"===t.query.unlinked)s();else{const s=(0,j.Z)({site:e},(0,_.n3)(t.path,e));l().redirect(s)}}})(s,e,t)}else await N(e,t)}var L=s("./lib/analytics/tracks.js"),$=s("./lib/jetpack/is-jetpack-cloud.ts"),I=s("./lib/navigate/index.ts"),D=s("./lib/route/trailingslashit.ts"),A=s("./my-sites/domains/domain-management/list/domain-only.jsx"),F=s("./my-sites/domains/paths.js"),M=s("./my-sites/email/paths.js"),B=s("../node_modules/@babel/runtime/helpers/esm/extends.js"),q=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),U=s("../node_modules/react-redux/es/index.js"),R=s("./components/async-load/index.jsx"),V=(s("../node_modules/prop-types/index.js"),s("../node_modules/react-click-outside/dist/index.js")),W=s.n(V),H=s("./components/close-on-escape/index.jsx"),Y=s("./components/site-selector/index.jsx"),J=s("./lib/touch-detect/index.js"),z=s("./state/ui/layout-focus/actions.js"),K=s("./state/ui/layout-focus/selectors.js");class O extends d.Component{constructor(...e){super(...e),(0,q.Z)(this,"state",{isAutoFocused:!1,isRendered:"sites"===this.props.currentLayoutFocus}),(0,q.Z)(this,"onClose",((e,t)=>{"Escape"===e.key?this.closePicker():(this.props.setNextLayoutFocus("sidebar"),t&&this.scrollToTop()),this.props.onClose(e,t)})),(0,q.Z)(this,"scrollToTop",(()=>{document.getElementById("secondary").scrollTop=0,window.scrollTo(0,0)})),(0,q.Z)(this,"closePicker",(e=>{"sites"===this.props.currentLayoutFocus&&(this.props.setLayoutFocus("sidebar"),e&&this.scrollToTop())})),(0,q.Z)(this,"handleClickOutside",(()=>{this.closePicker(null)})),(0,q.Z)(this,"filterSites",(e=>!e?.options?.jetpack_connection_active_plugins||e.options.jetpack_connection_active_plugins.includes("jetpack")))}UNSAFE_componentWillReceiveProps(e){if("sites"!==e.currentLayoutFocus||this.state.isRendered||this.setState({isRendered:!0}),!e.currentLayoutFocus||(0,J._)())return;const t="sites"===e.currentLayoutFocus;t!==this.state.isAutoFocused&&this.setState({isAutoFocused:t})}render(){return d.createElement("div",null,d.createElement(H.Z,{onEscape:this.closePicker}),d.createElement(Y.Z,{isPlaceholder:!this.state.isRendered,indicator:!0,showAddNewSite:!0,showAllSites:!0,allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,autoFocus:this.state.isAutoFocused,onClose:this.onClose,groups:!0,filter:this.filterSites}))}}(0,q.Z)(O,"displayName","SitePicker"),(0,q.Z)(O,"defaultProps",{onClose:()=>{}});const Q=(0,U.$j)((function(e){return{currentLayoutFocus:(0,K.d)(e)}}),{setNextLayoutFocus:z.SB,setLayoutFocus:z.Js})(W()(O));var G=s("./state/selectors/is-nav-unification-enabled.js"),X=function(e){Promise.all([s.e(75534),s.e(21889),s.e(96025),s.e(37148)]).then(s.bind(s,"./components/jetpack/sidebar/index.jsx")).then((function(t){e(t.default)}))},ee=function(e){Promise.all([s.e(60650),s.e(75534),s.e(21889),s.e(77075)]).then(s.bind(s,"./my-sites/sidebar-unified/index.jsx")).then((function(t){e(t.default)}))},te=function(e){Promise.all([s.e(93022),s.e(73482),s.e(6994),s.e(60650),s.e(75534),s.e(58404),s.e(21889),s.e(96025),s.e(33999)]).then(s.bind(s,"./my-sites/sidebar/index.jsx")).then((function(t){e(t.default)}))};class se extends d.Component{constructor(...e){super(...e),(0,q.Z)(this,"preventPickerDefault",(e=>{e.preventDefault(),e.stopPropagation()}))}render(){const e={placeholder:null,path:this.props.path,siteBasePath:this.props.siteBasePath};let t=null;return t=n.ZP.isEnabled("jetpack-cloud")?d.createElement(R.Z,(0,B.default)({require:X},e)):this.props.isNavUnificationEnabled?d.createElement(R.Z,(0,B.default)({require:ee},e)):d.createElement(R.Z,(0,B.default)({require:te},e)),d.createElement("div",null,d.createElement(Q,{allSitesPath:this.props.allSitesPath,siteBasePath:this.props.siteBasePath,onClose:this.preventPickerDefault}),t)}}(0,q.Z)(se,"displayName","MySitesNavigation");const ne=(0,U.$j)((e=>({isNavUnificationEnabled:(0,G.Z)(e)})))(se);var ie=s("../packages/components/src/card/index.tsx"),oe=s("./blocks/visit-site/index.jsx"),ae=s("./components/data/document-head/index.jsx"),re=s("./components/main/index.jsx");class ce extends d.Component{constructor(...e){super(...e),(0,q.Z)(this,"filterSites",(e=>{if(e?.options?.jetpack_connection_active_plugins&&!e.options.jetpack_connection_active_plugins.includes("jetpack"))return!1;const t=this.props.siteBasePath;return/^\/domains/.test(t)?!e.jetpack||e.options.is_automated_transfer:/^\/plans/.test(t)?!e.jetpack||e.capabilities.manage_options:/^\/hosting-config/.test(t)?!!e.capabilities.view_hosting:/^\/home/.test(t)?!(e.is_vip||e.jetpack&&!e.options.is_automated_transfer):e}))}componentDidMount(){const e=this.getPath();this.props.fromSite&&e&&(0,L.recordTracksEvent)("calypso_site_selector_site_missing",{path:e,site:this.props.fromSite})}getPath(){let e=this.props.siteBasePath.split("?")[0].split("/")[1];return void 0!==e&&(e=e.toLowerCase()),e}getHeaderText(){if(this.props.getSiteSelectionHeaderText)return this.props.getSiteSelectionHeaderText();let e=this.getPath();const{translate:t}=this.props;if(["page","post","edit","block-editor"].includes(e))return t("Select a site to start writing");switch(e){case"activity-log":e=t("Activity");break;case"stats":e=t("Insights");break;case"plans":e=t("Plans");break;case"media":e=t("Media");break;case"sharing":e=t("Sharing");break;case"people":e=t("People");break;case"domains":e=t("Domains");break;case"settings":e=t("Settings");break;case"home":e=t("My Home");break;case"hosting-config":e=t("Hosting Configuration");break;case"jetpack-search":e="Jetpack Search"}return t("Select a site to open {{strong}}%(path)s{{/strong}}",{args:{path:e},components:{strong:d.createElement("strong",null)}})}render(){const{clearPageTitle:e,fromSite:t,siteBasePath:s}=this.props;return d.createElement(d.Fragment,null,e&&d.createElement(ae.Z,{title:""}),d.createElement(re.Z,{className:"sites"},d.createElement("div",{className:"sites__select-header"},d.createElement("h2",{className:"sites__select-heading"},this.getHeaderText()),t&&d.createElement(oe.Z,{siteSlug:t})),d.createElement(ie.Z,{className:"sites__select-wrapper"},d.createElement(Y.Z,{filter:this.filterSites,siteBasePath:s,groups:!0}))))}}const le=(0,o.NC)(ce);var de=s("./state/notices/actions.ts"),ue=s("./state/preferences/actions.js"),pe=s("./state/preferences/selectors.js"),me=s("./state/selectors/get-onboarding-url.js"),he=s("./state/selectors/get-p2-hub-blog-id.js"),ge=s("./state/selectors/get-primary-domain-by-site-id.js"),fe=s("./state/selectors/is-domain-only-site.js"),ye=s("./state/selectors/is-site-migration-in-progress.js"),be=s("./state/selectors/is-site-p2-hub.js"),_e=s("./state/selectors/is-site-wpforteams.js"),je=s("./state/sites/selectors/get-site.js"),xe=s("./state/ui/selectors/get-selected-site.js"),Ze=s("./state/ui/selectors/get-selected-site-id.js");const Se=e=>({getState:()=>e.store.getState(),dispatch:t=>e.store.dispatch(t)}),ke="Sites",ve=()=>{};function Ee(e){const t=(0,_.lQ)(e.pathname);let s=e.pathname;return t&&(s=(0,_.n3)(e.pathname)),d.createElement(ne,{path:e.path,allSitesPath:s,siteBasePath:s})}function Pe(e){const{getState:t}=Se(e),s=t(),n=(0,x.ts)(s),i=n&&n.site_count-n.visible_site_count,a=(0,me.Z)(s);(0,m.QS)({group:"sites"})(e),e.primary=d.createElement(u.Z,{title:o.ZP.translate("You have %(hidden)d hidden WordPress site.","You have %(hidden)d hidden WordPress sites.",{count:i,args:{hidden:i}}),line:o.ZP.translate("To manage it here, set it to visible.","To manage them here, set them to visible.",{count:i}),action:o.ZP.translate("Change Visibility"),actionURL:"//dashboard.wordpress.com/wp-admin/index.php?page=my-blogs",secondaryAction:o.ZP.translate("Create New Site"),secondaryActionURL:`${a}?ref=calypso-nosites`,className:"no-visible-sites-message"}),(0,m.wx)(e,ve),(0,m.sY)(e)}function we(e){const t=e.store.getState(),s=(0,xe.Z)(t);if((0,ye.Z)(t,s.ID)&&!(0,r.Z)(e.pathname,"/migrate/"))return l().redirect(`/migrate/${s.slug}`),!1;const n=(0,ge.Z)(t,s.ID);return(0,fe.Z)(t,s.ID)&&!function(e,t,s,n){const i=[F.q6,F.Y9,F.OL,F.En,F.Hf,F.NP,F.tZ,F.Jk,F.G$,F.Iv,M.Fb,M.m3,M.s_,M.x9,M.Vp,M.Y,M.GZ];let o=i.map((e=>e===M.m3?(0,M.m3)(t,t,n.productType):e(t,t)));o=o.concat(i.map((e=>e(t,t,(0,F.eZ)())))),s&&t!==s.name&&(o=o.concat(i.map((e=>e(t,s.name)))));const c=["/checkout/",`/me/purchases/${t}`,`/purchases/add-payment-method/${t}`,`/purchases/billing-history/${t}`,`/purchases/payment-methods/${t}`,`/purchases/subscriptions/${t}`];return!!(0,a.Z)(c,(t=>(0,r.Z)(e,t)))||o.indexOf(e)>-1}(e.pathname,s.slug,n,e.params)?(function(e,t){e.primary=d.createElement(A.Z,{siteId:t.ID,hasNotice:!1}),e.secondary=Ee(e),(0,m.wx)(e,ve),(0,m.sY)(e)}(e,s),!1):(Ne(e),!0)}function Ne(e){const t=e.store.getState();if((0,pe.V2)(t)){const s=(0,Ze.Z)(t),n=(0,pe.Oz)(t,"recentSites");if(s&&s!==n[0]){const i=[...new Set([s,...n])].slice(0,5).filter((e=>!!(0,je.Z)(t,e)));e.store.dispatch((0,ue.zZ)("recentSites",i))}}}function Te(e,t){const{username:s,primary_blog:n,primary_blog_url:i,primary_blog_is_jetpack:a}=e,r={username:s,primary_blog:n,primary_blog_url:i,primary_blog_is_jetpack:a};e.primary_blog_is_jetpack?(t((0,de.PU)(o.ZP.translate("Please check your Primary Site's Jetpack connection"),{button:"wp-admin",href:`${e.primary_blog_url}/wp-admin`})),(0,L.recordTracksEvent)("calypso_mysites_single_site_jetpack_connection_error",r)):(0,L.recordTracksEvent)("calypso_mysites_single_site_error",r)}function Ce(e,t){const{getState:s}=Se(e),n=(0,x.ts)(s()),i=n&&n.visible_site_count>=1,o="1"===e.query?.isDomainOnly,a=e.pathname.includes("/checkout/jetpack");if(o||a||!i)return e.store.dispatch((0,E.B)(null)),t();Le(e,t)}function Le(e,t){if((0,$.Z)())return void C(e,t);const{getState:s,dispatch:n}=Se(e),o=e.params.site||(0,_.lQ)(e.path),a=((0,_.n3)(e.path,o),(0,x.ts)(s())),r=a&&1===a.visible_site_count;if(a&&0===a.site_count)return function(e){(0,m.QS)({group:"sites"})(e),e.primary=d.createElement(p.Z),(0,m.wx)(e,ve),(0,m.sY)(e)}(e),void Ie(e,o);if(a&&0===a.visible_site_count)return Pe(e),void function(e,t){Ie(e,t,"All Sites Hidden")}(e,o);if(r&&!o){const t=(0,Z.Z)(s()),i=(0,v.Z)(s(),t);return void(i?De(e,i):n((0,S.LV)(t)).catch((()=>null)).then((()=>{const i=(0,v.Z)(s(),t);i?De(e,i):Te(a,n)})))}if(!o)return n((0,E._)()),t();const c=(0,k.Z)(s(),o);c?(n((0,E.B)(c)),we(e)&&t()):n((0,S.LV)(o)).catch((()=>null)).then((a=>{let r=(0,k.Z)(s(),o);if(!r){const e=o.replace(/\b.wordpress.com/,".wpcomstaging.com");r=(0,k.Z)(s(),e)}if(r)n((0,E.B)(r)),we(e)&&t();else if(function(e,t){return"1"===e.query?.unlinked&&!!t?.URL}(e,a))(0,I.c)(function(e,t){return(0,j.Z)({page:"jetpack",action:"authorize_redirect",dest_url:(0,i.I)(window.origin+e.path,"unlinked")},(0,D.Z)(t?.URL)+"wp-admin/")}(e,a));else{const t=(0,j.Z)({site:o},(0,_.n3)(e.path,o));l().redirect(t)}}))}function $e(e,t){(0,x.Pc)(e.store.getState())?Le(e,t):t()}function Ie(e,t,s){(0,b.A)("/no-sites",`Sites > ${s||"No Sites"}`,{base_path:(0,_.n3)(e.path,t)})}function De(e,t){let s=`${e.pathname.split("/no-site")[0].replace(/\/?$/,"/")}${t}`;e.querystring&&(s+=`?${e.querystring}`),l().redirect(s)}function Ae(e,t){e.secondary=Ee(e),t()}function Fe(e,t){"1"===e.query.verified&&e.store.dispatch((0,de.RT)(o.ZP.translate("Email verified! Now that you've confirmed your email address you can publish posts on your blog."))),e.store.dispatch((0,z.Js)("content")),(0,m.QS)({group:"sites"})(e),e.primary=function(e){const t=(0,_.n3)(e.path);let s=t.split("/no-site")[0];e.querystring&&(s=`${s}?${e.querystring}`);const n="/sites"===s?"/home":s;return(0,b.A)(t,ke),d.createElement(le,{siteBasePath:n,getSiteSelectionHeaderText:e.getSiteSelectionHeaderText,fromSite:e.query.site,clearPageTitle:e.clearPageTitle})}(e),t()}function Me(e){return(t,s)=>{const n=t.store.getState();return(0,Ze.Z)(n)?s():l().redirect(e)}}function Be(e,t){const s=e.store,i=(0,xe.Z)(s.getState());if(!n.ZP.isEnabled("p2/p2-plus")&&i&&(0,_e.Z)(s.getState(),i.ID)){const e=(0,v.Z)(s.getState(),i.ID);return l().redirect(`/home/${e}`)}t()}function qe(e,t){const s=e.store,i=(0,xe.Z)(s.getState());if(n.ZP.isEnabled("p2/p2-plus")&&i&&(0,_e.Z)(s.getState(),i.ID)&&!(0,be.Z)(s.getState(),i.ID)){const e=(0,he.Z)(s.getState(),i.ID),t=(0,v.Z)(s.getState(),e);if(t)return l().redirect(`/plans/my-plan/${t}`)}t()}function Ue(e,t){const s=e.store,n=(0,xe.Z)(s.getState());if(n&&(0,_e.Z)(s.getState(),n.ID)){const e=(0,v.Z)(s.getState(),n.ID);return l().redirect(`/home/${e}`)}t()}function Re(e,t){const s=e.store.getState();(0,x.Pc)(s)?(0,h.D9)(Le,Fe,m.wx,g.s)(e):t()}},"./my-sites/domains/domain-management/list/domain-only.jsx":(e,t,s)=>{s.d(t,{Z:()=>y});var n=s("../packages/components/src/button/index.tsx"),i=s("../packages/i18n-calypso/src/index.js"),o=(s("../node_modules/prop-types/index.js"),s("../node_modules/react/index.js")),a=s("../node_modules/react-redux/es/index.js"),r=s("./assets/images/customer-home/illustration--task-find-domain.svg"),c=s("./components/data/query-site-domains/index.jsx"),l=s("./components/empty-content/index.jsx");var d=s("./lib/gsuite/has-gsuite-with-us.js"),u=s("./lib/titan/index.js"),p=s("./my-sites/domains/paths.js"),m=s("./my-sites/email/paths.js"),h=s("./state/analytics/actions/record.js"),g=s("./state/selectors/get-primary-domain-by-site-id.js"),f=s("./state/sites/selectors/get-site-slug.js");const y=(0,a.$j)(((e,t)=>({slug:(0,f.Z)(e,t.siteId),primaryDomain:(0,g.Z)(e,t.siteId)})),{recordTracks:h.jN})((0,i.NC)((({primaryDomain:e,hasNotice:t,recordTracks:s,siteId:i,slug:a,translate:h})=>{if(!e)return o.createElement("div",null,o.createElement(c.Z,{siteId:i}),o.createElement(l.Z,{className:"domain-only-site__placeholder",illustration:r}));const g=(0,d.u)(e)||(0,u.zW)(e),f=e.name,y=!!e?.currentUserCanCreateSiteFromDomainOnly;const b=`/start/site-selected/?siteSlug=${encodeURIComponent(a)}&siteId=${encodeURIComponent(i)}`;return o.createElement("div",null,o.createElement(l.Z,{title:h("%(domainName)s is ready when you are.",{args:{domainName:f}}),line:y&&h("Start a site now to unlock everything WordPress.com can offer."),action:y&&h("Create site"),actionURL:y&&b,secondaryAction:h("Manage domain"),secondaryActionURL:(0,p.OL)(a,f),illustration:r},o.createElement(n.Z,{className:"empty-content__action button",href:(0,m.Fb)(a,f),onClick:()=>{s(g?"calypso_domain_only_email_manage":"calypso_domain_only_email_cta",{domain:f})}},h(g?"Manage email":"Add email"))),t&&o.createElement("div",{className:"domain-only-site__settings-notice"},h("Your domain should start working immediately, but may be unreliable during the first 30 minutes.")))})))},"./state/selectors/get-primary-domain-by-site-id.js":(e,t,s)=>{s.d(t,{Z:()=>i});var n=s("./state/sites/domains/selectors.js");function i(e,t){const s=(0,n.eT)(e,t);return 0===s.length?null:s.filter((e=>e.isPrimary))[0]}},"./state/selectors/is-site-p2-hub.js":(e,t,s)=>{s.d(t,{Z:()=>o});var n=s("../node_modules/lodash-es/get.js"),i=s("./state/selectors/is-site-wpforteams.js");function o(e,t){return!!(0,i.Z)(e,t)&&t===(0,n.Z)(e,["sites","items",t,"options","p2_hub_blog_id"],!1)}},"./assets/images/customer-home/illustration--task-find-domain.svg":e=>{e.exports="/calypso/images/../images/illustration--task-find-domain-5170ae7aa1b7133d11e8.svg"}}]);